---
title: 12306 余票查询
author: helingfeng
tags: []
categories:
  - 公共API
translate_title: '12306'
date: 2018-04-02 15:12:00
---
## 12306 余票查询

#### 接口地址

**GET Method**

```
https://kyfw.12306.cn/otn/leftTicket/queryZ
```

#### 接口参数

**parameters**

```
leftTicketDTO.train_date=2018-02-18&leftTicketDTO.from_station=BJP&leftTicketDTO.to_station=SHH&purpose_codes=ADULT
```

| 请求参数 | 参数类型 | 描述 |
| ------------ | ------------ |
| leftTicketDTO.train_date  |  string  | Y-m-d 时间 |
| leftTicketDTO.from_station  |  string | 起始车站编码 |
| leftTicketDTO.to_station  |  string  | 终点车站编码 |
| purpose_codes  | string | 附加条件（ADULT 成人票，0X00 学生票） |

#### 所有车站编码对照

[https://kyfw.12306.cn/otn/resources/js/framework/station_name.js?station_version=1.9047](https://kyfw.12306.cn/otn/resources/js/framework/station_name.js?station_version=1.9047 "https://kyfw.12306.cn/otn/resources/js/framework/station_name.js?station_version=1.9047")

#### 接口返回

[https://kyfw.12306.cn/otn/leftTicket/queryZ?leftTicketDTO.train_date=2018-02-19&leftTicketDTO.from_station=BJP&leftTicketDTO.to_station=SHH&purpose_codes=ADULT](https://kyfw.12306.cn/otn/leftTicket/queryZ?leftTicketDTO.train_date=2018-02-19&leftTicketDTO.from_station=BJP&leftTicketDTO.to_station=SHH&purpose_codes=ADULT "https://kyfw.12306.cn/otn/leftTicket/queryZ?leftTicketDTO.train_date=2018-02-19&leftTicketDTO.from_station=BJP&leftTicketDTO.to_station=SHH&purpose_codes=ADULT")

```
{
    "data": {
        "flag": "1",
        "map": {
            "AOH": "上海虹桥",
            "BJP": "北京",
            "SHH": "上海",
            "VNP": "北京南"
        },
        "result": [
            "|23:00-06:00系统维护时间|240000G1010D|G101|VNP|AOH|VNP|AOH|06:43|12:39|05:56|IS_TIME_NOT_BUY|m6x834Y1%2Fdp%2BurLu8dI6uYsKPCOZsDpYJLqIvIE9cY2orkrX|20180219|3|P2|01|11|1|0|||||||||||有|有|7||O0M090|OM9|0",
            "|23:00-06:00系统维护时间|240000G10325|G103|VNP|AOH|VNP|AOH|06:53|12:49|05:56|IS_TIME_NOT_BUY|w%2FLnQ0ETp%2Fja1rOHO7S7YfVUb%2BijsiQFasMAneG6A8k4h6Dc|20180219|3|P3|01|11|1|0|||||||||||有|有|17||O0M090|OM9|0"
        ]
    },
    "httpstatus": 200,
    "messages": "",
    "status": true
}
```

| 返回字段 |  描述内容 |
| ------------ | ------------ |
|  map  |  包含查询结果中的所有车站编码信息  |
|  result  |  表示所有查询符合条件的列车信息，编号，起止车站，查询条件对于车站的出发时间与到达时间  |
|  httpstatus |  查询状态200 正常 |

#### 座位标识
```
'swz_num' => '商务座',
'tz_num' => '特等座',
'zy_num' => '一等座',
'ze_num' => '二等座',
'gr_num' => '高级软卧',
'rw_num' => '软卧',
'yw_num' => '硬卧',
'rz_num' => '软座',
'yz_num' => '硬座',
'wz_num' => '无座',
'qt_num' => '其它'
```

#### 接口返回字符串参数映射

| 字段描述  | 索引值 |
| ------------ | ------------ |
|secretStr|0|
|buttonTextInfo|1|
|train_no|2|
|station_train_code|3|
|start_station_telecode|4|
|end_station_telecode|5|
|from_station_telecode|6|
|to_station_telecode|7|
|start_time|8|
|arrive_time|9|
|lishi|10|
|canWebBuy|11|
|yp_info|12|
|start_train_date|13|
|train_seat_feature|14|
|location_code|15|
|from_station_no|16|
|to_station_no|17|
|is_support_card|18|
|controlled_train_flag|19|
|gg_num|20|
|gr_num|21|
|qt_num|22|
|rw_num|23|
|rz_num|24|
|tz_num|25|
|wz_num|26|
|yb_num|27|
|yw_num|28|
|yz_num|29|
|ze_num|30|
|zy_num|31|
|swz_num|32|
|srrb_num|33|
|yp_ex|34|
|seat_types|35|