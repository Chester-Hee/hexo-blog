<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è¿½èµ¶æ—¥è½æ—¥å‡º</title>
  <icon>https://www.gravatar.com/avatar/7332532c35204b7ffa837ec218207b84</icon>
  <subtitle>ä½•å‡Œæ«</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/"/>
  <updated>2019-08-19T02:25:51.363Z</updated>
  <id>https://xuehui.æˆ‘çˆ±ä½ /</id>
  
  <author>
    <name>helingfeng</name>
    <email>dreamhelingfeng@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>POST è¯·æ±‚ application/x-www-form-urlencoded ä¸ multipart/form-data åŒºåˆ«</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2019-08-10/form-content-types/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2019-08-10/form-content-types/</id>
    <published>2019-08-10T07:55:00.000Z</published>
    <updated>2019-08-19T02:25:51.363Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚ä½•æ­£ç¡®é€‰æ‹© <code>Form</code> çš„ <code>Content-type</code> ç±»å‹ï¼Ÿ</p><ul><li><ol><li><code>application/x-www-form-urlencoded</code>ï¼Œè¡¨å•é»˜è®¤çš„ <code>Content-type</code> ç±»å‹ï¼Œæ”¯æŒ <code>ASCII</code> çš„ <code>text</code> æ–‡æœ¬å†…å®¹</li></ol></li><li><ol start="2"><li><code>multipart/form-data</code>ï¼Œå…è®¸æäº¤è¡¨å•åŒ…å«ï¼š <code>files</code>ï¼Œ<code>non-ASCII</code>ï¼Œ<code>Binary</code></li></ol></li><li><ol start="3"><li><code>Row</code>ï¼Œç”¨äºå‘é€çº¯æ–‡æœ¬ï¼Œæˆ– <code>JSON</code> ï¼Œæˆ–å…¶ä»–ç±»å‹å­—ç¬¦ä¸²ï¼Œå®¢æˆ·ç«¯ä¸ä¼šå¯¹æ•°æ®åšä»»ä½•çš„ä¿®æ”¹</li></ol></li><li><ol start="4"><li><code>Binary</code>ï¼Œç”¨äºè¯·æ±‚éœ€è¦é™„å¸¦éæ–‡æœ¬çš„æ•°æ®ï¼Œæ¯”å¦‚ <code>video/audio</code> æˆ–è€… <code>images</code> æˆ–è€…å…¶ä»– <code>Binary</code> æ•°æ®æ–‡ä»¶</li></ol></li></ul><h2 id="application-x-www-form-urlencoded"><a href="#application-x-www-form-urlencoded" class="headerlink" title="application/x-www-form-urlencoded"></a>application/x-www-form-urlencoded</h2><p>å½“è¡¨å•ä½¿ç”¨ <code>application/x-www-form-urlencoded</code> æ—¶ï¼Œéœ€è¦å¯¹å‚æ•°è¿›è¡Œ<code>urlencode ç¼–ç </code>å’Œ<code>åºåˆ—åŒ–</code></p><p>å¦‚ï¼Œè¡¨å•æäº¤å‚æ•°ï¼ˆkey-valueï¼‰ä¸ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">param1:website</span><br><span class="line">param2:https://www.google.com</span><br></pre></td></tr></table></figure></p><p>ç»è¿‡ <code>urlencode</code> ç¼–ç åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">param1:website</span><br><span class="line">param2:https%3A%2F%2Fwww.google.com</span><br></pre></td></tr></table></figure><p>å†ç»è¿‡åºåˆ—åŒ–ï¼Œå¾—åˆ°ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">param1=website&amp;param2=https%3A%2F%2Fwww.google.com</span><br></pre></td></tr></table></figure><h2 id="multipart-form-data"><a href="#multipart-form-data" class="headerlink" title="multipart/form-data"></a>multipart/form-data</h2><p>ä¸€ä¸ª <code>multipart/form-data</code> æ¶ˆæ¯ä½“ï¼ŒåŒ…å«å¤šä¸ªå—ç»„æˆï¼Œæ¯ä¸ªå—ä»£è¡¨ä¸€ä¸ªæœ‰æ•ˆçš„è¡¨å•æ§ä»¶ï¼Œå¹¶ä½¿ç”¨ <code>boundary</code> çš„å­—ç¬¦ä¸²åˆ†å‰²ï¼š</p><ul><li><ol><li>ç¬¬ä¸€éƒ¨åˆ†ï¼Œ<code>Content-Disposition: form-data</code> å‚æ•°åç§°ï¼Œå¦‚ï¼Œ<code>name=&quot;my_control</code></li></ol></li><li><ol start="2"><li>ç¬¬äºŒéƒ¨åˆ†ï¼Œ<code>Content-Type: text/plain</code></li></ol></li></ul><p>ä¾‹å¦‚è¡¨å•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;FORM action=&quot;http://server.com/cgi/handle&quot;</span><br><span class="line">       enctype=&quot;multipart/form-data&quot;</span><br><span class="line">       method=&quot;post&quot;&gt;</span><br><span class="line">   &lt;P&gt;</span><br><span class="line">   What is your name? &lt;INPUT type=&quot;text&quot; name=&quot;submit-name&quot;&gt;&lt;BR&gt;</span><br><span class="line">   What files are you sending? &lt;INPUT type=&quot;file&quot; name=&quot;files&quot;&gt;&lt;BR&gt;</span><br><span class="line">   &lt;INPUT type=&quot;submit&quot; value=&quot;Send&quot;&gt;</span><br><span class="line">   &lt;INPUT type=&quot;reset&quot;&gt;</span><br><span class="line">&lt;/FORM&gt;</span><br></pre></td></tr></table></figure><p>å‡è®¾ï¼Œ<code>submit-name</code> è¾“å…¥ <code>Larry</code> æ–‡æœ¬ï¼Œ<code>files</code> é€‰æ‹©æ–‡ä»¶ <code>file1.txt</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: multipart/form-data; boundary=AaB03x</span><br><span class="line"></span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;submit-name&quot;</span><br><span class="line"></span><br><span class="line">Larry</span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;file1.txt&quot;</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">... contents of file1.txt ...</span><br><span class="line">--AaB03x--</span><br></pre></td></tr></table></figure><p>å‚è€ƒæ–‡çŒ®ï¼š<a href="https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4" target="_blank" rel="noopener">https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¦‚ä½•æ­£ç¡®é€‰æ‹© &lt;code&gt;Form&lt;/code&gt; çš„ &lt;code&gt;Content-type&lt;/code&gt; ç±»å‹ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt;ï¼Œè¡¨å•é»˜è®¤çš„ &lt;code
      
    
    </summary>
    
      <category term="HTTP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/HTTP/"/>
    
    
      <category term="POST" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/POST/"/>
    
  </entry>
  
  <entry>
    <title>SSH è¿œç¨‹è‡ªåŠ¨ç™»å½•è„šæœ¬</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2019-07-10/ssh-remote-automatic-login-script/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2019-07-10/ssh-remote-automatic-login-script/</id>
    <published>2019-07-10T07:55:00.000Z</published>
    <updated>2019-07-10T08:50:57.361Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨è¿‡ <code>SSH</code> è¿œç¨‹ç™»å½•ä¸€å°æœåŠ¡å™¨ï¼Œç™»å½•éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”æœåŠ¡å™¨å¯†ç ä¸€èˆ¬å¾ˆéš¾é è„‘è®°ä½ï¼›<code>Windows</code> ç”¨æˆ·å¯ä»¥ä½¿ç”¨ <code>XShell</code> è¿™ç§å¼ºå¤§çš„å·¥å…·ï¼Œä½†æ˜¯ Linux æˆ–è€… Mac ç”¨æˆ·æ›´å€¾å‘äºå‘½ä»¤è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ã€‚</p><p>å¼€æºçš„ <code>autossh</code> å·¥å…·ï¼Œå°±ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ expect å·¥å…·å®Œæˆäº¤äº’ï¼Œè‡ªåŠ¨æ ¹æ®é…ç½®ç”¨æˆ·åå¯†ç ç™»å½•æŒ‡å®šæœåŠ¡å™¨ã€‚</p><h3 id="å®‰è£…-expect-å·¥å…·"><a href="#å®‰è£…-expect-å·¥å…·" class="headerlink" title="å®‰è£… expect å·¥å…·"></a>å®‰è£… expect å·¥å…·</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Linux:</span><br><span class="line">$ yum install expect</span><br><span class="line">$ apt-get install expect</span><br><span class="line"></span><br><span class="line">Mac:</span><br><span class="line">$ brew install expect</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-autossh-å‘½ä»¤"><a href="#å®‰è£…-autossh-å‘½ä»¤" class="headerlink" title="å®‰è£… autossh å‘½ä»¤"></a>å®‰è£… autossh å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/FeeiCN/autossh.git</span><br><span class="line">$ sudo cp autossh/autossh /usr/local/bin/</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°é…ç½®æ–‡ä»¶"><a href="#æ›´æ–°é…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ–°é…ç½®æ–‡ä»¶"></a>æ›´æ–°é…ç½®æ–‡ä»¶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vim ~/.autosshrc</span><br><span class="line"></span><br><span class="line">æ·»åŠ æœåŠ¡å™¨é…ç½®ï¼Œå¦‚ä¸‹æ ¼å¼ï¼š</span><br><span class="line">server_name|192.168.1.110|root|password|port|is_bastion</span><br></pre></td></tr></table></figure><h3 id="è¿œç¨‹ç™»å½•æœåŠ¡å™¨å‘½ä»¤"><a href="#è¿œç¨‹ç™»å½•æœåŠ¡å™¨å‘½ä»¤" class="headerlink" title="è¿œç¨‹ç™»å½•æœåŠ¡å™¨å‘½ä»¤"></a>è¿œç¨‹ç™»å½•æœåŠ¡å™¨å‘½ä»¤</h3><p>è¾“å…¥ <code>autossh</code> å¹¶é€‰æ‹©éœ€è¦ç™»å½•çš„æœåŠ¡å™¨ç¼–å·<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ autossh</span><br><span class="line">############################################################ </span><br><span class="line">#                     [AUTO SSH]                           # </span><br><span class="line">#                                                          # </span><br><span class="line">#                                                          # </span><br><span class="line"># [1] www.my-server.com - 192.168.192.110:root             # </span><br><span class="line">#                                                          # </span><br><span class="line">#                                                          # </span><br><span class="line">############################################################ </span><br><span class="line">Server Number: 1</span><br></pre></td></tr></table></figure></p><h3 id="å¦‚æœè‡ªå·±ä¹Ÿæƒ³å†™ä¸€ä¸ª-SSH-è‡ªåŠ¨ç™»å½•è„šæœ¬"><a href="#å¦‚æœè‡ªå·±ä¹Ÿæƒ³å†™ä¸€ä¸ª-SSH-è‡ªåŠ¨ç™»å½•è„šæœ¬" class="headerlink" title="å¦‚æœè‡ªå·±ä¹Ÿæƒ³å†™ä¸€ä¸ª SSH è‡ªåŠ¨ç™»å½•è„šæœ¬"></a>å¦‚æœè‡ªå·±ä¹Ÿæƒ³å†™ä¸€ä¸ª SSH è‡ªåŠ¨ç™»å½•è„šæœ¬</h3><p>å¯ä»¥ç›´æ¥ä½¿ç”¨ expect å·¥å…·ï¼Œä¾‹å¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/expect</span><br><span class="line"></span><br><span class="line">spawn ssh root@192.168.192.110</span><br><span class="line">expect &quot;password:&quot;</span><br><span class="line"></span><br><span class="line">send &quot;12345678.\r&quot;</span><br></pre></td></tr></table></figure><blockquote><p>å…ˆæ¨èä¸€æ¬¾ <code>WEB</code> æµç¨‹å›¾åœ¨çº¿ç¼–è¾‘å·¥å…·ï¼š<a href="https://www.draw.io" target="_blank" rel="noopener">https://www.draw.io</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æˆ‘ä»¬ä½¿ç”¨è¿‡ &lt;code&gt;SSH&lt;/code&gt; è¿œç¨‹ç™»å½•ä¸€å°æœåŠ¡å™¨ï¼Œç™»å½•éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”æœåŠ¡å™¨å¯†ç ä¸€èˆ¬å¾ˆéš¾é è„‘è®°ä½ï¼›&lt;code&gt;Windows&lt;/code&gt; ç”¨æˆ·å¯ä»¥ä½¿ç”¨ &lt;code&gt;XShell&lt;/code&gt; è¿™ç§å¼ºå¤§çš„å·¥å…·ï¼Œä½†æ˜¯ Linux æˆ–è€… Mac ç”¨æˆ·æ›´
      
    
    </summary>
    
      <category term="Linux" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Linux/"/>
    
    
      <category term="SSH" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/SSH/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯JSå‹ç¼©å›¾ç‰‡ï¼Œå¹¶è§£å†³æ—‹è½¬é—®é¢˜</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2019-06-26/use-javascript-compressed-pictures/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2019-06-26/use-javascript-compressed-pictures/</id>
    <published>2019-06-26T12:00:00.000Z</published>
    <updated>2019-06-27T02:59:28.323Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JavaScript-å‹ç¼©å›¾ç‰‡"><a href="#JavaScript-å‹ç¼©å›¾ç‰‡" class="headerlink" title="JavaScript å‹ç¼©å›¾ç‰‡"></a>JavaScript å‹ç¼©å›¾ç‰‡</h2><p>â˜˜ï¸WEBå‰ç«¯ä¸Šä¼ æ–‡ä»¶åˆ°è¿œç¨‹æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šé‡åˆ°åŒæ ·ä¸€ä¸ªé—®é¢˜ï¼Œè¯·æ±‚é•¿åº¦è¶…å‡ºé™åˆ¶ï¼Œæ˜¯çš„ï¼Œ<strong>æ–‡ä»¶å¤§å°è¶…å‡ºé™åˆ¶</strong>è¯¥å¦‚ä½•è§£å†³ï¼Ÿ</p><p>æˆ‘è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p><ul><li>ç¬¬ä¸€ç§ï¼Œ<strong>å‰ç«¯å‹ç¼©</strong>åä¸Šä¼ å›¾ç‰‡</li><li>ç¬¬äºŒç§ï¼Œ<strong>åˆ†å—ä¸Šä¼ </strong>ï¼Œåå°è¿›è¡Œå‹ç¼©å­˜å‚¨</li><li>å…¶å®æœ‰ç¬¬ä¸‰ç§ï¼Œä¸å…è®¸ä¸Šä¼ æ­¤æ–‡ä»¶ ğŸ˜…</li></ul><p>å¦‚æœåªè€ƒè™‘ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œå‰ç«¯å‹ç¼©å›¾ç‰‡åä¸Šä¼ ï¼Œå¯¹äºå‹ç¼©å›¾ç‰‡çš„å¤§å°å’Œè´¨é‡æ— æ³•æŠŠæ§ï¼Œå¹¶ä¸”éå›¾ç‰‡ç±»å‹çš„æ–‡ä»¶ä¸Šä¼ åˆè¦è€ƒè™‘éå›¾ç‰‡ç±»å‹æ–‡ä»¶çš„å‹ç¼©æ–¹æ³•ã€‚<br>ç¬¬äºŒç§æ–¹å¼ï¼Œå®ç°åˆ†å—ä¸Šä¼ å¯¹ç¼–ç è¦æ±‚æ›´é«˜ï¼Œåç«¯å’Œå‰ç«¯éƒ½éœ€è¦å®ç°å¯é çš„ç»„ä»¶ã€‚</p><p>æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬<strong>åªäº†è§£å¦‚ä½•ä½¿ç”¨å‰ç«¯å‹ç¼©å›¾ç‰‡</strong></p><p>æˆ‘ç”»äº†ä¸€å¼ å›¾ï¼Œå¤§è‡´æè¿°å‰ç«¯å‹ç¼©å›¾ç‰‡æ•´ä¸ªæµç¨‹è°ƒç”¨</p><p><img src="/images/demo11.jpg" alt="demo11"></p><p>ä½¿ç”¨ <code>JavaScript</code> å‹ç¼©å›¾ç‰‡ï¼Œé¦–å…ˆè¦å­¦ä¹ ä¸‰ä¸ª<code>Web API</code>: <code>FileReader</code>ï¼Œ<code>Canvas</code>ï¼Œ<code>Blob</code></p><h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><p>FileReader å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ï¼ˆæˆ–åŸå§‹æ•°æ®ç¼“å†²åŒºï¼‰çš„å†…å®¹ï¼Œä½¿ç”¨ File æˆ– Blob å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚</p><p>æˆå‘˜æ–¹æ³•ï¼š</p><ul><li><code>FileReader.abort()</code>ä¸­æ­¢è¯»å–æ“ä½œã€‚åœ¨è¿”å›æ—¶ï¼Œ<code>readyState</code>å±æ€§ä¸º<code>DONE</code>ã€‚</li><li><code>FileReader.readAsArrayBuffer()</code>å¼€å§‹è¯»å–æŒ‡å®šçš„<code>Blob</code>ä¸­çš„å†…å®¹, ä¸€æ—¦å®Œæˆ, <code>result</code> å±æ€§ä¸­ä¿å­˜çš„å°†æ˜¯è¢«è¯»å–æ–‡ä»¶çš„ <code>ArrayBuffer</code> æ•°æ®å¯¹è±¡.</li><li><code>FileReader.readAsBinaryString()</code>å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±æ€§ä¸­å°†åŒ…å«æ‰€è¯»å–æ–‡ä»¶çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ã€‚</li><li><code>FileReader.readAsDataURL()</code>å¼€å§‹è¯»å–æŒ‡å®šçš„<code>Blob</code>ä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œ<code>result</code>å±æ€§ä¸­å°†åŒ…å«ä¸€ä¸ª<code>data: URL</code>æ ¼å¼çš„å­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–æ–‡ä»¶çš„å†…å®¹ã€‚</li><li><code>FileReader.readAsText()</code>å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œ<code>result</code>å±æ€§ä¸­å°†åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–çš„æ–‡ä»¶å†…å®¹ã€‚</li></ul><p>äº‹ä»¶å¤„ç†ï¼š</p><ul><li><code>FileReader.onabort</code>å¤„ç†<code>abort</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œè¢«ä¸­æ–­æ—¶è§¦å‘ã€‚</li><li><code>FileReader.onerror</code>å¤„ç†<code>error</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œå‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚</li><li><code>FileReader.onload</code>å¤„ç†<code>load</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œå®Œæˆæ—¶è§¦å‘ã€‚</li><li><code>FileReader.onloadstart</code>å¤„ç†<code>loadstart</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œå¼€å§‹æ—¶è§¦å‘ã€‚</li><li><code>FileReader.onloadend</code>å¤„ç†<code>loadend</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–æ“ä½œç»“æŸæ—¶ï¼ˆè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼‰è§¦å‘ã€‚</li><li><code>FileReader.onprogress</code>å¤„ç†<code>progress</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åœ¨è¯»å–<code>Blob</code>æ—¶è§¦å‘</li></ul><p>å›¾ç‰‡å‹ç¼©è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°<code>FileReader.readAsDataURL()</code>å°†æ–‡ä»¶è½¬æ¢ä¸º<code>DataURL</code>ï¼Œå¹¶ä½¿ç”¨<code>FileReader.onload</code>äº‹ä»¶æ¥æ”¶è½¬æ¢ç»“æœã€‚</p><p>ä»£ç å®ç°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ready = <span class="keyword">new</span> FileReader();</span><br><span class="line">ready.readAsDataURL(file);</span><br><span class="line">ready.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">this</span>.result;</span><br><span class="line">    <span class="comment">// re ä¸º Base64 DataURL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><p>HTML5 <code>&lt;canvas&gt;</code> æ ‡ç­¾ç”¨äºç»˜åˆ¶å›¾åƒï¼ˆé€šè¿‡è„šæœ¬ï¼Œé€šå¸¸æ˜¯ JavaScriptï¼‰ã€‚ä¸è¿‡ï¼Œ<code>&lt;canvas&gt;</code> å…ƒç´ æœ¬èº«å¹¶æ²¡æœ‰ç»˜åˆ¶èƒ½åŠ›ï¼ˆå®ƒä»…ä»…æ˜¯å›¾å½¢çš„å®¹å™¨ï¼‰ - æ‚¨å¿…é¡»ä½¿ç”¨è„šæœ¬æ¥å®Œæˆå®é™…çš„ç»˜å›¾ä»»åŠ¡ã€‚</p><ul><li>getContext() æ–¹æ³•å¯è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡æä¾›äº†ç”¨äºåœ¨ç”»å¸ƒä¸Šç»˜å›¾çš„æ–¹æ³•å’Œå±æ€§</li><li>getContext(â€œ2dâ€) å¯¹è±¡å±æ€§å’Œæ–¹æ³•ï¼Œå¯ç”¨äºåœ¨ç”»å¸ƒä¸Šç»˜åˆ¶æ–‡æœ¬ã€çº¿æ¡ã€çŸ©å½¢ã€åœ†å½¢ç­‰ç­‰</li></ul><p><strong>drawImage</strong> drawImage() æ–¹æ³•åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å›¾åƒã€ç”»å¸ƒæˆ–è§†é¢‘</p><p>ä¸‰ç§é‡è½½æ–¹å¼ï¼š</p><ol><li><p>context.drawImage(img,x,y); // åœ¨ç”»å¸ƒä¸Šå®šä½å›¾åƒ</p></li><li><p>context.drawImage(img,x,y,width,height); // åœ¨ç”»å¸ƒä¸Šå®šä½å›¾åƒï¼Œå¹¶è§„å®šå›¾åƒçš„å®½åº¦å’Œé«˜åº¦</p></li><li><p>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height); // å‰ªåˆ‡å›¾åƒï¼Œå¹¶åœ¨ç”»å¸ƒä¸Šå®šä½è¢«å‰ªåˆ‡çš„éƒ¨åˆ†</p></li></ol><p>å›¾ç‰‡è£å‰ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå‹ç¼©ä¿®æ”¹å›¾ç‰‡çš„å¤§å°ï¼ˆå®ç°ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼‰</p><p>ä»£ç å®ç°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">img.src = path;</span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">// ç­‰æ¯”ä¾‹ç¼©æ”¾</span></span><br><span class="line">    <span class="keyword">var</span> w = that.width,</span><br><span class="line">        h = that.height,</span><br><span class="line">        scale = w / h;</span><br><span class="line">    w = obj.width || w;</span><br><span class="line">    h = obj.height || (w / scale);</span><br><span class="line">    <span class="keyword">var</span> quality = <span class="number">0.7</span>;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">    <span class="keyword">var</span> anw = <span class="built_in">document</span>.createAttribute(<span class="string">"width"</span>);</span><br><span class="line">    anw.nodeValue = w;</span><br><span class="line">    <span class="keyword">var</span> anh = <span class="built_in">document</span>.createAttribute(<span class="string">"height"</span>);</span><br><span class="line">    anh.nodeValue = h;</span><br><span class="line">    canvas.setAttributeNode(anw);</span><br><span class="line">    canvas.setAttributeNode(anh);</span><br><span class="line">    ctx.drawImage(that, <span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">    <span class="keyword">if</span>(obj.quality &amp;&amp; obj.quality &lt;= <span class="number">1</span> &amp;&amp; obj.quality &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        quality = obj.quality;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> base64 = canvas.toDataURL(<span class="string">'image/jpeg'</span>, quality);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h3><p><code>Blob</code>å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚<code>Blob</code>è¡¨ç¤ºçš„ä¸ä¸€å®šæ˜¯<code>JavaScript</code>åŸç”Ÿæ ¼å¼çš„æ•°æ®ã€‚<code>File</code>æ¥å£åŸºäº<code>Blob</code>ï¼Œç»§æ‰¿äº†<code>blob</code>çš„åŠŸèƒ½å¹¶å°†å…¶æ‰©å±•ä½¿å…¶æ”¯æŒç”¨æˆ·ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚</p><p>è¦ä»å…¶ä»–é<code>blob</code>å¯¹è±¡å’Œæ•°æ®æ„é€ ä¸€ä¸ª<code>Blob</code>ï¼Œè¯·ä½¿ç”¨<code>Blob()</code>æ„é€ å‡½æ•°ã€‚è¦åˆ›å»ºåŒ…å«å¦ä¸€ä¸ª<code>blob</code>æ•°æ®çš„å­é›†<code>blob</code>ï¼Œè¯·ä½¿ç”¨<code>slice()</code>æ–¹æ³•ã€‚</p><p>æ­¤å¤„ <code>slice()</code> ä¹Ÿæ˜¯ç”¨äºåˆ†å—ä¸Šä¼ çš„è°ƒç”¨æ–¹æ³•</p><p>æœ¬æ–‡å‰ç«¯å‹ç¼©å›¾ç‰‡æµç¨‹ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°<code>Blob()</code>æ„é€ å‡½æ•°</p><p>ä¸‹é¢ä»£ç å®ç°ï¼šDataURL åˆ›å»º Blob å¯¹è±¡ï¼Œæä¾›ä¸Šä¼ è¡¨å•<code>form-data</code>ä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataURLtoFile</span>(<span class="params">dataurl, filename</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = dataurl.split(<span class="string">','</span>), mime = arr[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>],</span><br><span class="line">    bstr = atob(arr[<span class="number">1</span>]), n = bstr.length, u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(n);</span><br><span class="line">  <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">    u8arr[n] = bstr.charCodeAt(n);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> File([u8arr], filename, &#123;<span class="attr">type</span>:mime&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å›¾ç‰‡æ‹æ‘„è§’åº¦é—®é¢˜"><a href="#å›¾ç‰‡æ‹æ‘„è§’åº¦é—®é¢˜" class="headerlink" title="å›¾ç‰‡æ‹æ‘„è§’åº¦é—®é¢˜"></a>å›¾ç‰‡æ‹æ‘„è§’åº¦é—®é¢˜</h3><p>é¦–å…ˆæ¥äº†è§£ä¸€ä¸ªæ¦‚å¿µ <code>EXIF</code> æ˜¯ä»€ä¹ˆ?</p><p>ç®€å•æ¥è¯´ï¼Œ<code>Exif</code>ä¿¡æ¯å°±æ˜¯ç”±æ•°ç ç›¸æœºåœ¨æ‹æ‘„è¿‡ç¨‹ä¸­é‡‡é›†ä¸€ç³»åˆ—çš„ä¿¡æ¯ï¼Œç„¶åæŠŠä¿¡æ¯æ”¾ç½®åœ¨æˆ‘ä»¬ç†ŸçŸ¥çš„<code>JPEG/TIFF</code>æ–‡ä»¶çš„å¤´éƒ¨ï¼Œä¹Ÿå°±æ˜¯è¯´<code>Exif</code>ä¿¡æ¯æ˜¯é•¶åµŒåœ¨ <code>JPEG/TIFF</code>å›¾åƒæ–‡ä»¶æ ¼å¼å†…çš„ä¸€ç»„æ‹æ‘„å‚æ•°ã€‚ä¸»è¦åŒ…å«äº†ä»¥ä¸‹å‡ ç±»ä¿¡æ¯ï¼š</p><ul><li>æ‹æ‘„æ—¥æœŸ</li><li>æ‘„å™¨æï¼ˆæœºèº«ã€é•œå¤´ã€é—ªå…‰ç¯ç­‰</li><li>æ‹æ‘„å‚æ•°ï¼ˆå¿«é—¨é€Ÿåº¦ã€å…‰åœˆFå€¼ã€ISOé€Ÿåº¦ã€ç„¦è·ã€æµ‹å…‰æ¨¡å¼ç­‰</li><li>å›¾åƒå¤„ç†å‚æ•°ï¼ˆé”åŒ–ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦ã€ç™½å¹³è¡¡ç­‰ï¼‰</li><li>å›¾åƒæè¿°åŠç‰ˆæƒä¿¡æ¯</li><li>GPSå®šä½æ•°æ®</li><li>ç¼©ç•¥å›¾</li></ul><p>å…¶ä¸­<code>orientation</code>è®°å½•ç€æ‹æ‘„åå›¾ç‰‡æ—‹è½¬çš„è§’åº¦ä¿¡æ¯ï¼š<a href="https://www.impulseadventure.com/photo/exif-orientation.html" target="_blank" rel="noopener">https://www.impulseadventure.com/photo/exif-orientation.html</a></p><table><thead><tr><th style="text-align:center">orientation</th><th style="text-align:center">æ—‹è½¬è§’åº¦</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">0Â°</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">180Â°</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">é¡ºæ—¶é’ˆ90Â°</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">é€†æ—¶é’ˆ90Â°</td></tr></tbody></table><p>æ‰€ä»¥ï¼Œä¸Šä¼ å›¾ç‰‡æ—¶ï¼Œéœ€è¦å°†å›¾ç‰‡è¿›è¡Œåå‘æ—‹è½¬ï¼Œæ‰èƒ½å¾—åˆ°ä¸€è‡´çš„å±•ç¤ºæ•ˆæœã€‚</p><p>å¼€å§‹æ—‹è½¬å›¾ç‰‡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è·å–å›¾ç‰‡æ—‹è½¬ä¿¡æ¯ï¼Œéœ€è¦å¼•å…¥æ‰©å±•ï¼š<a href="https://github.com/exif-js/exif-js" target="_blank" rel="noopener">https://github.com/exif-js/exif-js</a></p><p>ç„¶åï¼Œå°±å¯ä»¥ç¼–å†™ä»£ç å®ç°ï¼šï¼ˆæ‰€æœ‰çš„æ—‹è½¬éƒ½æ˜¯ä»¥åŸç‚¹ä¸ºä¸­å¿ƒçš„ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">const</span> anw = <span class="built_in">document</span>.createAttribute(<span class="string">'width'</span>);</span><br><span class="line"><span class="keyword">const</span> anh = <span class="built_in">document</span>.createAttribute(<span class="string">'height'</span>);</span><br><span class="line">anw.nodeValue = w;</span><br><span class="line">anh.nodeValue = h;</span><br><span class="line"><span class="keyword">switch</span> (orientation) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">6</span>: <span class="comment">// 90åº¦</span></span><br><span class="line">    anw.nodeValue = h;</span><br><span class="line">    anh.nodeValue = w;</span><br><span class="line">    canvas.setAttributeNode(anh);</span><br><span class="line">    canvas.setAttributeNode(anw);</span><br><span class="line">    ctx.rotate(<span class="built_in">Math</span>.PI / <span class="number">2</span>);</span><br><span class="line">    ctx.drawImage(<span class="keyword">this</span>, <span class="number">0</span>, -h, w, h);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// 180åº¦</span></span><br><span class="line">    canvas.setAttributeNode(anh);</span><br><span class="line">    canvas.setAttributeNode(anw);</span><br><span class="line">    ctx.rotate(<span class="built_in">Math</span>.PI);</span><br><span class="line">    ctx.drawImage(<span class="keyword">this</span>, -w, -h, w, h);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">8</span>: <span class="comment">// -90åº¦</span></span><br><span class="line">    anw.nodeValue = h;</span><br><span class="line">    anh.nodeValue = w;</span><br><span class="line">    canvas.setAttributeNode(anh);</span><br><span class="line">    canvas.setAttributeNode(anw);</span><br><span class="line">    ctx.rotate(<span class="number">3</span> * <span class="built_in">Math</span>.PI / <span class="number">2</span>);</span><br><span class="line">    ctx.drawImage(<span class="keyword">this</span>, -w, <span class="number">0</span>, w, h);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>: <span class="comment">// 0åº¦</span></span><br><span class="line">    canvas.setAttributeNode(anh);</span><br><span class="line">    canvas.setAttributeNode(anw);</span><br><span class="line">    ctx.drawImage(<span class="keyword">this</span>, <span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;JavaScript-å‹ç¼©å›¾ç‰‡&quot;&gt;&lt;a href=&quot;#JavaScript-å‹ç¼©å›¾ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;JavaScript å‹ç¼©å›¾ç‰‡&quot;&gt;&lt;/a&gt;JavaScript å‹ç¼©å›¾ç‰‡&lt;/h2&gt;&lt;p&gt;â˜˜ï¸WEBå‰ç«¯ä¸Šä¼ æ–‡ä»¶åˆ°è¿œç¨‹æ—¶ï¼Œæˆ‘ä»¬
      
    
    </summary>
    
      <category term="JavaScript" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/JavaScript/"/>
    
      <category term="canvas" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Laravel-Swagger ç¼–å†™æ¥å£æ–‡æ¡£</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2019-05-25/use-laravel-swagger-writing-document/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2019-05-25/use-laravel-swagger-writing-document/</id>
    <published>2019-05-25T09:00:00.000Z</published>
    <updated>2019-06-24T08:05:58.127Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Swagger-æ–‡æ¡£ç®¡ç†"><a href="#Swagger-æ–‡æ¡£ç®¡ç†" class="headerlink" title="Swagger æ–‡æ¡£ç®¡ç†"></a>Swagger æ–‡æ¡£ç®¡ç†</h2><p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://swagger.io/" target="_blank" rel="noopener">https://swagger.io/</a></p><p>å¿«é€Ÿç¼–å†™ä½ çš„ <code>RESTFUL API</code> æ¥å£æ–‡æ¡£å·¥å…·ï¼Œé€šè¿‡æ³¨é‡Šå®šä¹‰æ¥å£å’Œæ¨¡å‹ï¼Œå¯ä»¥å’Œä»£ç æ–‡ä»¶æ”¾ç½®ä¸€èµ·ï¼Œä¹Ÿå¯ä»¥å•ç‹¬æ–‡ä»¶å­˜æ”¾ã€‚</p><p><strong>ä¼˜åŠ¿</strong></p><ul><li>é€šè¿‡ä»£ç æ³¨è§£å®šä¹‰æ–‡æ¡£ï¼Œæ›´å®¹æ˜“ä¿æŒä»£ç æ–‡æ¡£çš„ä¸€è‡´æ€§</li><li>æ¨¡å‹å¤ç”¨ï¼Œå‡å°‘æ–‡æ¡£å†—ä½™ï¼Œå¸¦æ¥æ›´å¯é çš„æ–‡æ¡£</li><li>æä¾›å®¢æˆ·ç«¯è®¿é—®æ¥å£ï¼Œå¯ä»¥ç›´æ¥è°ƒè¯•æ¥å£ï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹å·¥å…·è¿›è¡Œè°ƒç”¨æµ‹è¯•æ¥å£</li><li>æ”¯æŒæƒé™è®¤è¯ï¼Œç­‰åŠŸèƒ½</li></ul><h3 id="Laravel-Swagger-æ‰©å±•"><a href="#Laravel-Swagger-æ‰©å±•" class="headerlink" title="Laravel Swagger æ‰©å±•"></a>Laravel Swagger æ‰©å±•</h3><p>æ‰©å±•æºä»£ç åœ°å€ï¼š<a href="https://github.com/DarkaOnLine/L5-Swagger" target="_blank" rel="noopener">https://github.com/DarkaOnLine/L5-Swagger</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">composer require darkaonline/l5-swagger</span><br><span class="line">php artisan vendor:publish --provider "L5Swagger\L5SwaggerServiceProvider"</span><br></pre></td></tr></table></figure><p>å°†ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶ <code>l5-swagger.php</code>ï¼Œå…¶ä¸­éœ€è¦æ³¨æ„çš„é…ç½®é¡¹</p><ul><li><code>routes.api</code> é»˜è®¤å€¼ä¸º <code>api/documentation</code> Swagger æ–‡æ¡£ç³»ç»Ÿè®¿é—®è·¯ç”±</li><li><code>routes.docs</code> Swagger è§£ææ³¨é‡Šç”Ÿæˆæ–‡æ¡£ JSON æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„</li><li><code>paths.annotations</code> æœ‰æ•ˆæ³¨é‡Šçš„è·¯å¾„é…ç½®ï¼Œé»˜è®¤ <code>base_path(&#39;app&#39;)</code> åº”ç”¨è·¯å¾„</li><li><code>generate_always</code> æµ‹è¯•ç¯å¢ƒåº”è¯¥å¼€å¯è¿™ä¸ªé…ç½®ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šè‡ªåŠ¨è§£ææ³¨é‡Šç”Ÿæˆæœ€æ–°çš„æ–‡æ¡£</li><li><code>swagger_version</code> è¿™ä¸ªé»˜è®¤ä¸º 2.0 , å»ºè®®ä¿®æ”¹ä¸º 3.0</li></ul><p><strong>ä¸‹æ–‡æ‰€æœ‰çš„æ³¨é‡Šå†…å®¹ï¼Œéœ€è¦å­˜åœ¨äº <code>paths.annotations</code> è·¯å¾„ä¸‹ã€‚</strong></p><h3 id="æ¥å£ç‰ˆæœ¬"><a href="#æ¥å£ç‰ˆæœ¬" class="headerlink" title="æ¥å£ç‰ˆæœ¬"></a>æ¥å£ç‰ˆæœ¬</h3><p><code>@OA\Info</code> å®šä¹‰æ¥å£ç‰ˆæœ¬ï¼Œæ ‡é¢˜ï¼Œæè¿°ï¼Œå·²ç»ä½œè€…ä¿¡æ¯ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@OA</span>\Info(</span></span><br><span class="line"><span class="comment"> *      version="1.0",</span></span><br><span class="line"><span class="comment"> *      title="ç”¨æˆ·ç®¡ç†",</span></span><br><span class="line"><span class="comment"> *      description="ç”¨æˆ·æ¨¡å—æ¥å£",</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Contact(</span></span><br><span class="line"><span class="comment"> *          name="PHP å¼€å‘æ”¯æŒ",</span></span><br><span class="line"><span class="comment"> *          email="dreamhelingfeng<span class="doctag">@gmail</span>.com"</span></span><br><span class="line"><span class="comment"> *      )</span></span><br><span class="line"><span class="comment"> * )</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£è¯·æ±‚æ–¹å¼ä¸è¯·æ±‚è·¯å¾„"><a href="#æ¥å£è¯·æ±‚æ–¹å¼ä¸è¯·æ±‚è·¯å¾„" class="headerlink" title="æ¥å£è¯·æ±‚æ–¹å¼ä¸è¯·æ±‚è·¯å¾„"></a>æ¥å£è¯·æ±‚æ–¹å¼ä¸è¯·æ±‚è·¯å¾„</h3><p><code>@OA\Get</code>,<code>@OA\Post</code> å®šä¹‰æ¥å£è¯·æ±‚æ–¹å¼</p><p>ç¤ºä¾‹ï¼šæ ¹æ®<code>USER_ID</code>è¯·æ±‚ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯ <code>/api/users/{user_id}</code><br>æ¥å£åˆ†ç»„é…ç½®ï¼š<code>tags</code>ï¼Œå°†ä¼šå¯¹æ¥å£å½’ç±»</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@OA</span>\Get(</span></span><br><span class="line"><span class="comment">  *   path="/api/users/&#123;user_id&#125;",</span></span><br><span class="line"><span class="comment">  *   summary="æ ¹æ® ID è·å–ç”¨æˆ·ä¿¡æ¯",</span></span><br><span class="line"><span class="comment">  *   tags=&#123;"ç”¨æˆ·ç®¡ç†"&#125;,</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\Parameter(</span></span><br><span class="line"><span class="comment">  *     name="user_id",</span></span><br><span class="line"><span class="comment">  *     in="path",</span></span><br><span class="line"><span class="comment">  *     required=true,</span></span><br><span class="line"><span class="comment">  *     description="ç”¨æˆ· ID",</span></span><br><span class="line"><span class="comment">  *     <span class="doctag">@OA</span>\Schema(</span></span><br><span class="line"><span class="comment">  *        type="string"</span></span><br><span class="line"><span class="comment">  *     )</span></span><br><span class="line"><span class="comment">  *   ),</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\Response(</span></span><br><span class="line"><span class="comment">  *     response=200,</span></span><br><span class="line"><span class="comment">  *     description="ç”¨æˆ·å¯¹è±¡",</span></span><br><span class="line"><span class="comment">  *     <span class="doctag">@OA</span>\JsonContent(ref="#/components/schemas/UserModel")</span></span><br><span class="line"><span class="comment">  *   )</span></span><br><span class="line"><span class="comment">  * )</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£è¯·æ±‚å‚æ•°"><a href="#æ¥å£è¯·æ±‚å‚æ•°" class="headerlink" title="æ¥å£è¯·æ±‚å‚æ•°"></a>æ¥å£è¯·æ±‚å‚æ•°</h3><p>é€šè¿‡ Swagger å¯ä»¥å®šä¹‰ä¸‰ç±»å‚æ•°ï¼Œ<code>path</code>,<code>header</code>,<code>query</code></p><ul><li>path, å‚æ•°å­˜åœ¨ endponit ä¸­ï¼Œå¦‚ï¼Œ/users/{user_id}</li><li>header, å‚æ•°å­˜åœ¨è¯·æ±‚å¤´éƒ¨ï¼Œå¦‚ï¼Œtoken ç”¨æˆ·æ ¡éªŒä»¤ç‰Œ</li><li>query, è¯·æ±‚å‚æ•°å¸¦åœ¨è¯·æ±‚URLä¸Šï¼Œå¦‚ï¼Œ/users?nickname={nickname}</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@OA</span>\Get(</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\Parameter(</span></span><br><span class="line"><span class="comment">  *     name="user_id",</span></span><br><span class="line"><span class="comment">  *     in="path",</span></span><br><span class="line"><span class="comment">  *     required=true,</span></span><br><span class="line"><span class="comment">  *     description="ç”¨æˆ· ID",</span></span><br><span class="line"><span class="comment">  *     <span class="doctag">@OA</span>\Schema(</span></span><br><span class="line"><span class="comment">  *        type="string"</span></span><br><span class="line"><span class="comment">  *     )</span></span><br><span class="line"><span class="comment">  * )</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><p>POST æäº¤è¡¨å•ï¼Œé€šå¸¸ä½¿ç”¨ <code>application/json</code> æ–¹å¼ï¼Œå¦‚ï¼Œåˆ›å»ºç”¨æˆ·</p><p><code>@OA\Post</code><br>path=<code>/users</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\RequestBody(</span></span><br><span class="line"><span class="comment">  *       <span class="doctag">@OA</span>\MediaType(</span></span><br><span class="line"><span class="comment">  *           mediaType="application/json",</span></span><br><span class="line"><span class="comment">  *           <span class="doctag">@OA</span>\Schema(ref="#/components/schemas/UserModel"),</span></span><br><span class="line"><span class="comment">  *           example=&#123;</span></span><br><span class="line"><span class="comment">  *              "username": "helingfeng", "age": "25"</span></span><br><span class="line"><span class="comment">  *           &#125;</span></span><br><span class="line"><span class="comment">  *       )</span></span><br><span class="line"><span class="comment">  *   )</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><h3 id="Schema-æ¨¡å‹å®šä¹‰"><a href="#Schema-æ¨¡å‹å®šä¹‰" class="headerlink" title="Schema æ¨¡å‹å®šä¹‰"></a>Schema æ¨¡å‹å®šä¹‰</h3><p>ä¸Šé¢çš„æ³¨é‡Šä¸­ï¼Œå¤šæ¬¡å¼•ç”¨ <code>@OA\Schema(ref=&quot;#/components/schemas/UserModel&quot;)</code> </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@OA</span>\Schema(</span></span><br><span class="line"><span class="comment"> *      schema="UserModel",</span></span><br><span class="line"><span class="comment"> *      required=&#123;"username", "age"&#125;,</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="username",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="ç”¨æˆ·åç§°"</span></span><br><span class="line"><span class="comment"> *      ),</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="age",</span></span><br><span class="line"><span class="comment"> *          type="int",</span></span><br><span class="line"><span class="comment"> *          description="å¹´é¾„"</span></span><br><span class="line"><span class="comment"> *      )</span></span><br><span class="line"><span class="comment"> * )</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>Laravel-Swagger ä¼šè‡ªåŠ¨æ ¹æ®æ‚¨çš„æ³¨é‡Šè¿›è¡ŒåŒ¹é…</p><h3 id="ä¸Šä¼ æ–‡ä»¶æ¥å£ç¤ºä¾‹"><a href="#ä¸Šä¼ æ–‡ä»¶æ¥å£ç¤ºä¾‹" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶æ¥å£ç¤ºä¾‹"></a>ä¸Šä¼ æ–‡ä»¶æ¥å£ç¤ºä¾‹</h3><p>å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œæ¥æ”¶ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶è¿”å›ç»“æœè¿œç¨‹æ–‡ä»¶åœ°å€</p><p><strong>æ¥å£å®šä¹‰ï¼š</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@OA</span>\Post(</span></span><br><span class="line"><span class="comment">  *   path="/api/files/upload",</span></span><br><span class="line"><span class="comment">  *   summary="æ–‡ä»¶ä¸Šä¼ ",</span></span><br><span class="line"><span class="comment">  *   tags=&#123;"æ–‡ä»¶ä¸Šä¼ "&#125;,</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\RequestBody(</span></span><br><span class="line"><span class="comment">  *       <span class="doctag">@OA</span>\MediaType(</span></span><br><span class="line"><span class="comment">  *           mediaType="multipart/form-data",</span></span><br><span class="line"><span class="comment">  *           <span class="doctag">@OA</span>\Schema(</span></span><br><span class="line"><span class="comment">  *              required=&#123;"upload_file"&#125;,</span></span><br><span class="line"><span class="comment">  *              <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment">  *                  property="upload_file",</span></span><br><span class="line"><span class="comment">  *                  type="file",</span></span><br><span class="line"><span class="comment">  *                  description="ä¸Šä¼ æ–‡ä»¶"</span></span><br><span class="line"><span class="comment">  *              ),</span></span><br><span class="line"><span class="comment">  *           ),</span></span><br><span class="line"><span class="comment">  *       )</span></span><br><span class="line"><span class="comment">  *   ),</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\Response(</span></span><br><span class="line"><span class="comment">  *     response=200,</span></span><br><span class="line"><span class="comment">  *     description="ä¸Šä¼ æˆåŠŸ",</span></span><br><span class="line"><span class="comment">  *     <span class="doctag">@OA</span>\JsonContent(ref="#/components/schemas/UploadFileModel")</span></span><br><span class="line"><span class="comment">  *   ),</span></span><br><span class="line"><span class="comment">  *   <span class="doctag">@OA</span>\Response(</span></span><br><span class="line"><span class="comment">  *     response="default",</span></span><br><span class="line"><span class="comment">  *     description="error",</span></span><br><span class="line"><span class="comment">  *     <span class="doctag">@OA</span>\JsonContent(ref="#/components/schemas/ErrorModel")</span></span><br><span class="line"><span class="comment">  *   )</span></span><br><span class="line"><span class="comment">  * )</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure></p><p><strong>æ¨¡å‹å®šä¹‰ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@OA</span>\Schema(</span></span><br><span class="line"><span class="comment"> *      schema="UploadFileModel",</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="file_name",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="æ–‡ä»¶åï¼Œä¸åŒ…å«è·¯å¾„"</span></span><br><span class="line"><span class="comment"> *      ),</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="file_path",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="æ–‡ä»¶è·¯å¾„"</span></span><br><span class="line"><span class="comment"> *      ),</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="file_url",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="URLé“¾æ¥ï¼Œç”¨äºå±•ç¤º"</span></span><br><span class="line"><span class="comment"> *      ),</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="file_size",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="æ–‡ä»¶å¤§å°ï¼Œå•ä½B"</span></span><br><span class="line"><span class="comment"> *      ),</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@OA</span>\Property(</span></span><br><span class="line"><span class="comment"> *          property="extension",</span></span><br><span class="line"><span class="comment"> *          type="string",</span></span><br><span class="line"><span class="comment"> *          description="æ–‡ä»¶æ‰©å±•å"</span></span><br><span class="line"><span class="comment"> *      )</span></span><br><span class="line"><span class="comment"> * )</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>è®¿é—® <code>api/documentation</code> æ•ˆæœå¦‚å›¾</p><p><img src="/images/swagger-demo1.png" alt="demo1"></p><p><code>try it out</code> ä¸Šä¼ æ–‡ä»¶æ“ä½œç»“æœ</p><p><img src="/images/swagger-demo2.png" alt="demo2"></p><h3 id="éœ€è¦æƒé™è®¤è¯çš„æ¥å£"><a href="#éœ€è¦æƒé™è®¤è¯çš„æ¥å£" class="headerlink" title="éœ€è¦æƒé™è®¤è¯çš„æ¥å£"></a>éœ€è¦æƒé™è®¤è¯çš„æ¥å£</h3><p>ä¸€èˆ¬å¯¹å¤–ç½‘å¼€æ”¾çš„æ¥å£ï¼Œéœ€è¦æ·»åŠ æƒé™æ§åˆ¶ï¼ŒSwagger æä¾›å¾ˆå¥½çš„æ”¯æŒ</p><p>åœ¨ <code>l5-swagger.php</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼Œ <code>crypt-token</code> å®šä¹‰è¯·æ±‚å¤´éƒ¨å¿…é¡»æ·»åŠ  <code>token</code> ä½œä¸ºæƒé™æ ¡éªŒä»¤ç‰Œã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'security'</span> =&gt; [</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Examples of Security definitions</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="string">'crypt-token'</span> =&gt; [ <span class="comment">// Unique name of security</span></span><br><span class="line">        <span class="string">'type'</span> =&gt; <span class="string">'apiKey'</span>, <span class="comment">// The type of the security scheme. Valid values are "basic", "apiKey" or "oauth2".</span></span><br><span class="line">        <span class="string">'description'</span> =&gt; <span class="string">'A short description for security scheme'</span>,</span><br><span class="line">        <span class="string">'name'</span> =&gt; <span class="string">'token'</span>, <span class="comment">// The name of the header or query parameter to be used.</span></span><br><span class="line">        <span class="string">'in'</span> =&gt; <span class="string">'header'</span>, <span class="comment">// The location of the API key. Valid values are "query" or "header".</span></span><br><span class="line">    ],</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>æ¥å£æ³¨é‡Šä¸­ï¼Œæ·»åŠ å¯¹åº”çš„éªŒè¯æ–¹å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * security=&#123;</span></span><br><span class="line"><span class="comment">  *    &#123;"crypt-token": &#123;&#125;&#125;</span></span><br><span class="line"><span class="comment">  * &#125;,</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><p><img src="/images/swagger-demo3.png" alt="demo3"></p><p>æ›´å¤š Swagger3 å®šä¹‰å­—æ®µæè¿°ï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://swagger.io/specification/#parameterObject" target="_blank" rel="noopener">https://swagger.io/specification/#parameterObject</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Swagger-æ–‡æ¡£ç®¡ç†&quot;&gt;&lt;a href=&quot;#Swagger-æ–‡æ¡£ç®¡ç†&quot; class=&quot;headerlink&quot; title=&quot;Swagger æ–‡æ¡£ç®¡ç†&quot;&gt;&lt;/a&gt;Swagger æ–‡æ¡£ç®¡ç†&lt;/h2&gt;&lt;p&gt;å®˜æ–¹ç½‘ç«™ï¼š&lt;a href=&quot;https://swagger.
      
    
    </summary>
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/PHP/"/>
    
      <category term="Laravel" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Laravel/"/>
    
      <category term="swagger" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/swagger/"/>
    
  </entry>
  
  <entry>
    <title>Laravel å®ç°é¡µé¢é™æ€ç¼“å­˜</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2019-05-24/laravel-implementing-static-page-caching/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2019-05-24/laravel-implementing-static-page-caching/</id>
    <published>2019-05-24T09:30:00.000Z</published>
    <updated>2019-05-24T09:19:05.488Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¡µé¢é™æ€ç¼“å­˜"><a href="#é¡µé¢é™æ€ç¼“å­˜" class="headerlink" title="é¡µé¢é™æ€ç¼“å­˜"></a>é¡µé¢é™æ€ç¼“å­˜</h2><p>é¡µé¢ç¼“å­˜å°±æ˜¯åœ¨ç”¨æˆ·è®¿é—®é¡µé¢æ—¶ï¼Œç›´æ¥è¿”å›é™æ€æ–‡ä»¶ï¼Œå‡å°‘äº†æ¯æ¬¡è¯·æ±‚çš„ä¸šåŠ¡å¤„ç†å’Œæ¨¡æ¿æ¸²æŸ“ï¼Œä»è€Œæé«˜ç½‘ç«™çš„<code>QPS</code>ã€‚åœ¨è®¸å¤šå®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œæˆ–è€…çº¯æŸ¥è¯¢å’Œå±•ç¤ºæ•°æ®çš„é¡µé¢ï¼Œæ·»åŠ é™æ€é¡µé¢ç¼“å­˜å¹¶åˆç†çš„é…ç½®ç¼“å­˜æœ‰æ•ˆæœŸå¯ä»¥æœ‰æ•ˆçš„æå‡ç½‘ç«™æ€§èƒ½ã€‚</p><h2 id="Laravel-é¡µé¢é™æ€ç¼“å­˜"><a href="#Laravel-é¡µé¢é™æ€ç¼“å­˜" class="headerlink" title="Laravel é¡µé¢é™æ€ç¼“å­˜"></a>Laravel é¡µé¢é™æ€ç¼“å­˜</h2><p>é™„ä¸Šä»£ç åœ°å€ï¼š<a href="https://github.com/freedoomcode/laravel-page-cache" target="_blank" rel="noopener">https://github.com/freedoomcode/laravel-page-cache</a></p><p>æˆ‘ç¼–ç åŠŸåº•æœ‰é™ï¼Œå¸Œæœ›ä½ å¯ä»¥èˆå¾—ç»™äºˆå»ºè®®</p><h3 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h3><ul><li>å¯¹äºè¯·æ±‚å‰åçš„å¤„ç†ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„æ˜¯ä¸­é—´ä»¶ï¼ˆè¯·æ±‚è¿‡æ»¤å™¨ï¼‰</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">($request, Closure $next, $guard = null)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è¯·æ±‚ä¹‹å‰å¤„ç†</span></span><br><span class="line">    $response = $next($request);</span><br><span class="line">    <span class="comment">// è¯·æ±‚ä¹‹åå¤„ç†</span></span><br><span class="line">    <span class="keyword">return</span> $response;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¯·æ±‚ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹è¯·æ±‚å‚æ•°<code>path</code>+<code>query</code>è¿›è¡Œç¼–ç ä½œä¸ºæ–‡ä»¶å</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$fileName = md5($uri);</span><br></pre></td></tr></table></figure><ul><li>å¹¶ä½¿ç”¨æ­¤æ–‡ä»¶åæœç´¢æ˜¯å¦å­˜åœ¨æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ç›´æ¥è¯»å–è¿”å›</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$fileName = <span class="keyword">$this</span>-&gt;getRealFileNameByPath($request-&gt;getRequestUri());</span><br><span class="line"><span class="keyword">if</span> (is_file($fileName)) &#123;</span><br><span class="line">    <span class="keyword">return</span> response(file_get_contents($fileName));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è‹¥ä¸å­˜åœ¨åˆ™å°†å½“æœŸé¡µé¢çš„å“åº”å†…å®¹å†™å…¥æ–‡ä»¶ï¼Œä¸ºäº†ç¡®ä¿å†…å®¹æ­£ç¡®ï¼Œåˆ¤æ–­å“åº”çŠ¶æ€ç æ˜¯å¦ä¸º<code>200</code>ã€‚å¹¶å¯¹æ­£åœ¨å†™å…¥çš„æ–‡ä»¶è¿›è¡ŒåŠ é”ã€‚</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($response-&gt;getStatusCode() == <span class="number">200</span>) &#123;</span><br><span class="line">    $content = $response-&gt;getContent();</span><br><span class="line">    <span class="keyword">if</span> (!is_file($fileName)) &#123;</span><br><span class="line">        file_put_contents($fileName, $content, LOCK_EX);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ†å¸ƒå¼æ”¯æŒ"><a href="#åˆ†å¸ƒå¼æ”¯æŒ" class="headerlink" title="åˆ†å¸ƒå¼æ”¯æŒ"></a>åˆ†å¸ƒå¼æ”¯æŒ</h3><p>èµ·åˆï¼Œæˆ‘æƒ³å°†æ•´ä¸ªé¡µé¢æ–‡æ¡£å­˜å…¥<code>Redis</code>ä¸­ï¼Œä½†æµ‹è¯•å‘ç°å¯¼è‡´<code>Redis</code>ç½‘ç»œå ç”¨éå¸¸é«˜ï¼Œå› ä¸ºå•ä¸ªé¡µé¢å¤§å°ä¸º<code>100K+</code>ï¼ŒåŒæ—¶è®¿é—®å°†ä¼šä¸æ–­è¯»å–<code>Redis</code>ã€‚æœ€åï¼Œæˆ‘å°†é¡µé¢ä¿å­˜åœ¨æœåŠ¡å™¨æ–‡ä»¶ä¸­ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå­˜åœ¨å¤šå°æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå¦‚ä½•ç»Ÿä¸€æ›´æ–°é¡µé¢ç¼“å­˜å‘¢ï¼Ÿæ‰€ä»¥è¿˜éœ€è¦å…±äº«ä¸€ä¸ªé”®å€¼ï¼Œæˆ‘å°†è¿™ä¸ªé”®å€¼å­˜å‚¨åœ¨<code>Redis</code>ä¸­ï¼Œè¿™ä¸ªé”®å€¼ç›¸å½“äºæ¯ä¸ªæœåŠ¡å­˜å‚¨é™æ€æ–‡ä»¶çš„æ‰€åœ¨è·¯å¾„ã€‚æ›´æ–°è¿™ä¸ªé”®å€¼å°±ç›¸å½“äºæ›´æ–°æ–‡ä»¶æ‰€åœ¨è·¯å¾„ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$key = env(<span class="string">'STATIC_HTML_CACHE_DIR_KEY'</span>, <span class="string">'static_html_directory'</span>);</span><br><span class="line">$expires = env(<span class="string">'STATIC_HTML_CACHE_EXPIRE'</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">if</span>(Cache::has($key)) &#123;</span><br><span class="line">    $directory = Cache::get($key, date(<span class="string">'YmdHis'</span>));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $directory = date(<span class="string">'YmdHis'</span>);</span><br><span class="line">    Cache::put($key, $directory, $expires);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®Œæ•´çš„è·¯å¾„ä¸º storage + directory</span></span><br><span class="line">$fullPath = $prefix . DIRECTORY_SEPARATOR . $directory;</span><br></pre></td></tr></table></figure><p>å°†æ–‡ä»¶å­˜å‚¨åœ¨æ¯å°æœåŠ¡å™¨ä¸­ï¼Œå‡è¡¡è´Ÿè½½çš„å‹åŠ›ï¼Œå¦‚æœå¯ä»¥å°†é™æ€æ–‡ä»¶å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæ•ˆæœä¼šæ›´ä½³ï¼Œä½¿ç”¨<code>Swoole</code>åº”è¯¥å¯ä»¥å®ç°ã€‚</p><h3 id="æ›´æ–°ç¼“å­˜"><a href="#æ›´æ–°ç¼“å­˜" class="headerlink" title="æ›´æ–°ç¼“å­˜"></a>æ›´æ–°ç¼“å­˜</h3><p>åˆ·æ–°æŒ‡å®š<code>Redis</code>é”®å€¼å³å¯<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache::put($key, date(<span class="string">'YmdHis'</span>), $expires);</span><br></pre></td></tr></table></figure></p><h3 id="æ€è€ƒï¼Ÿ"><a href="#æ€è€ƒï¼Ÿ" class="headerlink" title="æ€è€ƒï¼Ÿ"></a>æ€è€ƒï¼Ÿ</h3><p>è¿™ç§æ€è·¯ï¼Œåªé€‚åˆå°äº§å“ï¼Œå¯èƒ½è¿˜ä¼šå­˜åœ¨å…¶ä»–çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦æ…ç”¨ã€‚ä¸è¿‡ï¼Œæ•¢äºå°è¯•æ‰ä¼šæ‡‚å¾—ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é¡µé¢é™æ€ç¼“å­˜&quot;&gt;&lt;a href=&quot;#é¡µé¢é™æ€ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;é¡µé¢é™æ€ç¼“å­˜&quot;&gt;&lt;/a&gt;é¡µé¢é™æ€ç¼“å­˜&lt;/h2&gt;&lt;p&gt;é¡µé¢ç¼“å­˜å°±æ˜¯åœ¨ç”¨æˆ·è®¿é—®é¡µé¢æ—¶ï¼Œç›´æ¥è¿”å›é™æ€æ–‡ä»¶ï¼Œå‡å°‘äº†æ¯æ¬¡è¯·æ±‚çš„ä¸šåŠ¡å¤„ç†å’Œæ¨¡æ¿æ¸²æŸ“ï¼Œä»è€Œæé«˜ç½‘ç«™çš„&lt;code
      
    
    </summary>
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/PHP/"/>
    
      <category term="Composer" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Composer/"/>
    
      <category term="Laravel" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Laravel/"/>
    
      <category term="Cache" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Cache/"/>
    
  </entry>
  
  <entry>
    <title>Vue + Webpack å­¦ä¹ ç¬”è®°</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-11-13/vue-webpack-learn-note/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-11-13/vue-webpack-learn-note/</id>
    <published>2018-11-13T02:01:00.000Z</published>
    <updated>2018-11-13T02:22:32.848Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Vue-å®‰è£…"><a href="#Vue-å®‰è£…" class="headerlink" title="Vue å®‰è£…"></a>Vue å®‰è£…</h2><ul><li>CDN</li></ul><p>è¿™ä¸ªä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œç›´æ¥åœ¨é¡µé¢å¼•å…¥ script æ ‡ç­¾ï¼Œå°±å¯ä»¥å¼€å¯ Vue çš„ä¸–ç•Œï¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœä½ æ‹…å¿ƒç›´æ¥å¼•å…¥ script æ ‡ç­¾ä¼šæœ‰ä¸€å¤©å¤±æ•ˆï¼Œå¯ä»¥ä¸‹è½½æ–‡ä»¶ä¿å­˜åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸­ï¼Œç„¶åå¼•ç”¨è‡ªå·±çš„æœåŠ¡é“¾æ¥ã€‚æˆ‘å¼€å‘å·¥ä½œä¸­ä¹Ÿç»å¸¸è¿™ä¹ˆå¹²ï¼Œç¼ºç‚¹å°±æ˜¯å¦‚æœè®¿é—®æµé‡è¾ƒå¤§ï¼Œè¿˜æ˜¯éœ€è¦åŠ  CDN è¿›è¡Œç¼“å†²ã€‚</p><ul><li>Webpack</li></ul><p>éå¸¸æœ‰æ„æ€çš„å¼€å‘æ–¹å¼ï¼Œå‰ç«¯ç°åœ¨æœ€ç«çš„æ‰“åŒ…å’Œæ„å»ºå·¥å…·ï¼Œå®ƒçš„å¼ºå¤§è€Œæˆ‘è¿˜åªèƒ½è¿œæœ›ï¼Œä½¿ç”¨ Webpack æ„å»ºï¼ŒVue å®˜æ–¹æ–‡æ¡£ä¹Ÿæä¾›äº†æ”¯æŒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span> <span class="comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¾ˆé‡è¦ï¼Œå¦åˆ™ <code>import Vue form &#39;vue&#39;;</code> æ°¸è¿œæ˜¯ä¸€ç‰‡ç©ºç™½çš„ï¼ˆ #app ï¼‰æ¸²æŸ“ç»“æœï¼æˆ‘åˆšå¼€å§‹ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ€ä¹ˆä¹Ÿæƒ³ä¸æ˜ç™½ï¼Œåªèƒ½è¯´çœ‹æ–‡æ¡£å¾ˆé‡è¦ã€‚</p><h2 id="Webpack-é…ç½®"><a href="#Webpack-é…ç½®" class="headerlink" title="Webpack é…ç½®"></a>Webpack é…ç½®</h2><p>æœ€ç®€å•çš„ä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œå•ä¸€å…¥å£ main.js æ–‡ä»¶ï¼Œé»˜è®¤æ¥è‡ª src ç›®å½• ï¼›æ„å»ºå‹ç¼©è¾“å‡º bundle.js æ–‡ä»¶ï¼Œé»˜è®¤è¾“å‡ºåˆ° dist ç›®å½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure><p>é…ç½®ä¸­ mode æ¥è‡ª Webpack4 çš„ç‰¹æ€§ï¼<br>æºæ–‡ä»¶ main.js å¼•å…¥ vue å¹¶æ„å»º vue å¯¹è±¡ï¼Œå®šä¹‰æ•°æ® message å­—ç¬¦ä¸²ï¼Œè¿˜å®šä¹‰ method reverseMessage å°†å­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬æ“ä½œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      message: <span class="string">'Hello Vue.js!'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      reverseMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.message = <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å…¥å£é¡µé¢ index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue - Learn<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span>&gt;</span> Vue - Learn <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-5"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"reverseMessage"</span>&gt;</span>é€†è½¬æ¶ˆæ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../dist/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¾èµ–åŒ… package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"vue-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"webpack.config.js"</span>,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"vue"</span>: <span class="string">"^2.5.10"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^4.25.1"</span>,</span><br><span class="line">    <span class="attr">"webpack-cli"</span>: <span class="string">"^3.1.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> é¦–é€‰å®‰è£…ä¾èµ–æ‰©å±•ï¼Œå»ºè®®ä½¿ç”¨å›½å†…æº</span><br><span class="line">npm install </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ„å»º bundle.js</span><br><span class="line">webpack</span><br></pre></td></tr></table></figure><p>è¾“å…¥ webpack æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°å‘½ä»¤æ‰¾ä¸åˆ°ï¼›æ˜¯çš„ï¼Œä½ å…¨å±€æ²¡æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€‰æ‹©é€‰æ‹©å®‰è£…æ–¹å¼ npm install g webpackï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ ./node_modules/webpack/bin/webpack ç›¸å¯¹è·¯å¾„æ‰§è¡Œå‘½ä»¤ã€‚è¿˜æœ‰ä¸€ç§æ˜¯æ¨èçš„æ–¹æ³•ï¼Œåœ¨ package.json ä¸­æ·»åŠ  scripts</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "build": "webpack"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œå°±å¯ä»¥æ‰§è¡Œä½¿ç”¨ npm run build å‘½ä»¤ï¼Œå®ƒä»£è¡¨çš„å‘½ä»¤å°±æ˜¯ ./node_modules/webpack/bin/webpack</p><p>done è¿è¡Œç»“æœï¼š</p><p><img src="/images/demo.png" alt="vue-demo"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Vue-å®‰è£…&quot;&gt;&lt;a href=&quot;#Vue-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;Vue å®‰è£…&quot;&gt;&lt;/a&gt;Vue å®‰è£…&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;CDN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œç›´æ¥åœ¨é¡µé¢å¼•å…¥ script æ ‡ç­¾ï¼Œå°±å¯
      
    
    </summary>
    
      <category term="Vue" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Vue/"/>
    
      <category term="Webpack" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>Autoloadç±»çš„è‡ªåŠ¨åŠ è½½</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-11-07/autoload-class-for-php/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-11-07/autoload-class-for-php/</id>
    <published>2018-11-07T06:00:00.000Z</published>
    <updated>2018-11-08T01:09:44.554Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç±»çš„è‡ªåŠ¨åŠ è½½"><a href="#ç±»çš„è‡ªåŠ¨åŠ è½½" class="headerlink" title="ç±»çš„è‡ªåŠ¨åŠ è½½"></a>ç±»çš„è‡ªåŠ¨åŠ è½½</h2><p>PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶éœ€è¦å®šä¹‰å¾ˆå¤šç±»ï¼Œä¹Ÿå°±æ˜¯éå¸¸å¤šçš„.PHPæ–‡ä»¶ã€‚åœ¨PHP5ä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­å¼•ç”¨å¦ä¸€ä¸ªç±»ï¼Œéœ€è¦åœ¨è¿™ä¸ªç±»çš„æ–‡ä»¶å¤´éƒ¨åŠ ä¸Š<code>require</code>æˆ–è€…<code>include</code>ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„ç³»ç»Ÿéå¸¸å¤æ‚ï¼Œæ¶‰åŠæå¤šçš„ç±»æ—¶ï¼Œè¿™æ ·çš„æ“ä½œæ˜¾å¾—éå¸¸ç¹çã€‚</p><p>åœ¨PHP5ä¸­ï¼Œå·²ç»ä¸å†éœ€è¦è¿™æ ·äº†ã€‚ <code>spl_autoload_register()</code> å‡½æ•°å¯ä»¥æ³¨å†Œä»»æ„æ•°é‡çš„è‡ªåŠ¨åŠ è½½å™¨ï¼Œå½“ä½¿ç”¨å°šæœªè¢«å®šä¹‰çš„ç±»å’Œæ¥å£æ—¶è‡ªåŠ¨å»åŠ è½½ã€‚é€šè¿‡æ³¨å†Œè‡ªåŠ¨åŠ è½½å™¨ï¼Œè„šæœ¬å¼•æ“åœ¨PHPå‡ºé”™å¤±è´¥å‰æœ‰äº†æœ€åä¸€ä¸ªæœºä¼šåŠ è½½æ‰€éœ€çš„ç±»ã€‚</p><hr><p>å°è¯•åˆ†åˆ«ä» <code>MyClass1.php</code> å’Œ <code>MyClass2.php</code> æ–‡ä»¶ä¸­åŠ è½½ <code>MyClass1</code> å’Œ <code>MyClass2</code> ç±»</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> <span class="params">($class_name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">require_once</span> $class_name . <span class="string">'.php'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$obj  = <span class="keyword">new</span> MyClass1();</span><br><span class="line">$obj2 = <span class="keyword">new</span> MyClass2();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å°†ä¸€ä¸ªå¼‚å¸¸æŠ›ç»™ä¸å­˜åœ¨çš„è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> <span class="params">($name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Want to load $name.\n"</span>;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> MissingException(<span class="string">"Unable to load $name."</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    $obj = <span class="keyword">new</span> NonLoadableClass();</span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $e-&gt;getMessage(), <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Composer-è‡ªåŠ¨åŠ è½½"><a href="#Composer-è‡ªåŠ¨åŠ è½½" class="headerlink" title="Composer è‡ªåŠ¨åŠ è½½"></a>Composer è‡ªåŠ¨åŠ è½½</h3><p><code>composer</code> æä¾›äº†å››ç§è‡ªåŠ¨åŠ è½½ç±»å‹</p><ul><li>classmap</li><li>psr-0</li><li>psr-4</li><li>files</li></ul><p>è¿™å‡ ç§è‡ªåŠ¨åŠ è½½å¹³å¸¸çš„æ¡†æ¶éƒ½ç”¨åˆ°ï¼Œé€šå¸¸æ¥çœ‹ï¼Œé¡¹ç›®ä»£ç ç”¨<code>psr-4</code>è‡ªåŠ¨åŠ è½½ï¼Œ å¦‚<code>Laravel</code>æ¡†æ¶çš„å‡½æ•°åº“<code>helper</code>ç”¨<code>files</code>è‡ªåŠ¨åŠ è½½ï¼Œ<code>development</code>ç›¸å…³ç”¨<code>classmap</code>è‡ªåŠ¨åŠ è½½ï¼Œè€Œ<code>psr-0</code>å·²ç»å¼ƒç”¨ï¼Œæœ‰äº‹å…¼å®¹å¤è€çš„ä»£ç è¿˜ä¼šç”¨åˆ°ã€‚</p><h4 id="classmap"><a href="#classmap" class="headerlink" title="classmap"></a>classmap</h4><p><code>composer</code>ä¼šæ‰«ææŒ‡å®šç›®å½•ä¸‹ä»¥<code>.php</code> æˆ–<code>.inc</code>ç»“å°¾çš„æ–‡ä»¶ä¸­çš„<code>class</code>ï¼Œç”Ÿæˆ<code>class</code>åˆ°æŒ‡å®š<code>file-path</code>çš„æ˜ å°„(Key-Value)ï¼Œå¹¶åŠ å…¥æ–°ç”Ÿæˆçš„<code>vendor/composer/autoload_classmap.php</code>æ–‡ä»¶ä¸­</p><p>ä¾‹å¦‚ï¼š</p><p>é…ç½®æ‰«æè·¯å¾„<code>src</code><br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autoload"</span>: &#123;</span><br><span class="line">    <span class="attr">"classmap"</span>: [<span class="string">"src/"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å…¶ç”Ÿæˆç»“æœå¦‚ä¸‹<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'BaseController'</span> =&gt; $baseDir . <span class="string">'/src/BaseController.php'</span></span><br><span class="line">);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="psr-4"><a href="#psr-4" class="headerlink" title="psr-4"></a>psr-4</h4><p>åœ¨<code>composer.json</code>é‡Œæ˜¯è¿™æ ·è¿›è¡Œé…ç½®çš„ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autoload"</span>: &#123;</span><br><span class="line">    <span class="attr">"psr-4"</span>: &#123;</span><br><span class="line">      <span class="attr">"Foo\\"</span>: <span class="string">"src/"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ<code>composer install</code>æ›´æ–°è‡ªåŠ¨åŠ è½½ã€‚ç…§<code>PSR-4</code>çš„è§„åˆ™ï¼Œå½“åœ¨<code>index.php</code>ä¸­è¯•å›¾<code>new Foo\Bar\Baz</code>è¿™ä¸ª<code>class</code>æ—¶ï¼Œ<code>composer</code>ä¼šè‡ªåŠ¨å»å¯»æ‰¾ <code>src/Bar/Baz.php&quot;</code> è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå®ƒå­˜åœ¨åˆ™è¿›è¡ŒåŠ è½½ã€‚</p><h4 id="files"><a href="#files" class="headerlink" title="files"></a>files</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autoload"</span>: &#123;</span><br><span class="line">    <span class="attr">"files"</span>: [<span class="string">"src/MyLibrary/functions.php"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ<code>composer install</code>æ›´æ–°è‡ªåŠ¨åŠ è½½ã€‚<code>Files</code>æ–¹å¼ï¼Œå°±æ˜¯æ‰‹åŠ¨æŒ‡å®šä¾›ç›´æ¥åŠ è½½çš„æ–‡ä»¶ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬æœ‰ä¸€ç³»åˆ—å…¨å±€çš„<code>helper functions</code>ï¼Œå¯ä»¥æ”¾åˆ°ä¸€ä¸ª<code>helper</code>æ–‡ä»¶é‡Œç„¶åç›´æ¥è¿›è¡ŒåŠ è½½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ ç”¨<code>require &#39;vendor/autoload.php&#39;</code>åŠ è½½è‡ªåŠ¨åŠ è½½ç±»æ—¶è‡ªåŠ¨å°†<code>files</code>é‡Œçš„æ–‡ä»¶åŠ è½½è¿›æ¥äº†ï¼Œä½ ç›´æ¥ä½¿ç”¨å°±è¡Œäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç±»çš„è‡ªåŠ¨åŠ è½½&quot;&gt;&lt;a href=&quot;#ç±»çš„è‡ªåŠ¨åŠ è½½&quot; class=&quot;headerlink&quot; title=&quot;ç±»çš„è‡ªåŠ¨åŠ è½½&quot;&gt;&lt;/a&gt;ç±»çš„è‡ªåŠ¨åŠ è½½&lt;/h2&gt;&lt;p&gt;PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶éœ€è¦å®šä¹‰å¾ˆå¤šç±»ï¼Œä¹Ÿå°±æ˜¯éå¸¸å¤šçš„.PHPæ–‡ä»¶ã€‚åœ¨PHP5ä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚æœåœ¨ä¸€ä¸ª
      
    
    </summary>
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/PHP/"/>
    
      <category term="Composer" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Composer/"/>
    
  </entry>
  
  <entry>
    <title>Git-å·¥å…· å­˜å‚¨å‡­è¯</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-11-05/gittool-storage-credentials/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-11-05/gittool-storage-credentials/</id>
    <published>2018-11-05T06:00:00.000Z</published>
    <updated>2019-01-10T08:06:01.289Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Gitå­˜å‚¨å‡­è¯ç®¡ç†"><a href="#Gitå­˜å‚¨å‡­è¯ç®¡ç†" class="headerlink" title="Gitå­˜å‚¨å‡­è¯ç®¡ç†"></a>Gitå­˜å‚¨å‡­è¯ç®¡ç†</h2><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ SSH æ–¹å¼è¿æ¥è¿œç«¯ï¼Œå¹¶ä¸”è®¾ç½®äº†ä¸€ä¸ªæ²¡æœ‰å£ä»¤çš„å¯†é’¥ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸è¾“å…¥ç”¨æˆ·åå’Œå¯†ç çš„æƒ…å†µä¸‹å®‰å…¨åœ°ä¼ è¾“æ•°æ®ã€‚ ç„¶è€Œï¼Œè¿™å¯¹ HTTP åè®®æ¥è¯´æ˜¯ä¸å¯èƒ½çš„ï¼Œæ¯ä¸€ä¸ªè¿æ¥éƒ½æ˜¯éœ€è¦ç”¨æˆ·åå’Œå¯†ç çš„ã€‚ è¿™åœ¨ä½¿ç”¨åŒé‡è®¤è¯çš„æƒ…å†µä¸‹ä¼šæ›´éº»çƒ¦ï¼Œå› ä¸ºä½ éœ€è¦è¾“å…¥ä¸€ä¸ªéšæœºç”Ÿæˆå¹¶ä¸”æ¯«æ— è§„å¾‹çš„ token ä½œä¸ºå¯†ç ã€‚</p><hr><p>å¹¸è¿çš„æ˜¯ï¼ŒGit æ‹¥æœ‰ä¸€ä¸ªå‡­è¯ç³»ç»Ÿæ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ã€‚ ä¸‹é¢æœ‰ä¸€äº› Git çš„é€‰é¡¹ï¼š</p><ul><li>é»˜è®¤æ‰€æœ‰éƒ½ä¸ç¼“å­˜ã€‚ æ¯ä¸€æ¬¡è¿æ¥éƒ½ä¼šè¯¢é—®ä½ çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li>â€œcacheâ€ æ¨¡å¼ä¼šå°†å‡­è¯å­˜æ”¾åœ¨å†…å­˜ä¸­ä¸€æ®µæ—¶é—´ã€‚ å¯†ç æ°¸è¿œä¸ä¼šè¢«å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œå¹¶ä¸”åœ¨15åˆ†é’Ÿåä»å†…å­˜ä¸­æ¸…é™¤ã€‚</li><li>â€œstoreâ€ æ¨¡å¼ä¼šå°†å‡­è¯ç”¨æ˜æ–‡çš„å½¢å¼å­˜æ”¾åœ¨ç£ç›˜ä¸­ï¼Œå¹¶ä¸”æ°¸ä¸è¿‡æœŸã€‚ è¿™æ„å‘³ç€é™¤éä½ ä¿®æ”¹äº†ä½ åœ¨ Git æœåŠ¡å™¨ä¸Šçš„å¯†ç ï¼Œå¦åˆ™ä½ æ°¸è¿œä¸éœ€è¦å†æ¬¡è¾“å…¥ä½ çš„å‡­è¯ä¿¡æ¯ã€‚ è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ä½ çš„å¯†ç æ˜¯ç”¨æ˜æ–‡çš„æ–¹å¼å­˜æ”¾åœ¨ä½ çš„ home ç›®å½•ä¸‹ã€‚</li><li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Macï¼ŒGit è¿˜æœ‰ä¸€ç§ â€œosxkeychainâ€ æ¨¡å¼ï¼Œå®ƒä¼šå°†å‡­è¯ç¼“å­˜åˆ°ä½ ç³»ç»Ÿç”¨æˆ·çš„é’¥åŒ™ä¸²ä¸­ã€‚ è¿™ç§æ–¹å¼å°†å‡­è¯å­˜æ”¾åœ¨ç£ç›˜ä¸­ï¼Œå¹¶ä¸”æ°¸ä¸è¿‡æœŸï¼Œä½†æ˜¯æ˜¯è¢«åŠ å¯†çš„ï¼Œè¿™ç§åŠ å¯†æ–¹å¼ä¸å­˜æ”¾ HTTPS å‡­è¯ä»¥åŠ Safari çš„è‡ªåŠ¨å¡«å†™æ˜¯ç›¸åŒçš„ã€‚</li><li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Windowsï¼Œä½ å¯ä»¥å®‰è£…ä¸€ä¸ªå«åš â€œwinstoreâ€ çš„è¾…åŠ©å·¥å…·ã€‚ è¿™å’Œä¸Šé¢è¯´çš„ â€œosxkeychainâ€ ååˆ†ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯ä½¿ç”¨ Windows Credential Store æ¥æ§åˆ¶æ•æ„Ÿä¿¡æ¯ã€‚</li></ul><blockquote><p><a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%87%AD%E8%AF%81%E5%AD%98%E5%82%A8" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%87%AD%E8%AF%81%E5%AD%98%E5%82%A8</a></p></blockquote><h2 id="Composer-ä½¿ç”¨Gitç§æœ‰åº“ï¼Œcomposer-install-404-Not-Found-å¼‚å¸¸é—®é¢˜"><a href="#Composer-ä½¿ç”¨Gitç§æœ‰åº“ï¼Œcomposer-install-404-Not-Found-å¼‚å¸¸é—®é¢˜" class="headerlink" title="Composer ä½¿ç”¨Gitç§æœ‰åº“ï¼Œcomposer install 404 Not Found å¼‚å¸¸é—®é¢˜"></a>Composer ä½¿ç”¨Gitç§æœ‰åº“ï¼Œ<code>composer install</code> 404 Not Found å¼‚å¸¸é—®é¢˜</h2><p><strong>æˆ‘ä»¬å›¢é˜Ÿé‡åˆ°çš„é—®é¢˜</strong></p><ul><li>å›¢é˜Ÿæœ‰ä¸€å¼€å‘äººå‘˜<code>A</code>ä½¿ç”¨<code>mac</code>ç¯å¢ƒå¼€å‘ï¼ˆGitå­˜å‚¨å‡­è¯<code>osxkeychain</code>æ¨¡å¼ä¼šæ°¸ä¹…ç¼“å­˜å‡­è¯ï¼‰</li><li>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªä¸»é¡¹ç›®<code>P1</code>å’Œ<code>P2</code>å’Œä¸€ä¸ªç§æœ‰æ‰©å±•åº“<code>F3</code></li><li><code>A</code>å¼€å‘è€…æ‹¥æœ‰<code>P1</code>å’Œ<code>P2</code>è®¿é—®æƒé™ï¼Œå¹¶é€šè¿‡<code>HTTP</code>åè®®<code>Clone</code>é¡¹ç›®<code>P1</code>çš„æºä»£ç ï¼ˆç»è¿‡äº†è¿™ä¸€æ­¥æ“ä½œï¼Œä¼šå­˜å‚¨å‡­è¯ä¿¡æ¯ï¼‰</li><li><code>P2</code>é¡¹ç›®ä½¿ç”¨PHPè¯­è¨€å¹¶é€šè¿‡<code>Composer</code>å·¥å…·ç®¡ç†ä¾èµ–ï¼Œå…¶ä¸­åŒ…å«<code>F3</code>æ‰©å±•åŒ…</li></ul><p><code>Composer.json</code>:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"http://domain/F3.git"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>Auth.json</code>:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"http-basic"</span>: &#123;</span><br><span class="line">    <span class="attr">"your-domain"</span>: &#123;</span><br><span class="line">      <span class="attr">"username"</span>: <span class="string">"your-token"</span>,</span><br><span class="line">      <span class="attr">"password"</span>: <span class="string">"your-password"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>å½“<code>A</code>ç”¨æˆ·å…‹éš†<code>P2</code>é¡¹ç›®åä½¿ç”¨<code>composer install</code>å®‰è£…ä¾èµ–ä¼šå‡ºç°å¼‚<code>404 Not Found F3</code>ï¼Œæ— æ³•æˆåŠŸå®‰è£…<code>F3</code>æ‰©å±•</strong></p><p>æˆ‘å½“æ—¶å¾ˆç–‘æƒ‘ï¼Ÿä¸ºä»€ä¹ˆä¸ä½¿ç”¨<code>Auth.json</code>è¿›è¡ŒéªŒè¯ï¼Ÿå®é™…ä½¿ç”¨äº†ç¼“å­˜ä¸­å‡­è¯ï¼Œå¯ä»¥è¯´æ˜¯Composeræ²¡æœ‰è€ƒè™‘åˆ°çš„æç«¯æƒ…å†µã€‚</p><p><strong>è§£å†³åŠæ³•?</strong></p><p>composer install å‡ºç°æ— æ³•æ‹‰å–ç§æœ‰æ‰©å±•åŒ…æ—¶</p><h3 id="1-æ¸…é™¤Gitå­˜å‚¨å‡­è¯"><a href="#1-æ¸…é™¤Gitå­˜å‚¨å‡­è¯" class="headerlink" title="1.æ¸…é™¤Gitå­˜å‚¨å‡­è¯"></a>1.æ¸…é™¤Gitå­˜å‚¨å‡­è¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> å…¨éƒ¨ unset ä¸€éå‘—</span><br><span class="line"><span class="meta">$</span> git config --local --unset credential.helper</span><br><span class="line"><span class="meta">$</span> git config --global --unset credential.helper</span><br><span class="line"><span class="meta">$</span> sudo git config --system --unset credential.helper</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> è¿™ä¸‰ä¸ªå‘½ä»¤éƒ½æ²¡æœ‰æ˜¾ç¤ºä»»ä½•ä¸œè¥¿äº†</span><br><span class="line"><span class="meta">$</span> git config --local credential.helper</span><br><span class="line"><span class="meta">$</span> git config --global credential.helper</span><br><span class="line"><span class="meta">$</span> git config --system credential.helper</span><br></pre></td></tr></table></figure><p>hmm å¦‚æœè¿˜ä¸ç”Ÿæ•ˆ ï¼Ÿ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æŸ¥çœ‹æ˜¯å¦ä»å­˜åœ¨ osxkeychain</span><br><span class="line"><span class="meta">$</span> git config -l</span><br><span class="line">credential.helper=osxkeychain</span><br><span class="line"><span class="meta">#</span> è·å–çœŸæ­£çš„è·¯å¾„ï¼Œæ‰¾åˆ°å¯¹åº”æ–‡ä»¶æ‰‹å·¥åˆ æ‰å³å¯</span><br><span class="line"><span class="meta">$</span> git config --show-origin --get credential.helper</span><br><span class="line">file:/Applications/Xcode.app/Contents/Developer/usr/share/git-core/gitconfig    osxkeychain</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨å¸¦ç”¨æˆ·åå’Œå¯†ç çš„-git"><a href="#2-ä½¿ç”¨å¸¦ç”¨æˆ·åå’Œå¯†ç çš„-git" class="headerlink" title="2.ä½¿ç”¨å¸¦ç”¨æˆ·åå’Œå¯†ç çš„.git"></a>2.ä½¿ç”¨å¸¦ç”¨æˆ·åå’Œå¯†ç çš„.git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://yourusername:yourpassword@gitlab.domain.com/project.git</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Gitå­˜å‚¨å‡­è¯ç®¡ç†&quot;&gt;&lt;a href=&quot;#Gitå­˜å‚¨å‡­è¯ç®¡ç†&quot; class=&quot;headerlink&quot; title=&quot;Gitå­˜å‚¨å‡­è¯ç®¡ç†&quot;&gt;&lt;/a&gt;Gitå­˜å‚¨å‡­è¯ç®¡ç†&lt;/h2&gt;&lt;p&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ SSH æ–¹å¼è¿æ¥è¿œç«¯ï¼Œå¹¶ä¸”è®¾ç½®äº†ä¸€ä¸ªæ²¡æœ‰å£ä»¤çš„å¯†é’¥ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸è¾“
      
    
    </summary>
    
      <category term="Git" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Git/"/>
    
    
      <category term="Git" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>ç»†ç»†å“å‘³ Laravel-Schedule è®¡åˆ’ä»»åŠ¡çš„åŸç†</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-10-30/savour-the-principles-of-laravelschedule-planning-task/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-10-30/savour-the-principles-of-laravelschedule-planning-task/</id>
    <published>2018-10-30T06:00:00.000Z</published>
    <updated>2018-11-06T13:10:37.180Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Laravel-Schedule-åŸç†å‰–æ"><a href="#Laravel-Schedule-åŸç†å‰–æ" class="headerlink" title="Laravel-Schedule åŸç†å‰–æ"></a>Laravel-Schedule åŸç†å‰–æ</h2><p>ä»‹ç»åŸç†ä¹‹å‰ï¼Œå…ˆè‡ªçœå‡ å¥ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´æ²¡æœ‰ç å­—å•¦ï¼Œé‚£ç§å·¥ä½œåœä¸ä¸‹æ¥çš„ä¹ æƒ¯å¾—æ”¹ä¸€æ”¹ã€‚å†å¿™éƒ½åº”è¯¥ç»™è‡ªå·±ç•™å‡ºä¸€ç‚¹ç©ºé—²çš„æ—¶é—´ï¼Œç”¨æ¥æ€»ç»“å’Œæå‡æŠ€èƒ½ã€‚</p><p>åˆ°æ­¤ä¸ºæ­¢</p><hr><h3 id="äº‹æƒ…èµ·å› ï¼š"><a href="#äº‹æƒ…èµ·å› ï¼š" class="headerlink" title="äº‹æƒ…èµ·å› ï¼š"></a>äº‹æƒ…èµ·å› ï¼š</h3><p>æ˜¨å¤©ï¼Œåœ¨å·¥ä½œè¿‡ç¨‹ä¸­å’ŒåŒäº‹è®¨è®ºåˆ°<code>Laravel-Schedule</code>ä»»åŠ¡è®¡åˆ’çš„é—®é¢˜ã€‚æœ¬æ¥ï¼Œå¯¹<code>Schedule</code>æ²¡æœ‰æ·±å…¥æ¢ç´¢ï¼Œå¹¶ä¸ç†è§£ä»»åŠ¡çš„æ³¨å†Œå’Œæ‰§è¡Œè¿‡ç¨‹ï¼ŒåŸºäºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¿«é€Ÿæµè§ˆäº†ä¸€éè¿™ä¸ªæ¨¡å—çš„æºä»£ç ã€‚<br>å¹¶ç»“åˆè‡ªå·±çš„ç†è§£æ¥æè¿°<code>Laravel-Schedule</code>çš„åŸºæœ¬æ‰§è¡ŒåŸç†ï¼Œå¯èƒ½æœ‰å¾ˆå¤šä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œå‹¿å–·ï¼Œå¦‚æœä½ æœ‰ä¸åŒçš„çœ‹æ³•ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€å¹¶ä¸€èµ·æ¢ç´¢ï¼Œæ„Ÿè°¢ï¼</p><h3 id="æ–‡ç« æ¦‚è¿°"><a href="#æ–‡ç« æ¦‚è¿°" class="headerlink" title="æ–‡ç« æ¦‚è¿°"></a>æ–‡ç« æ¦‚è¿°</h3><p><code>LS</code>è®¡åˆ’ä»»åŠ¡ï¼Œåç§°å¤ªé•¿ï¼Œæœ¬æ–‡ä½¿ç”¨<code>LS</code>ä»£æ›¿<code>Laravel-Schedule</code>é•¿å‘½åã€‚</p><p><code>LS</code>æµç¨‹åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œæ ¹æ®é…ç½®çš„Commandå‘½ä»¤ã€Cronè¡¨è¾¾å¼è¿›è¡Œæ³¨å†Œäº‹ä»¶ï¼›</li><li>ç¬¬äºŒæ­¥ï¼Œæ“ä½œç³»ç»Ÿé…ç½®æ¯åˆ†é’Ÿè§¦å‘<code>LS</code>ï¼Œç”±<code>LS</code>è‡ªä¸»å®Œæˆäº‹ä»¶<code>æ˜¯å¦ç¬¦åˆæ‰§è¡Œæ—¶é—´è¿‡æ»¤</code>ï¼Œ<code>é‡å¤æ€§æ£€æŸ¥</code>ï¼Œå¹¶å¯é€‰<code>Background</code>æˆ–è€…<code>Foreground</code>è¿›è¡Œæ‰§è¡Œä»»åŠ¡ã€‚</li></ul><h3 id="äº‹ä»¶æ³¨å†Œ"><a href="#äº‹ä»¶æ³¨å†Œ" class="headerlink" title="äº‹ä»¶æ³¨å†Œ"></a>äº‹ä»¶æ³¨å†Œ</h3><p>åœ¨å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºå…¥å£æ–‡ä»¶<code>artisan</code>é¦–å…ˆå¼•å…¥<code>bootstrap/app.php</code><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$app-&gt;singleton(</span><br><span class="line">    Illuminate\Contracts\Console\Kernel::class,</span><br><span class="line">    App\Console\Kernel::class</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>å‘å®¹å™¨ä¸­æ³¨å†Œ<code>Laravel-Kernel</code>ï¼Œå¹¶ä½¿ç”¨<code>make</code>æ„å»ºå®ä¾‹<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$kernel = $app-&gt;make(Illuminate\Contracts\Console\Kernel::class);</span><br></pre></td></tr></table></figure></p><p><code>App\Console\Kernel</code> ç»§æ‰¿äº <code>Illuminate\Foundation\Console\Kernel</code></p><p>æ‰€ä»¥åœ¨å®ä¾‹è¿‡ç¨‹ä¸­ä¼šè°ƒç”¨<code>Illuminate\Foundation\Console\Kernel</code>æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Application $app, Dispatcher $events)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (! defined(<span class="string">'ARTISAN_BINARY'</span>)) &#123;</span><br><span class="line">        define(<span class="string">'ARTISAN_BINARY'</span>, <span class="string">'artisan'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;app = $app;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;events = $events;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;app-&gt;booted(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;defineConsoleSchedule();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåˆå®Œæˆäº†ä¸€æ¬¡äº‹ä»¶æ³¨å†Œï¼Œåœ¨åº”ç”¨å¯åŠ¨<code>booted</code>å®Œæˆåå›è°ƒ <code>$this-&gt;defineConsoleSchedule()</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">defineConsoleSchedule</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;app-&gt;singleton(Schedule::class, <span class="function"><span class="keyword">function</span> <span class="params">($app)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Schedule;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $schedule = <span class="keyword">$this</span>-&gt;app-&gt;make(Schedule::class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;schedule($schedule);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡ç‚¹åœ¨äº<code>defineConsoleSchedule</code>è¿™ä¸ªæ–¹æ³•ï¼Œå®¹å™¨ä¸­æ³¨å†Œå¹¶å®ä¾‹åŒ–<code>Schedule</code>å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨å€ä¼ é€’å¯¹<code>Schedule</code>å®ä¾‹è¿›è¡Œæ“ä½œï¼Œ<strong>è¿™é‡Œçš„æ“ä½œå°±æ˜¯è®¡åˆ’ä»»åŠ¡çš„äº‹ä»¶æ³¨å†Œ</strong>ã€‚</p><p><code>Illuminate\Foundation\Console\Kernel</code> ä¸­çš„<code>schedule</code>æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Define the application's command schedule.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  \Illuminate\Console\Scheduling\Schedule  $schedule</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">schedule</span><span class="params">(Schedule $schedule)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨è¿™é‡Œä¿®æ”¹ä»»ä½•ä»£ç ã€‚ä¸Šé¢ï¼Œæˆ‘ä»¬è¯´è¿‡<code>Laravel-Kernel</code>å¯¹è±¡çš„å®ä¾‹ç±»æ˜¯<code>App\Console\Kernel</code>ï¼Œä»–ç»§æ‰¿äº†<code>Illuminate\Foundation\Console\Kernel</code>ç±»ã€‚<br><br>æ‰€ä»¥æˆ‘ä»¬åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿå¯ä»¥æ¸…æ¥šçœ‹åˆ°ï¼Œè®¡åˆ’ä»»åŠ¡çš„é…ç½®æ˜¯åœ¨<code>App\Console\Kernel</code>ä¸­çš„<code>schedule</code>æ–¹æ³•ä¸­å®šä¹‰çš„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Define the application's command schedule.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  \Illuminate\Console\Scheduling\Schedule $schedule</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">schedule</span><span class="params">(Schedule $schedule)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $schedule-&gt;command(<span class="string">'inspire'</span>)-&gt;hourly();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹<strong>å®˜æ–¹æ–‡æ¡£</strong>çš„è§£è¯»ï¼š</p><h4 id="Closure-å®šä¹‰è°ƒåº¦"><a href="#Closure-å®šä¹‰è°ƒåº¦" class="headerlink" title="Closure å®šä¹‰è°ƒåº¦"></a>Closure å®šä¹‰è°ƒåº¦</h4><p>ä½¿ç”¨<code>Closure</code>å®šä¹‰è°ƒåº¦ã€‚ä¾‹å¦‚ï¼Œæ¯å¤©ä½¿ç”¨DBæ„é€ å™¨æ–¹å¼æ¥æ¸…ç©ºæ•°æ®åº“ä¸€ä¸ªè¡¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$schedule-&gt;call(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    DB::table(<span class="string">'recent_users'</span>)-&gt;delete();</span><br><span class="line">&#125;)-&gt;daily();</span><br></pre></td></tr></table></figure><h4 id="Artisan-å‘½ä»¤è°ƒåº¦"><a href="#Artisan-å‘½ä»¤è°ƒåº¦" class="headerlink" title="Artisan å‘½ä»¤è°ƒåº¦"></a>Artisan å‘½ä»¤è°ƒåº¦</h4><p>é™¤äº†è®¡åˆ’ Closure è°ƒç”¨ï¼Œä½ è¿˜èƒ½è°ƒåº¦ Artisan å‘½ä»¤ å’Œæ“ä½œç³»ç»Ÿå‘½ä»¤ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™ command æ–¹æ³•ä¼ é€’å‘½ä»¤åç§°æˆ–è€…ç±»åç§°æ¥è°ƒåº¦ä¸€ä¸ª Artisan å‘½ä»¤ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$schedule-&gt;command(<span class="string">'emails:send --force'</span>)-&gt;daily();</span><br></pre></td></tr></table></figure><h4 id="é˜Ÿåˆ—ä»»åŠ¡è°ƒåº¦"><a href="#é˜Ÿåˆ—ä»»åŠ¡è°ƒåº¦" class="headerlink" title="é˜Ÿåˆ—ä»»åŠ¡è°ƒåº¦"></a>é˜Ÿåˆ—ä»»åŠ¡è°ƒåº¦</h4><p><code>job</code>æ–¹æ³•å¯ä»¥ç”¨æ¥è°ƒåº¦ é˜Ÿåˆ—ä»»åŠ¡ã€‚è¿™ä¸ªæ–¹æ³•æä¾›äº†ä¸€ç§å¿«æ·æ–¹å¼æ¥è°ƒåº¦ä»»åŠ¡ï¼Œæ— éœ€ä½¿ç”¨<code>call</code>æ–¹æ³•æ‰‹åŠ¨åˆ›å»ºé—­åŒ…æ¥è°ƒåº¦ä»»åŠ¡ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$schedule-&gt;job(<span class="keyword">new</span> Heartbeat)-&gt;everyFiveMinutes();</span><br></pre></td></tr></table></figure><h4 id="Shell-å‘½ä»¤è°ƒåº¦"><a href="#Shell-å‘½ä»¤è°ƒåº¦" class="headerlink" title="Shell å‘½ä»¤è°ƒåº¦"></a>Shell å‘½ä»¤è°ƒåº¦</h4><p>exec æ–¹æ³•å¯ç”¨äºå‘æ“ä½œç³»ç»Ÿå‘å‡ºå‘½ä»¤ï¼š<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$schedule-&gt;exec(<span class="string">'node /home/forge/script.js'</span>)-&gt;daily();</span><br></pre></td></tr></table></figure></p><p><code>LS</code> æä¾›å¾ˆå¤šæé«˜æˆ‘ä»¬å¼€å‘æ•ˆç‡çš„æ‰§è¡Œé¢‘ç‡æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>-&gt;cron(â€˜<em> </em> <em> </em> <em> </em>â€˜);</td><td>åœ¨è‡ªå®šä¹‰çš„ Cron æ—¶é—´è¡¨ä¸Šæ‰§è¡Œè¯¥ä»»åŠ¡</td></tr><tr><td>-&gt;everyMinute();</td><td>æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;everyFiveMinutes();</td><td>æ¯äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;everyTenMinutes();</td><td>æ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;everyFifteenMinutes();</td><td>æ¯åäº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;everyThirtyMinutes();</td><td>æ¯åŠå°æ—¶æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;hourly();</td><td>æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;hourlyAt(17);</td><td>æ¯å°æ—¶çš„ç¬¬ 17 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;daily();</td><td>æ¯å¤©åˆå¤œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;dailyAt(â€˜13:00â€™);</td><td>æ¯å¤©çš„ 13:00 æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;twiceDaily(1, 13);</td><td>æ¯å¤©çš„ 1:00 å’Œ 13:00 åˆ†åˆ«æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;weekly();</td><td>æ¯å‘¨æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;monthly();</td><td>æ¯æœˆæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;monthlyOn(4, â€˜15:00â€™);</td><td>åœ¨æ¯ä¸ªæœˆçš„ç¬¬å››å¤©çš„ 15:00 æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;quarterly();</td><td>æ¯å­£åº¦æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;yearly();</td><td>æ¯å¹´æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡</td></tr><tr><td>-&gt;timezone(â€˜America/New_Yorkâ€™);</td><td>è®¾ç½®æ—¶åŒº</td></tr></tbody></table><p>äº†è§£<code>LS</code>ç»™æˆ‘ä»¬æä¾›çš„å¤šç§ä»»åŠ¡å®šä¹‰å’Œæ‰§è¡Œé¢‘ç‡è®¾ç½®çš„æ–¹å¼åï¼Œæˆ‘ä»¬å›æ¥æ€è€ƒå…¶å®ç°çš„åŸç†æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</p><p><strong><code>schedule</code>æ–¹æ³•é‡Œçš„æ¯ä¸€å¥ä»»åŠ¡çš„å®šä¹‰ï¼Œå°±æ˜¯æ„é€ ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªäº‹ä»¶å¯¹è±¡æ”¾åˆ°æ•°ç»„é‡Œ</strong></p><p><code>Illuminate\Console\Scheduling\Schedule.php</code> commandæ–¹æ³•çš„æ ¸å¿ƒå®ç°ä»£ç å¦‚ä¸‹:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$this</span>-&gt;events[] = $event = <span class="keyword">new</span> Event(<span class="keyword">$this</span>-&gt;mutex, $command);</span><br></pre></td></tr></table></figure></p><p><code>mutex</code> è¿™ä¸ªå˜é‡ç”¨æ¥æ§åˆ¶äº‹ä»¶å½“å‰æ—¶é—´æ‰§è¡Œçš„ä¸å¯é‡å¤æ€§ï¼Œåœ¨è¿™é‡Œå…ˆä¸ç»†ç©¶ã€‚</p><p><strong><code>schedule</code>æ–¹æ³•é‡Œçš„æ¯ä¸€å¥è°ƒåº¦é¢‘ç‡è®¾ç½®ï¼Œå°±æ˜¯è¡¨è¾¾å¼çš„æ„å»º</strong></p><p>è¿™ä¸ªè¡¨è¾¾å¼ <code>expression</code> å°±æ˜¯ä¸æˆ‘ä»¬å¸¸ç”¨<code>crontab</code>è¡¨è¾¾å¼æ˜¯åŒæ ·çš„ç±»å‹ï¼Œ<code>everyTenMinutes()</code> æ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œå…¶å®å¯¹åº”çš„è¡¨è¾¾å¼å°±æ˜¯<code>*/10 * * * * *</code>ï¼Œå…·ä½“<code>LS</code> å®ç°ä»£ç å¦‚ä¸‹ï¼Œåº”è¯¥ä¸éš¾çœ‹æ‡‚ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> $expression = <span class="string">'* * * * * *'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">everyTenMinutes</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;spliceIntoPosition(<span class="number">1</span>, <span class="string">'*/10'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">spliceIntoPosition</span><span class="params">($position, $value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $segments = explode(<span class="string">' '</span>, <span class="keyword">$this</span>-&gt;expression);</span><br><span class="line">    $segments[$position - <span class="number">1</span>] = $value;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;cron(implode(<span class="string">' '</span>, $segments));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¾ˆé‡è¦ï¼Œå› ä¸ºäº‹ä»¶çš„è¿‡æ»¤ä¸­ï¼Œéœ€è¦åŒ¹é…æ‰§è¡Œæ—¶é—´æ˜¯å¦ç­‰äºå½“å‰æ—¶é—´ã€‚</p><h3 id="è¿è¡Œäº‹ä»¶"><a href="#è¿è¡Œäº‹ä»¶" class="headerlink" title="è¿è¡Œäº‹ä»¶"></a>è¿è¡Œäº‹ä»¶</h3><p>å¯åŠ¨è°ƒåº¦å™¨ï¼Œä½¿ç”¨è°ƒåº¦å™¨æ—¶ï¼Œåªéœ€å°†ä»¥ä¸‹<code>Cron</code>é¡¹ç›®æ·»åŠ åˆ°æœåŠ¡å™¨:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* * * * * php /path-to-your-project/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ª<code>Cron</code>ä¼šæ¯åˆ†é’Ÿè°ƒç”¨ä¸€æ¬¡<code>LS</code>å‘½ä»¤è°ƒåº¦å™¨ã€‚æ‰§è¡Œ<code>schedule:run</code>å‘½ä»¤æ—¶ï¼Œ <code>LS</code>ä¼šæ ¹æ®ä½ çš„è°ƒåº¦è¿è¡Œé¢„å®šä»»åŠ¡ã€‚</p><p>è®©æˆ‘ä»¬å¸¦ç€ç–‘é—®ç»§ç»­ç†è§£<code>LS</code>è¿è¡Œäº‹ä»¶åŸç†ã€‚</p><h4 id="schedule-run-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#schedule-run-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="schedule:run æ˜¯ä»€ä¹ˆï¼Ÿ"></a>schedule:run æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>æˆ‘ä»¬çœ‹ <code>Illuminate\Console\Scheduling\ScheduleRunCommand</code> ä»£ç æ˜¯æ€ä¹ˆå†™çš„ï¼Ÿå’Œæ™®é€šè‡ªå®šä¹‰<code>Artisan</code>å‘½ä»¤ä¸€æ ·ï¼Œç»§æ‰¿ <code>Command</code> åŸºç±»ã€‚ç„¶åå…·ä½“ä»»åŠ¡å†…å®¹åœ¨<code>handle</code>æ–¹æ³•é‡Œå®ç°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScheduleRunCommand</span> <span class="keyword">extends</span> <span class="title">Command</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;schedule-&gt;dueEvents(<span class="keyword">$this</span>-&gt;laravel) <span class="keyword">as</span> $event) &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            $event-&gt;run(<span class="keyword">$this</span>-&gt;laravel);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>dueEvents</code> å®Œæˆè¿‡æ»¤åŠ¨ä½œ <code>collect($this-&gt;events)-&gt;filter-&gt;isDue($app)</code> ä½¿ç”¨ <code>isDue</code> æ–¹æ³•è¿›è¡Œè¿‡æ»¤ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">isDue</span><span class="params">($app)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (! <span class="keyword">$this</span>-&gt;runsInMaintenanceMode() &amp;&amp; $app-&gt;isDownForMaintenance()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;expressionPasses() &amp;&amp;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;runsInEnvironment($app-&gt;environment());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">expressionPasses</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $date = Carbon::now();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;timezone) &#123;</span><br><span class="line">        $date-&gt;setTimezone(<span class="keyword">$this</span>-&gt;timezone);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> CronExpression::factory(<span class="keyword">$this</span>-&gt;expression)-&gt;isDue($date-&gt;toDateTimeString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®åŸç†å¾ˆç®€å•ï¼Œæ–¹æ³•<code>expressionPasses</code>é€šè¿‡<code>Carbon</code>ç¬¬ä¸‰æ–¹æ‰©å±•åŒ…è·å–å½“å‰æ—¶é—´ï¼Œå¹¶ä¸Eventå®ä¾‹çš„<code>Expression</code>è¿›è¡ŒåŒ¹å¯¹ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;getNextRunDate($currentDate, <span class="number">0</span>, <span class="keyword">true</span>)-&gt;getTimestamp() == $currentTime</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿”å›<code>True</code>ï¼Œé‚£å°±è¡¨ç¤º<code>Event</code>éœ€è¦æ‰§è¡Œã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$event-&gt;run(<span class="keyword">$this</span>-&gt;laravel);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">(Container $container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;withoutOverlapping &amp;&amp;</span><br><span class="line">        ! <span class="keyword">$this</span>-&gt;mutex-&gt;create(<span class="keyword">$this</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;runInBackground</span><br><span class="line">                ? <span class="keyword">$this</span>-&gt;runCommandInBackground($container)</span><br><span class="line">                : <span class="keyword">$this</span>-&gt;runCommandInForeground($container);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>withoutOverlapping</code> å’Œ <code>mutex</code> å°±æ˜¯åœ¨è¿™é‡Œæ§åˆ¶ä»»åŠ¡é‡å¤æ‰§è¡Œã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">new</span> Process(</span><br><span class="line">    <span class="keyword">$this</span>-&gt;buildCommand(), base_path(), <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span></span><br><span class="line">))-&gt;run();</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œç”±æ‰§è¡Œå™¨æ‰§è¡Œå‘½ä»¤ä»»åŠ¡â€¦done</p><hr><h3 id="å‡ ç‚¹ç–‘é—®ï¼Ÿ"><a href="#å‡ ç‚¹ç–‘é—®ï¼Ÿ" class="headerlink" title="å‡ ç‚¹ç–‘é—®ï¼Ÿ"></a>å‡ ç‚¹ç–‘é—®ï¼Ÿ</h3><p><strong>1.å‡è®¾æ¯ä¸ªäº”åˆ†é’Ÿæ‰§è¡Œï¼Œæ¯”å¦‚08:52å®šä¹‰å‘½ä»¤è°ƒåº¦<code>Command</code>åˆ°<code>Schedule</code>ï¼Œä¼šåœ¨08:57æ—¶åˆ»æ‰§è¡Œï¼Ÿ</strong></p><p>ä¸ä¼šï¼Œåªä¼šåœ¨08:55æ—¶åˆ»æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³æ—¶é’Ÿçš„å›ºå®šå‘¨æœŸã€‚</p><p><strong>2.ä»»åŠ¡è°ƒåº¦çš„ä¸¤ç§æ‰§è¡Œæ–¹å¼<code>runCommandInBackground</code> ä¸ <code>runCommandInForeground</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><p><code>runCommandInBackground</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">runCommandInBackground</span><span class="params">(Container $container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;callBeforeCallbacks($container);</span><br><span class="line"></span><br><span class="line">    (<span class="keyword">new</span> Process(</span><br><span class="line">        <span class="keyword">$this</span>-&gt;buildCommand(), base_path(), <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span></span><br><span class="line">    ))-&gt;run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>runCommandInForeground</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">runCommandInForeground</span><span class="params">(Container $container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;callBeforeCallbacks($container);</span><br><span class="line"></span><br><span class="line">    (<span class="keyword">new</span> Process(</span><br><span class="line">        <span class="keyword">$this</span>-&gt;buildCommand(), base_path(), <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span></span><br><span class="line">    ))-&gt;run();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">$this</span>-&gt;callAfterCallbacks($container);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·®åˆ«åœ¨äº <code>$this-&gt;callAfterCallbacks($container)</code> ï¼Œæ˜¯å¦ç­‰å¾…å½“å‰ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¦‚æœé€‰æ‹© <code>runCommandInBackground</code> æ–¹å¼è¿è¡Œï¼Œä»»åŠ¡å‘½ä»¤ç›´æ¥ä¼ é€’ç»™æ“ä½œç³»ç»Ÿè¿›è¡Œæ‰§è¡Œï¼Œç„¶åç›´æ¥è¿”å›ï¼Œç­‰å¾…æ“ä½œç³»ç»Ÿæ‰§è¡Œå®Œæˆä»»åŠ¡åï¼Œä¼šæ‰§è¡Œå¦ä¸€æ¡å‘½ä»¤ <code>schedule:finish</code> é€šè¿‡äº‹ä»¶ID()è¿›è¡Œå¼‚æ­¥å“åº”å¯¹åº”çš„ä»»åŠ¡äº‹ä»¶ã€‚</p><p><strong>3.Closure å®šä¹‰è°ƒåº¦ï¼Œå’Œå‘½ä»¤å…¶ä»–æ–¹å¼å®šä¹‰è°ƒåº¦æ˜¯ä¸ç›¸åŒçš„ï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹<code>CallBackEvent-&gt;run()</code> åŒæ­¥æ–¹å¼æ‰§è¡Œ</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Laravel-Schedule-åŸç†å‰–æ&quot;&gt;&lt;a href=&quot;#Laravel-Schedule-åŸç†å‰–æ&quot; class=&quot;headerlink&quot; title=&quot;Laravel-Schedule åŸç†å‰–æ&quot;&gt;&lt;/a&gt;Laravel-Schedule åŸç†å‰–æ&lt;/
      
    
    </summary>
    
      <category term="Laravel" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Laravel/"/>
    
    
      <category term="Laravel" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Laravel/"/>
    
      <category term="Schedule" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Schedule/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-09-06/website-seo-optimization-solution/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-09-06/website-seo-optimization-solution/</id>
    <published>2018-09-06T07:12:00.000Z</published>
    <updated>2018-11-06T13:11:00.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ"><a href="#ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ"></a>ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ</h2><h3 id="ä¼˜åŒ–æ­¥éª¤"><a href="#ä¼˜åŒ–æ­¥éª¤" class="headerlink" title="ä¼˜åŒ–æ­¥éª¤"></a>ä¼˜åŒ–æ­¥éª¤</h3><ul><li><p>1ã€ç†Ÿæ‚‰ä¸šåŠ¡ã€äº†è§£ç”¨æˆ·è¡Œä¸ºã€ç ”ç©¶å…³é”®è¯å¹¶å»ºç«‹å…³é”®è¯åº“ï¼›</p></li><li><p>2ã€ç†Ÿæ‚‰è‡ªèº«åŠç«äº‰å¯¹æ‰‹ç½‘ç«™æ„æ¶ã€å†…å®¹ç»„ç»‡å½¢å¼å¹¶é’ˆå¯¹æ€§éƒ¨ç½²GAä»£ç ï¼›</p></li><li><p>3ã€æ ¹æ®é‡ç‚¹å…³é”®è¯å¯¹ç…§ç½‘ç«™é¡µé¢ä»¥ç¡®å®šMetaä¿®æ”¹æˆ–é¢‘é“æ–°å¢æ–¹æ¡ˆï¼›</p></li><li><p>4ã€åˆ†ææœåŠ¡å™¨æ—¥å¿—äº†è§£æ•´ç«™æœç´¢å¼•æ“èµ„æºé…æ¯”åŠé—®é¢˜ï¼Œæ‰§è¡Œé¡µé¢ä¿®æ”¹ã€Robotsä¿®æ”¹ã€Sitemapä¿®æ”¹ã€æ–°å¢é¡µé¢åŠè°ƒæ•´æœåŠ¡å™¨ç­‰æ–¹æ¡ˆï¼›</p></li><li><p>5ã€å®¡æŸ¥é¡µé¢å…ƒç´ ã€å†…å®¹å¸ƒå±€ã€åŠ è½½åŠä»£ç ç­‰å¹¶æ‰§è¡Œç›¸åº”æ–¹æ¡ˆï¼›</p></li><li><p>6ã€ç»“åˆæœåŠ¡å™¨æ—¥å¿—åŠç”¨æˆ·ä½“éªŒæ„å»ºç«™å†…é“¾æ¥æ¨èç³»ç»Ÿå¹¶æ‰§è¡Œç›¸åº”æ–¹æ¡ˆï¼›</p></li><li><p>7ã€ç¡®å®šåŸŸåã€URLç­‰æ˜¯å¦æœ‰å¿…è¦ä¿®æ”¹å¹¶æ‰§è¡Œç›¸åº”æ–¹æ¡ˆï¼›</p></li><li><p>8ã€å‚ä¸æœç´¢å¼•æ“æ–°é—»æºã€å¼€æ”¾å¹³å°ç­‰åˆä½œï¼›</p></li><li><p>9ã€å®šæœŸç»™ç¼–è¾‘äººå‘˜æä¾›å…³é”®è¯ä»¥ä¾›å†…å®¹è¿è¥ï¼›</p></li><li><p>10ã€æ ¹æ®è‡ªèº«åŠç«äº‰å¯¹æ‰‹æƒ…å†µï¼Œäº¤æ¢å‹æƒ…é“¾æ¥ã€åˆ¶é€ å¤–é“¾ç­‰ï¼›</p></li><li><p>11ã€ç½‘ç«™é¡µé¢ç»†åŒ–åˆ†ç±»å¹¶å¯¹æ¯”åˆ†æçˆ¬å–ã€æ”¶å½•ã€æµé‡ã€æ’åç­‰æ•°æ®å¹¶é’ˆå¯¹æ€§æ‰§è¡Œç›¸åº”æ–¹æ¡ˆï¼›</p></li><li><p>12ã€é€šè¿‡ç™¾ç§‘ã€çŸ¥é“ã€æ–‡åº“ã€è®ºå›ç­‰å¸å¼•å“ç‰Œè¯æˆ–å¼•èæµé‡ï¼›</p></li><li><p>13ã€åˆ†æç”¨æˆ·çš„ç½‘ç«™è¡Œä¸ºï¼Œå¹¶æŒ‡å¯¼äº§å“ç»ç†è¿›è¡Œæ”¹è¿›ï¼›</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;ç½‘ç«™SEOä¼˜åŒ–æ–¹æ¡ˆ&lt;/h2&gt;&lt;h3 id=&quot;ä¼˜åŒ–æ­¥éª¤&quot;&gt;&lt;a href=&quot;#ä¼˜åŒ–æ­¥éª¤&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="SEO" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/SEO/"/>
    
    
      <category term="SEO" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/SEO/"/>
    
  </entry>
  
  <entry>
    <title>å¤§æ•°æ®æ¯”èµ›</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-09-04/big-data-contest/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-09-04/big-data-contest/</id>
    <published>2018-09-04T07:12:00.000Z</published>
    <updated>2018-11-06T13:07:17.629Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤§æ•°æ®æ¯”èµ›"><a href="#å¤§æ•°æ®æ¯”èµ›" class="headerlink" title="å¤§æ•°æ®æ¯”èµ›"></a>å¤§æ•°æ®æ¯”èµ›</h2><h3 id="æ¯”èµ›æ—¥ç¨‹"><a href="#æ¯”èµ›æ—¥ç¨‹" class="headerlink" title="æ¯”èµ›æ—¥ç¨‹"></a>æ¯”èµ›æ—¥ç¨‹</h3><ul><li>ç¬¬ä¸€å¤©ï¼Œå‚ä¸å¤§æ•°æ®åº”ç”¨çš„åŸ¹è®­è¯¾ç¨‹ï¼Œäº†è§£ä¸ç†Ÿæ‚‰æ­å»ºå¤§æ•°æ®å¹³å°æ‰€ä½¿ç”¨çš„å·¥å…·ï¼›</li><li>ç¬¬äºŒå¤©ï¼Œå¤§æ•°æ®å·¥å…·ä½¿ç”¨å®è·µï¼ŒæŒæ¡æ“ä½œå¹³å°çš„åŸºæœ¬å‘½ä»¤ä¸æŠ€å·§ï¼›</li><li>ç¬¬ä¸‰å¤©ï¼Œæ¯”èµ›æ­£å¼å¼€å§‹ï¼Œå°†é‡‡é›†æ•°æ®å¯¼å…¥å¤§æ•°æ®å¹³å°ï¼Œå¹¶ä½¿ç”¨Hiveç­‰å·¥å…·å¯¹æ•°æ®è¿›è¡Œæ¢ç´¢ï¼›</li><li>ç¬¬å››å¤©ï¼Œå‡è®¾åˆ†ææ¨¡å‹ï¼Œå¹¶å¯¹æ¨¡å‹è¿›è¡ŒéªŒè¯å’Œå¯è¡Œæ€§åˆ†æï¼›</li><li>ç¬¬äº”å¤©ï¼Œæ•°æ®è¿‡æ»¤ä¸ç‰¹å¾é¡¹æå–ï¼Œå¹¶æ¶ˆé™¤æ•°æ®å™ªéŸ³ï¼Œå¾—åˆ°åˆé€‚æ¨¡å‹è¾“å…¥çš„æ•°æ®é›†ï¼›</li><li>ç¬¬å…­å¤©ï¼Œæ¨¡å‹è®­ç»ƒï¼Œå¹¶è°ƒä¼˜å‚æ•°ï¼Œæ‹Ÿåˆæ•°å­¦æ¨¡å‹å¾—å‡ºåº”ç”¨æ¨¡å‹ï¼Œå¹¶å¯¹åº”ç”¨æ¨¡å‹è¿›è¡ŒRå¹³æ–¹ä¸FéªŒè¯ï¼›</li><li>ç¬¬ä¸ƒå¤©ï¼Œå†…å®¹æ¢³ç†ï¼Œå‡†å¤‡æ±‡æŠ¥PPTä¸æ¼”ç¤ºDEMOç¨‹åºï¼›</li><li>ç¬¬å…«å¤©ï¼Œæˆæœæ±‡æŠ¥ä¸åº”ç”¨å±•ç¤ºï¼Œå¬å–è¯„å§”æ„è§ï¼Œå‚åŠ é¢å¥–ä¸æ¯”èµ›ç»“æŸåˆå½±ï¼›</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¤§æ•°æ®æ¯”èµ›&quot;&gt;&lt;a href=&quot;#å¤§æ•°æ®æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;å¤§æ•°æ®æ¯”èµ›&quot;&gt;&lt;/a&gt;å¤§æ•°æ®æ¯”èµ›&lt;/h2&gt;&lt;h3 id=&quot;æ¯”èµ›æ—¥ç¨‹&quot;&gt;&lt;a href=&quot;#æ¯”èµ›æ—¥ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;æ¯”èµ›æ—¥ç¨‹&quot;
      
    
    </summary>
    
      <category term="æ•°æ®æŒ–æ˜" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/"/>
    
    
      <category term="å¤§æ•°æ®" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="æ•°æ®æŒ–æ˜" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/"/>
    
  </entry>
  
  <entry>
    <title>èŠèŠè·¨åŸŸé—®é¢˜</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-08-23/talking-about-crossdomain-issues/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-08-23/talking-about-crossdomain-issues/</id>
    <published>2018-08-23T07:12:00.000Z</published>
    <updated>2018-11-07T00:59:30.864Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸ"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸ</h2><p>è·¨åŸŸï¼Œå°±æ˜¯Webæµè§ˆå™¨çš„åŒæºæ”¿ç­–çš„çº¦æŸ</p><p>åœ¨æ–‡ç«  ã€ŠWebæµè§ˆå™¨åŒæºæ”¿ç­–åŠå…¶è§„é¿æ–¹æ³•ã€‹ å·²ç»è¯¦ç»†è®²è§£ </p><p><a href="https://www.helingfeng.com/2018-06-12/web-browser-homology-policy-and-its-avoidance-method/">https://www.helingfeng.com/2018-06-12/web-browser-homology-policy-and-its-avoidance-method/</a></p><h2 id="é—®é¢˜1ï¼šè·¨åŸŸæ—¶ï¼Œéœ€è¦æºå¸¦-Cookies"><a href="#é—®é¢˜1ï¼šè·¨åŸŸæ—¶ï¼Œéœ€è¦æºå¸¦-Cookies" class="headerlink" title="é—®é¢˜1ï¼šè·¨åŸŸæ—¶ï¼Œéœ€è¦æºå¸¦ Cookies"></a>é—®é¢˜1ï¼šè·¨åŸŸæ—¶ï¼Œéœ€è¦æºå¸¦ <code>Cookies</code></h2><p>è§£å†³åŠæ³•ï¼šå¯¹äº<code>ajax</code>å¼‚æ­¥è¯·æ±‚ï¼Œéœ€è¦æ·»åŠ å‚æ•° <code>withCredentials: true</code> </p><p>JQuery å®ä¾‹ï¼š </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>.ajax(&#123;</span><br><span class="line">   url: a_cross_domain_url,</span><br><span class="line">   // å°†XHRå¯¹è±¡çš„withCredentialsè®¾ä¸ºtrue</span><br><span class="line">   xhrFields: &#123;</span><br><span class="line">      withCredentials: true</span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä½¿ç”¨<code>withCredentials=true</code> æ—¶ï¼Œallow-origin éœ€è¦æŒ‡å®š<code>host</code>,è€Œä¸èƒ½ä½¿ç”¨<code>*</code>é€šé…</p><p>ä¾‹å¦‚ï¼š<code>www.demo.com</code> è¿›è¡Œè·¨åŸŸè¯·æ±‚<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// add_header Access-Control-Allow-Origin *; //é”™è¯¯å†™æ³•</span><br><span class="line">add_header Access-Control-Allow-Origin www.demo.com;  // æ­£ç¡®å†™æ³•</span><br><span class="line">add_header Access-Control-Allow-Credentials true always;</span><br><span class="line">add_header Access-Control-Allow-Headers Content-Type,Authorization,Accept,X-Requested-With,X-CSRF-TOKEN,withCredentials always;</span><br><span class="line">add_header Access-Control-Allow-Methods GET,POST,OPTIONS,DELETE,PUT always;</span><br></pre></td></tr></table></figure></p><h2 id="é—®é¢˜2ï¼šè·¨åŸŸæ—¶ï¼Œåå°æ— æ³•åˆ¤æ–­-is-ajax"><a href="#é—®é¢˜2ï¼šè·¨åŸŸæ—¶ï¼Œåå°æ— æ³•åˆ¤æ–­-is-ajax" class="headerlink" title="é—®é¢˜2ï¼šè·¨åŸŸæ—¶ï¼Œåå°æ— æ³•åˆ¤æ–­ is_ajax"></a>é—®é¢˜2ï¼šè·¨åŸŸæ—¶ï¼Œåå°æ— æ³•åˆ¤æ–­ <code>is_ajax</code></h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåç«¯é€šè¿‡å¤´éƒ¨æ˜¯å¦å­˜åœ¨<code>&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;</code>æ¥æ–­å®šå¼‚æ­¥è¯·æ±‚</p><p>jquery ajax è·¨åŸŸæ—¶ï¼Œä¸æºå¸¦æ­¤å¤´éƒ¨æè¿°ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><h3 id="1-æäº¤æ—¶ï¼Œå¸¦ä¸ŠX-Requested-Withå¤´éƒ¨"><a href="#1-æäº¤æ—¶ï¼Œå¸¦ä¸ŠX-Requested-Withå¤´éƒ¨" class="headerlink" title="1. æäº¤æ—¶ï¼Œå¸¦ä¸ŠX-Requested-Withå¤´éƒ¨"></a>1. æäº¤æ—¶ï¼Œå¸¦ä¸Š<code>X-Requested-With</code>å¤´éƒ¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line"><span class="code">    url: "http://your-url...",</span></span><br><span class="line"><span class="code">    headers: &#123;'X-Requested-With': 'XMLHttpRequest'&#125;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2-è®¾ç½®crossDomain"><a href="#2-è®¾ç½®crossDomain" class="headerlink" title="2. è®¾ç½®crossDomain"></a>2. è®¾ç½®<code>crossDomain</code></h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line"><span class="code">    url: "http://your-url...",</span></span><br><span class="line"><span class="code">    crossDomain: false</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»€ä¹ˆæ˜¯è·¨åŸŸ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯è·¨åŸŸ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯è·¨åŸŸ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯è·¨åŸŸ&lt;/h2&gt;&lt;p&gt;è·¨åŸŸï¼Œå°±æ˜¯Webæµè§ˆå™¨çš„åŒæºæ”¿ç­–çš„çº¦æŸ&lt;/p&gt;
&lt;p&gt;åœ¨æ–‡ç«  ã€ŠWebæµè§ˆå™¨åŒæºæ”¿ç­–åŠå…¶è§„é¿æ–¹æ³•ã€‹ å·²ç»è¯¦ç»†è®²è§£ &lt;
      
    
    </summary>
    
      <category term="JavaScript" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>é¢‘ç¹é¡¹æ•°æ®æŒ–æ˜</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-08-06/frequent-item-data-mining/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-08-06/frequent-item-data-mining/</id>
    <published>2018-08-06T08:46:00.000Z</published>
    <updated>2018-11-06T13:11:42.415Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ—¶ä»£çš„å˜è¿"><a href="#æ—¶ä»£çš„å˜è¿" class="headerlink" title="æ—¶ä»£çš„å˜è¿"></a>æ—¶ä»£çš„å˜è¿</h3><ul><li>æ›¾ç»æˆ‘å¬ä¸€ä¸ªå¤–å›½äººè¯´è¿‡è¿™æ ·ä¸€å¥è¯ï¼Œç¿»è¯‘è¿‡æ¥æ˜¯è¿™æ ·çš„æ„æ€ï¼š<code>ç¨‹åºå‘˜</code>å°±å¥½æ¯”<code>å»ºç­‘å·¥äºº</code>ï¼Œå¦‚æœä½ ä¸æ‡‚æ•°æ®æŒ–æ˜ä¸æœºå™¨å­¦ä¹ ï¼Œé‚£ä½ æ˜¯ä¸€ä¸ª<code>æ³¥ç“¦å·¥</code>ï¼Œåä¹‹ï¼Œä½ æ˜¯ä¸€ä½æŒæ¡<code>è“å›¾</code>çš„å·¥ç¨‹å¸ˆã€‚</li></ul><h3 id="æ•°æ®æŒ–æ˜-FPGrowth"><a href="#æ•°æ®æŒ–æ˜-FPGrowth" class="headerlink" title="æ•°æ®æŒ–æ˜ FPGrowth"></a>æ•°æ®æŒ–æ˜ FPGrowth</h3><h4 id="æ¶‰åŠç®—æ³•"><a href="#æ¶‰åŠç®—æ³•" class="headerlink" title="æ¶‰åŠç®—æ³•"></a><strong>æ¶‰åŠç®—æ³•</strong></h4><ul><li><code>Apriori</code> ç®—æ³•</li><li><code>FPTree</code> ç®—æ³•</li><li>è‡³äºå…¶ä»–ç®—æ³•æˆ‘ä¹Ÿæ²¡æœ‰ç ”ç©¶ï½</li></ul><h4 id="Aprioriç®—æ³•"><a href="#Aprioriç®—æ³•" class="headerlink" title="Aprioriç®—æ³•"></a><strong>Aprioriç®—æ³•</strong></h4><p>Rakesh Agrawal å’Œ RamakrishnanSkrikant æå‡ºçš„ä¸€ç§å…·æœ‰å½±å“åŠ›çš„æŒ–å±€å¸ƒå°”å…³è”è§„åˆ™çš„é¢‘ç¹é¡¹é›†çš„ç®—æ³•ã€‚</p><ul><li><strong>ç®—æ³•åŸç†è®²è§£</strong></li></ul><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€å®¶å•†åº—ï¼Œå•†åº—æœ‰å››æ¬¾äº§å“<code>A</code>,<code>B</code>,<code>C</code>,<code>D</code>;<br>é‚£ä¹ˆæ‰€æœ‰å•†å“çš„æ— åºç»„åˆæ–¹å¼æœ‰<code>15</code>ç§(2^4-1);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A B C D </span><br><span class="line">AB AC AD BC BD CD </span><br><span class="line">ABC ABD ACD BCD</span><br><span class="line">ABCD</span><br></pre></td></tr></table></figure><p>æœ€<code>æš´åŠ›</code>çš„é¢‘ç¹é¡¹æŒ–æ˜ç®—æ³•ï¼Œå¯ä»¥éå†æ‰€æœ‰çš„ç»„åˆæ–¹å¼ï¼Œä½†æ˜¯ç»„åˆæ–¹å¼éšå•†å“æ•°é‡å¢é•¿æˆ<code>æŒ‡æ•°</code>ï¼Œæ‰€ä»¥å½“å•†å“æ•°é‡è¾ƒå¤šæ—¶ï¼Œç®—æ³•çš„æ•ˆç‡æ˜¯éå¸¸ä½çš„ã€‚</p><p> ç§‘å­¦å®¶å‘ç°ä¸€ç§æ‰€è°“çš„AprioriåŸç†ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‡å°‘è®¡ç®—é‡ã€‚<br> <code>AprioriåŸç†</code>æ˜¯è¯´å¦‚æœæŸä¸ªé¡¹é›†æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰å­é›†ä¹Ÿæ˜¯é¢‘ç¹çš„ã€‚æ›´å¸¸ç”¨çš„æ˜¯å®ƒçš„é€†å¦å‘½é¢˜ï¼Œå³å¦‚æœä¸€ä¸ªé¡¹é›†æ˜¯éé¢‘ç¹çš„ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰è¶…é›†ä¹Ÿæ˜¯éé¢‘ç¹çš„ã€‚</p><ul><li><p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><code>æ”¯æŒåº¦</code> support=P(AB) ç®€å•æ¥è¯´æ˜¯æŒ‡äº‹ä»¶Aå’Œäº‹ä»¶BåŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡</li><li><code>ç½®ä¿¡åº¦</code> confidence=P(AB)/P(A) è¡¨ç¤ºæ‰€æœ‰å•†å“äº¤æ˜“ä¸­æœ‰10%é¡¾å®¢åŒæ—¶ä¹°äº†Aå•†å“ï¼Œå¹¶ä¸”ä¹°Bçš„é¡¾å®¢æœ‰50%</li><li><code>Ké¡¹é›†</code> K(n)é¡¹é›†æ»¡è¶³æ”¯æŒåº¦é˜ˆå€¼çš„å¿…è¦æ¡ä»¶K(n-1)å­é¡¹é›†ä¹Ÿæ˜¯é¢‘ç¹é¡¹é›†ã€‚</li></ul></li><li><p><strong>ç®—æ³•æ€è·¯</strong></p></li></ul><p>å®ƒä½¿ç”¨ä¸€ç§ç§°ä¸ºé€å±‚æœç´¢çš„è¿­ä»£æ–¹æ³•ï¼ŒK(n)é¡¹é›†åˆç”¨äºæ¢ç´¢K(n+1)é›†åˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. é¦–å…ˆï¼Œç¡®å®šé¢‘ç¹è§„åˆ™`æ”¯æŒåº¦` support=50%</span><br><span class="line">2. æ‰¾å‡ºé¢‘ç¹é¡¹å€™é€‰`K1`é›†ï¼Œæ’é™¤æ”¯æŒåº¦é˜ˆå€¼ä¸æ»¡è¶³çš„ç»„åˆï¼Œå¾—åˆ°é¢‘ç¹é¡¹é›†`L1`</span><br><span class="line">3. æ ¹æ®`L1`äº§ç”Ÿå€™é€‰é¢‘ç¹é¡¹é›†`K2`</span><br><span class="line">4. é‡å¤æ­¥éª¤2å’Œæ­¥éª¤3ï¼Œç›´åˆ°`Ln`é¡¹é›†åˆæ— æ³•å†äº§ç”Ÿå€™é€‰é¢‘ç¹é¡¹</span><br></pre></td></tr></table></figure><ul><li><strong>ä¸¾ä¸ªæ —å­</strong><ul><li>å‡è®¾æ”¯æŒåº¦min_support=30%</li><li>å‡è®¾ç°åœ¨æœ‰5ä¸ªé¡¾å®¢çš„è®¢å•è®°å½•</li></ul></li></ul><table><thead><tr><th>é¡¾å®¢åç§°</th><th>è®¢å•å•†å“åˆ—è¡¨</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td>A B C</td></tr><tr><td>æå››</td><td>B C D</td></tr><tr><td>ç‹äº”</td><td>A C</td></tr><tr><td>è€å…­</td><td>B C</td></tr><tr><td>é™ˆä¸ƒ</td><td>E C D</td></tr></tbody></table><hr><p>a. <strong>è·Ÿæ®è´­ä¹°è®°å½•çš„è®¢å•åˆ—è¡¨ç”Ÿäº§å€™é€‰é¢‘ç¹é¡¹K1ã€‚å¦‚ä¸‹è¡¨æ ¼ï¼Œ</strong></p><table><thead><tr><th>å€™é€‰é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A}</td><td>2</td></tr><tr><td>{B}</td><td>3</td></tr><tr><td>{C}</td><td>5</td></tr><tr><td>{D}</td><td>2</td></tr><tr><td>{E}</td><td>1</td></tr></tbody></table><hr><p>b. <strong>æ ¹æ®MinSupport=30%å¾—å‡ºé¢‘ç¹é¡¹é›†L1</strong></p><table><thead><tr><th>é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A}</td><td>2</td></tr><tr><td>{B}</td><td>3</td></tr><tr><td>{C}</td><td>5</td></tr><tr><td>{D}</td><td>2</td></tr></tbody></table><hr><p>c. <strong>å†ä»¥L1ç»„åˆäº§ç”Ÿå€™é€‰é¢‘ç¹é›†K2</strong></p><table><thead><tr><th>å€™é€‰é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A B}</td><td>1</td></tr><tr><td>{A C}</td><td>2</td></tr><tr><td>{A D}</td><td>0</td></tr><tr><td>{B C}</td><td>3</td></tr><tr><td>{B D}</td><td>1</td></tr><tr><td>{C D}</td><td>2</td></tr></tbody></table><hr><p>e. <strong>æ ¹æ®MinSupport=30%å¾—å‡ºé¢‘ç¹é¡¹é›†L2ï¼Œå¹¶è¾“å‡º</strong></p><table><thead><tr><th>é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A C}</td><td>2</td></tr><tr><td>{B C}</td><td>3</td></tr><tr><td>{C D}</td><td>2</td></tr></tbody></table><hr><p>f. <strong>å†ä»¥L2ç»„åˆäº§ç”Ÿå€™é€‰é¢‘ç¹é›†K3</strong></p><table><thead><tr><th>å€™é€‰é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A B C}</td><td>1</td></tr><tr><td>{A B D}</td><td>0</td></tr><tr><td>{A C D}</td><td>0</td></tr><tr><td>{B C D}</td><td>1</td></tr></tbody></table><hr><p>e. <strong>æ ¹æ®MinSupport=30%å¾—å‡ºé¢‘ç¹é¡¹é›†L3 = {} ç©ºï¼Œç®—æ³•ç»“æŸ</strong></p><p>æœ€åå¾—åˆ°<code>é¢‘ç¹é¡¹é›†</code>ä¸º</p><table><thead><tr><th>é¢‘ç¹é¡¹</th><th>æ”¯æŒåº¦æ•°</th></tr></thead><tbody><tr><td>{A C}</td><td>2 = 40%é¡¾å®¢åŒæ—¶è´­ä¹°Aä¹Ÿè´­ä¹°C</td></tr><tr><td>{B C}</td><td>3 = 60%é¡¾å®¢åŒæ—¶è´­ä¹°Bä¹Ÿè´­ä¹°C</td></tr><tr><td>{C D}</td><td>2 = 40%é¡¾å®¢åŒæ—¶è´­ä¹°Cä¹Ÿè´­ä¹°D</td></tr></tbody></table><hr><p>åˆ°è¿™é‡Œå·²ç»å®Œæˆäº†æˆ‘ä»¬çš„é¢‘ç¹é¡¹æŒ–æ˜å·¥ä½œï¼ŒAprioriç®—æ³•å…¶å®è¿˜æŒºç®€å•ç†è§£çš„ã€‚<br>ä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯ä»ç®€å•å¼€å§‹çš„ï¼Œä»ç®€åˆ°ç¹ï¼Œå­¦ä¹ ä¹Ÿæ˜¯è¿™æ ·ï¼Œä¸ç„¶ä¸€å¼€å§‹å°±è¢«æ¦‚å¿µå“å€’ï¼Œä»¥åè¿˜ä¼šæœ‰ç²¾åŠ›å’Œå…´è¶£å—ï¼Ÿ</p><p>è¯´å¥½çš„é™„PHPæºç å‘¢ï¼Ÿ</p><p>ä¸ªäººç¼–ç èƒ½åŠ›æœ‰é™ï¼Œåœ¨æ­¤çŒ®ä¸‘äº†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Apriori ç®—æ³•</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Created by PhpStorm.</span></span><br><span class="line"><span class="comment"> * User: helingfeng</span></span><br><span class="line"><span class="comment"> * Date: 2017-11-30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.å‡è®¾ç°åœ¨æœ‰5ä¸ªé¡¾å®¢çš„è®¢å•è®°å½•</span></span><br><span class="line"><span class="comment">// 2.å‡è®¾æ”¯æŒåº¦min_support=30%</span></span><br><span class="line">$usersNum = <span class="number">5</span>;</span><br><span class="line">$minSupportPercent = <span class="number">0.3</span>;</span><br><span class="line">$minSupport = ceil($minSupportPercent * <span class="number">5</span>);</span><br><span class="line">$ordersForGoods = [</span><br><span class="line">    [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>],</span><br><span class="line">    [<span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>],</span><br><span class="line">    [<span class="string">'A'</span>, <span class="string">'C'</span>],</span><br><span class="line">    [<span class="string">'B'</span>, <span class="string">'C'</span>],</span><br><span class="line">    [<span class="string">'E'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>],</span><br><span class="line">];</span><br><span class="line">$GLOBALS[<span class="string">'combineSets'</span>] = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’åˆ—ç»„åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">combine</span><span class="params">($source = [], $num = <span class="number">0</span>, $target = [])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($num == count($target)) &#123;</span><br><span class="line">        array_push($GLOBALS[<span class="string">'combineSets'</span>], $target);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ($source <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">            $g = $target;</span><br><span class="line">            $b = $source;</span><br><span class="line">            array_push($g, $value);</span><br><span class="line">            $b = array_slice($b, $key + <span class="number">1</span>);</span><br><span class="line">            combine($b, $num, $g);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¯æŒåº¦è¿‡æ»¤</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterBySupport</span><span class="params">($orders, $sets, $support)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $nSets = [];</span><br><span class="line">    <span class="keyword">foreach</span> ($sets <span class="keyword">as</span> $items) &#123;</span><br><span class="line">        $min = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">foreach</span> ($orders <span class="keyword">as</span> $order) &#123;</span><br><span class="line">            <span class="keyword">if</span> (validSubSets($order, $items)) &#123;</span><br><span class="line">                $min++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($min &gt;= $support) &#123;</span><br><span class="line">            array_push($nSets, [$items, $min]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $nSets;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢‘ç¹é¡¹åˆ¤æ–­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validSubSets</span><span class="params">($sets, $subSets)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $valid = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">foreach</span> ($subSets <span class="keyword">as</span> $item) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">false</span> === array_search($item, $sets)) &#123;</span><br><span class="line">            $valid = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $valid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–k1é¡¹é›†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGoodsArr</span><span class="params">($orders)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $goodsArr = [];</span><br><span class="line">    <span class="keyword">foreach</span> ($orders <span class="keyword">as</span> $order) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ($order <span class="keyword">as</span> $goods) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">false</span> === array_search($goods, $goodsArr)) &#123;</span><br><span class="line">                array_push($goodsArr, $goods);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $goodsArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$dimension = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    $goods = getGoodsArr($ordersForGoods);</span><br><span class="line">    combine($goods, $dimension);</span><br><span class="line">    $sets = filterBySupport($ordersForGoods, $GLOBALS[<span class="string">'combineSets'</span>], $minSupport);</span><br><span class="line"><span class="comment">//è‹¥é›†åˆä¸ºç©ºï¼Œç»“æŸå¾ªç¯</span></span><br><span class="line">    <span class="keyword">if</span> (count($sets) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ($dimension != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode($sets, JSON_UNESCAPED_UNICODE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">$GLOBALS[<span class="string">'combineSets'</span>] = [];</span><br><span class="line">    $dimension++;</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//output ç»“æœ</span></span><br><span class="line">[[[<span class="string">"A"</span>,<span class="string">"C"</span>],<span class="number">2</span>],[[<span class="string">"B"</span>,<span class="string">"C"</span>],<span class="number">3</span>],[[<span class="string">"C"</span>,<span class="string">"D"</span>],<span class="number">2</span>]]</span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç ä¸‹è½½åœ°å€ï¼š <a href="http://wiki.helingfeng.com/docs/show/4" target="_blank" rel="noopener">http://wiki.helingfeng.com/docs/show/4</a></p></blockquote><h4 id="FPTreeç®—æ³•"><a href="#FPTreeç®—æ³•" class="headerlink" title="FPTreeç®—æ³•"></a><strong>FPTreeç®—æ³•</strong></h4><ul><li><p><strong>ç®—æ³•åŸç†è®²è§£</strong><br>Aprioriç®—æ³•è™½ç„¶å®ç°ç®€å•ï¼Œä½†æ˜¯ä»ç®—æ³•çš„æ•ˆç‡æ¥çœ‹ï¼Œæ¯æ¬¡è¿­ä»£éƒ½éœ€è¦é‡å¤éå†ï¼Œå¯¹<code>I\O</code>çš„èµ„æºæ¶ˆè€—æ˜¯å·¨å¤§çš„ã€‚è€ŒåŸºäºAprioriæ”¹è¿›çš„FPTreeç®—æ³•ï¼Œä½¿ç”¨<code>æ ‘ç»“æ„</code>è¿›è¡Œå·§å¦™ä¸´æ—¶å­˜å‚¨ï¼Œ<code>æ— è®ºå¤šå°‘æ•°æ®ï¼Œåªéœ€è¦æ‰«æä¸¤æ¬¡æ•°æ®é›†</code>ã€‚</p></li><li><p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><code>è¡¨å¤´é¡¹</code> è®°å½•äº†æ‰€æœ‰çš„äº‹ä»¶é¢‘ç¹é›†å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶åˆ é™¤æ”¯æŒåº¦ä½äºé˜ˆå€¼çš„é¡¹æŒ‰ç…§æ¬¡æ•°é™åºæ’åˆ—ã€‚</li><li><code>FPTree</code> é¢‘ç¹èšé¡¹ä¼šåœ¨æ ‘ç»“æ„ä½“ç°å‡ºé‡å ã€‚</li></ul></li><li><p><strong>æ„å»ºFPTree</strong><br>è¿™ä¸ªæ˜¯ç®—æ³•å°±é‡ç‚¹çš„éƒ¨åˆ†ã€‚<br>è¿˜æ˜¯ä¸¾ä¸€ä¸ªä¾‹å­æ¥åˆ†æå¦‚ä½•æ„å»ºå§ï¼</p></li></ul><p>å‡è®¾æ”¯æŒåº¦support=30%<br>é¡¾å®¢è¿˜æ˜¯é‚£äº”ä¸ªæ¼”å‘˜ï¼Œå“ˆå“ˆ</p><table><thead><tr><th>é¡¾å®¢åç§°</th><th>è®¢å•å•†å“åˆ—è¡¨</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td>A B C</td></tr><tr><td>æå››</td><td>B C D</td></tr><tr><td>ç‹äº”</td><td>A C</td></tr><tr><td>è€å…­</td><td>B C</td></tr><tr><td>é™ˆä¸ƒ</td><td>E C D</td></tr></tbody></table><p>a.ç¬¬ä¸€æ¬¡æ‰«ææ‰€æœ‰æ•°æ®ï¼Œå¾—åˆ°ä¸‹é¢è¡¨æ ¼ï¼›å•†å“=&gt;è´­ä¹°æ¬¡æ•°</p><table><thead><tr><th>é¡¹</th><th>æ”¯æŒåº¦</th></tr></thead><tbody><tr><td>A</td><td>2</td></tr><tr><td>B</td><td>3</td></tr><tr><td>C</td><td>5</td></tr><tr><td>D</td><td>2</td></tr><tr><td>E</td><td>1</td></tr></tbody></table><p>b.æŒ‰æ”¯æŒåº¦é™åºæ’åºï¼Œå¹¶è¿‡æ»¤MinSupportï¼Œå¾—åˆ°è¡¨å¤´é¡¹</p><table><thead><tr><th>é¡¹</th><th>æ”¯æŒåº¦</th></tr></thead><tbody><tr><td>C</td><td>5</td></tr><tr><td>B</td><td>3</td></tr><tr><td>A</td><td>2</td></tr><tr><td>D</td><td>2</td></tr></tbody></table><p>c.æ ¹æ®è¡¨å¤´é¡¹é‡æ–°æ’åºè®¢å•æ•°æ®ï¼Œå¹¶è¿‡æ»¤ï¼Œå¾—åˆ°æ–°çš„è®¢å•å•†å“åˆ—è¡¨ï¼Œå¦‚ä¸‹</p><table><thead><tr><th>é¡¾å®¢åç§°</th><th>è®¢å•å•†å“åˆ—è¡¨</th></tr></thead><tbody><tr><td>å¼ ä¸‰</td><td>C B A</td></tr><tr><td>æå››</td><td>C B D</td></tr><tr><td>ç‹äº”</td><td>C A</td></tr><tr><td>è€å…­</td><td>C B</td></tr><tr><td>é™ˆä¸ƒ</td><td>C D</td></tr></tbody></table><p>d.ç¬¬äºŒæ¬¡æ‰«ææ‰€æœ‰æ•°æ®</p><p>ä»å¼ ä¸‰å¼€å§‹ï¼Œç”Ÿæˆæ ‘é“¾å›¾t1</p><p><strong>| å¼ ä¸‰  | C B A |</strong></p><p><img src="/images/pasted-16.png" alt="upload successful"></p><hr><p><strong>| æå››  | C B D |</strong></p><p><img src="/images/pasted-17.png" alt="upload successful"></p><hr><p><strong>| ç‹äº”  | C A |</strong></p><p><img src="/images/pasted-18.png" alt="upload successful"></p><hr><p><strong>| è€å…­  | C B |</strong></p><p><img src="/images/pasted-19.png" alt="upload successful"></p><hr><p><strong>| é™ˆä¸ƒ  | C D |</strong></p><p><img src="/images/pasted-20.png" alt="upload successful"></p><hr><p>perfect !</p><p>æ‰«æå®Œæ•°æ®ï¼ŒFP Treeå·²ç»æ„å»ºå®Œæ¯•ã€‚</p><h4 id="æŒ–æ˜é¢‘ç¹é¡¹"><a href="#æŒ–æ˜é¢‘ç¹é¡¹" class="headerlink" title="æŒ–æ˜é¢‘ç¹é¡¹"></a>æŒ–æ˜é¢‘ç¹é¡¹</h4><p>è´¹åŠ›ä¹ç‰›ä¹‹åŠ›ï¼Œç»ˆäºæŠŠTreeæ„é€ å®Œæˆã€‚æ¥ä¸‹å»æˆ‘ä»¬æ€ä¹ˆå»æŒ–æ˜é¢‘ç¹é¡¹å‘¢ï¼Ÿ<br>â€¦..æ€è€ƒåäº”åˆ†</p><p>å¼•ç”¨æ–‡çŒ®çš„ä¸€æ®µè¯ï¼Œæˆ‘è§‰å¾—è§£é‡Šçš„æŒºå¥½ï¼Œ<code>å¤§æ¦‚åŸç†</code>ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ä»é¡¹å¤´è¡¨çš„åº•éƒ¨é¡¹ä¾æ¬¡å‘ä¸ŠæŒ–æ˜ã€‚å¯¹äºé¡¹å¤´è¡¨å¯¹åº”äºFPæ ‘çš„æ¯ä¸€é¡¹ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å®ƒçš„æ¡ä»¶æ¨¡å¼åŸºã€‚æ‰€è°“æ¡ä»¶æ¨¡å¼åŸºæ˜¯ä»¥æˆ‘ä»¬<strong>è¦æŒ–æ˜çš„èŠ‚ç‚¹ä½œä¸ºå¶å­èŠ‚ç‚¹</strong>æ‰€å¯¹åº”çš„FPå­æ ‘ã€‚å¾—åˆ°è¿™ä¸ªFPå­æ ‘ï¼Œæˆ‘ä»¬å°†<strong>å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„çš„è®¡æ•°è®¾ç½®ä¸ºå¶å­èŠ‚ç‚¹çš„è®¡æ•°</strong>ï¼Œå¹¶<strong>åˆ é™¤è®¡æ•°ä½äºæ”¯æŒåº¦çš„èŠ‚ç‚¹</strong>ã€‚ä»è¿™ä¸ªæ¡ä»¶æ¨¡å¼åŸºï¼Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’æŒ–æ˜å¾—åˆ°é¢‘ç¹é¡¹é›†äº†ã€‚</p><p>å†çœ‹çœ‹è¡¨å¤´é¡¹é¡ºåº</p><table><thead><tr><th>é¡¹</th><th>æ”¯æŒåº¦</th></tr></thead><tbody><tr><td>C</td><td>5</td></tr><tr><td>B</td><td>3</td></tr><tr><td>A</td><td>2</td></tr><tr><td>D</td><td>2</td></tr></tbody></table><p><strong>ä¾æ¬¡ä» D=&gt;A=&gt;B=&gt;C æ‹†è§£é¢‘ç¹æ ‘ï¼Œé€šè¿‡minSupportè¿‡æ»¤å¾—åˆ°é¢‘ç¹é¡¹</strong></p><ol><li>é¦–å…ˆï¼Œæ‹†è§£Då¾—åˆ°ä¸¤ä¸ªå€™é€‰é¢‘ç¹é¡¹{C:2,D:2},{C:1,B:1,D:1}ï¼›è·Ÿæ®å€™é€‰é¡¹è¿­ä»£ç”ŸæˆFP-treeï¼Œæœ€åå¾—åˆ°é¢‘ç¹é¡¹{C:2,D:2}</li><li>å…¶æ¬¡ï¼Œæ‹†è§£Aå¾—åˆ°ä¸¤ä¸ªå€™é€‰é¢‘ç¹é¡¹{C:2,A:2},{C:1,B:1,A:1}ï¼›è·Ÿæ®å€™é€‰é¡¹è¿­ä»£ç”ŸæˆFP-treeï¼Œæœ€åå¾—åˆ°é¢‘ç¹é¡¹{C:2,A:2}</li><li>å†æ¬¡ï¼Œæ‹†è§£Bå¾—åˆ°ä¸¤ä¸ªå€™é€‰é¢‘ç¹é¡¹{C:3,B:3}ï¼›ï¼›è·Ÿæ®å€™é€‰é¡¹è¿­ä»£ç”ŸæˆFP-treeï¼Œæœ€åå¾—åˆ°é¢‘ç¹é¡¹{C:3,B:3}</li><li>æœ€åï¼ŒCå°±ä¸éœ€è¦æ‹†è§£äº†ï¼›</li></ol><p><strong>FPTreeç®—æ³•æœ€åå¾—åˆ°é¢‘ç¹é¡¹é›†</strong><br>{C:3,B:3},{C:2,D:2},{C:2,A:2}</p><p>æºä»£ç æ­£åœ¨ç¼–å†™ä¸­ï¼Œåé¢å­¦ä¹ ç« èŠ‚è¡¥ä¸Šâ€¦.</p><blockquote><p>å¹³å‡¡ä¹‹è·¯ä¹Ÿä¼šæœ‰ä¸å¹³å‡¡çš„æœºé‡</p></blockquote><blockquote><p>å¸Œæœ›å¤§å®¶çœ‹å®Œæˆ‘çš„æ–‡ç« èƒ½æœ‰æ‰€æ”¶è·ï¼Œè¿™å°±æ˜¯æˆ‘çš„æœ€å¤§è£å¹¸ï¼ï¼ï¼</p></blockquote><h2 id="å‚è€ƒæ–‡çŒ®ï¼Œæ„Ÿè°¢ä½œè€…"><a href="#å‚è€ƒæ–‡çŒ®ï¼Œæ„Ÿè°¢ä½œè€…" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼Œæ„Ÿè°¢ä½œè€…"></a>å‚è€ƒæ–‡çŒ®ï¼Œæ„Ÿè°¢ä½œè€…</h2><ul><li><a href="http://www.cnblogs.com/pinard/p/6293298.html" target="_blank" rel="noopener">http://www.cnblogs.com/pinard/p/6293298.html</a></li><li><a href="https://www.cnblogs.com/zhengxingpeng/p/6679280.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhengxingpeng/p/6679280.html</a></li><li>ã€Šæ•°æ®æŒ–æ˜ç®—æ³•å¯¼è®ºã€‹</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;æ—¶ä»£çš„å˜è¿&quot;&gt;&lt;a href=&quot;#æ—¶ä»£çš„å˜è¿&quot; class=&quot;headerlink&quot; title=&quot;æ—¶ä»£çš„å˜è¿&quot;&gt;&lt;/a&gt;æ—¶ä»£çš„å˜è¿&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ›¾ç»æˆ‘å¬ä¸€ä¸ªå¤–å›½äººè¯´è¿‡è¿™æ ·ä¸€å¥è¯ï¼Œç¿»è¯‘è¿‡æ¥æ˜¯è¿™æ ·çš„æ„æ€ï¼š&lt;code&gt;ç¨‹åºå‘˜&lt;/code&gt;å°±å¥½æ¯”&lt;code
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç»ˆç«¯ç¥å™¨ oh my zsh</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-08-02/terminal-artifact-oh-my-zsh/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-08-02/terminal-artifact-oh-my-zsh/</id>
    <published>2018-08-02T07:56:00.000Z</published>
    <updated>2018-11-06T13:10:47.020Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯-oh-my-zsh"><a href="#ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯-oh-my-zsh" class="headerlink" title="ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯ oh my zsh"></a>ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯ oh my zsh</h2><h4 id="oh-my-zsh-é…ç½®-zsh-è€Œç”Ÿ"><a href="#oh-my-zsh-é…ç½®-zsh-è€Œç”Ÿ" class="headerlink" title="oh my zsh é…ç½® zsh è€Œç”Ÿ"></a>oh my zsh é…ç½® zsh è€Œç”Ÿ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># ubuntu æ‰€æœ‰ shells</span><br><span class="line"># /etc/shells: valid login shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/bash</span><br><span class="line">/bin/rbash</span><br><span class="line">/usr/bin/tmux</span><br><span class="line">/bin/zsh</span><br><span class="line">/usr/bin/zsh</span><br></pre></td></tr></table></figure><ul><li>oh my zsh é…ç½®0é—¨æ§›</li><li>å®Œå…¨å…¼å®¹ bash</li></ul><h4 id="å®‰è£…-oh-my-zsh"><a href="#å®‰è£…-oh-my-zsh" class="headerlink" title="å®‰è£… oh my zsh"></a>å®‰è£… oh my zsh</h4><p>Githubåœ°å€ï¼š<a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh</a></p><p>å®‰è£…å‘½ä»¤ï¼š</p><ul><li>é€šè¿‡curlè‡ªåŠ¨å®‰è£…ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡wgetè‡ªåŠ¨å®‰è£…ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"</span><br></pre></td></tr></table></figure><hr><h4 id="å®šåˆ¶åŒ–-zshrc-é…ç½®"><a href="#å®šåˆ¶åŒ–-zshrc-é…ç½®" class="headerlink" title="å®šåˆ¶åŒ– .zshrc é…ç½®"></a>å®šåˆ¶åŒ– .zshrc é…ç½®</h4><ul><li>æ‰“å¼€é…ç½®</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd </span><br><span class="line">vim .zshrc</span><br></pre></td></tr></table></figure><ul><li>é…ç½®ä¸»é¢˜</li></ul><p>;# Set name of the theme to load. Optionally, if you set this to â€œrandomâ€<br>;# itâ€™ll load a random theme each time that oh-my-zsh is loaded.<br>;# See <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Themes" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh/wiki/Themes</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME="robbyrussell"</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…æ’ä»¶</li></ul><p>;# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)<br>;# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/<br>;# Example format: plugins=(rails git textmate ruby lighthouse)<br>;# Add wisely, as too many plugins slow down shell startup.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git)</span><br><span class="line">plugins=(zsh-autosuggestions)</span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br></pre></td></tr></table></figure><h4 id="æ’ä»¶æ¨è"><a href="#æ’ä»¶æ¨è" class="headerlink" title="æ’ä»¶æ¨è"></a>æ’ä»¶æ¨è</h4><ul><li>zsh-syntax-highlighting è¯­æ³•é«˜äº®<br><a href="https://github.com/zsh-users/zsh-syntax-highlighting" target="_blank" rel="noopener">https://github.com/zsh-users/zsh-syntax-highlighting</a></li><li>zsh-autosuggestions å‘½ä»¤æç¤º<br><a href="https://github.com/zsh-users/zsh-autosuggestions" target="_blank" rel="noopener">https://github.com/zsh-users/zsh-autosuggestions</a></li></ul><h4 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h4><p><img src="/images/pasted-15.png" alt="upload successful"></p><blockquote><p>å·¥å…·è®©å¼€å‘å˜å¾—æ›´ç®€å•</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯-oh-my-zsh&quot;&gt;&lt;a href=&quot;#ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯-oh-my-zsh&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯ oh my zsh&quot;&gt;&lt;/a&gt;ä¼˜åŒ–å‘½ä»¤ç»ˆç«¯ oh my zsh&lt;/h2&gt;&lt;h4 id=&quot;oh-my-zsh
      
    
    </summary>
    
      <category term="Linux" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡åŸåˆ™é›†åˆä¸ä½¿ç”¨é¢‘ç‡</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-07-12/design-principle-collection-and-frequency-of-use/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-07-12/design-principle-collection-and-frequency-of-use/</id>
    <published>2018-07-12T07:38:00.000Z</published>
    <updated>2018-11-06T13:10:19.997Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>è®¾è®¡åŸåˆ™åç§°</th><th>å®š  ä¹‰</th><th>ä½¿ç”¨é¢‘ç‡</th></tr></thead><tbody><tr><td>å•ä¸€èŒè´£åŸåˆ™(Single Responsibility Principle, SRP)</td><td>ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸä¸­çš„ç›¸åº”èŒè´£</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>å¼€é—­åŸåˆ™(Open-Closed Principle, OCP)</td><td>è½¯ä»¶å®ä½“åº”å¯¹æ‰©å±•å¼€æ”¾ï¼Œè€Œå¯¹ä¿®æ”¹å…³é—­</td><td>â˜…â˜…â˜…â˜…â˜…</td></tr><tr><td>é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle, LSP)</td><td>æ‰€æœ‰å¼•ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹èƒ½å¤Ÿé€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡</td><td>â˜…â˜…â˜…â˜…â˜…</td></tr><tr><td>ä¾èµ–å€’è½¬åŸåˆ™(Dependence  Inversion Principle, DIP)</td><td>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡</td><td>â˜…â˜…â˜…â˜…â˜…</td></tr><tr><td>æ¥å£éš”ç¦»åŸåˆ™(Interface Segregation Principle, ISP)</td><td>ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸ä½¿ç”¨å•ä¸€çš„æ€»æ¥å£</td><td>â˜…â˜…â˜†â˜†â˜†</td></tr><tr><td>åˆæˆå¤ç”¨åŸåˆ™(Composite Reuse Principle, CRP)</td><td>å°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>è¿ªç±³ç‰¹æ³•åˆ™(Law of Demeter, LoD)</td><td>ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨</td><td>â˜…â˜…â˜…â˜†â˜†</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è®¾è®¡åŸåˆ™åç§°&lt;/th&gt;
&lt;th&gt;å®š  ä¹‰&lt;/th&gt;
&lt;th&gt;ä½¿ç”¨é¢‘ç‡&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å•ä¸€èŒè´£åŸåˆ™(Single Responsibility Principle, SRP
      
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºæ¬ç“¦å·¥çš„ç¿»å¢™ VPS æ­å»º</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-07-10/based-on-the-wallmoving-work-of-bricklayer-vps/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-07-10/based-on-the-wallmoving-work-of-bricklayer-vps/</id>
    <published>2018-07-10T11:12:00.000Z</published>
    <updated>2018-11-06T13:06:57.777Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è´­ä¹°ä¸€å°å¤–å›½çš„-VPS-æœåŠ¡å™¨"><a href="#è´­ä¹°ä¸€å°å¤–å›½çš„-VPS-æœåŠ¡å™¨" class="headerlink" title="è´­ä¹°ä¸€å°å¤–å›½çš„ VPS æœåŠ¡å™¨"></a>è´­ä¹°ä¸€å°å¤–å›½çš„ VPS æœåŠ¡å™¨</h2><p>æ¿ç“¦å·¥ï¼Œè®¸å¤šäººçš„é€‰æ‹©ï¼Œç¨³å®šç»æµï¼Œæœ€é‡è¦çš„æ˜¯æ”¯æŒâ€æ”¯ä»˜å®æ”¯ä»˜â€</p><ul><li><a href="https://bandwagonhost.com/aff.php?aff=25516" target="_blank" rel="noopener">https://bandwagonhost.com/aff.php?aff=25516</a></li><li><a href="https://www.bwh1.net/aff.php?aff=25516" target="_blank" rel="noopener">https://www.bwh1.net/aff.php?aff=25516</a></li></ul><p>ç¬¬ä¸€ä¸ªé“¾æ¥å¯èƒ½éœ€è¦ç¿»å¢™æ‰èƒ½è®¿é—®ã€‚<br>è¿›å…¥ç½‘ç«™åï¼Œè‡ªå·±æŒ‘é€‰ä¸€æ¬¾æœåŠ¡å™¨ï¼Œä»·æ ¼éƒ½å¾ˆå®æƒ ï¼Œæœ€ä¾¿å®œçš„å¥½åƒ19ç¾å…ƒä¸€å¹´ã€‚</p><h2 id="å®‰è£…-Shadowsocks-Server"><a href="#å®‰è£…-Shadowsocks-Server" class="headerlink" title="å®‰è£… Shadowsocks Server"></a>å®‰è£… Shadowsocks Server</h2><p>è¿›å…¥ VPS çš„ KiwiNM Control Panel ç•Œé¢</p><p><img src="/images/screen_20.png" alt="vps"> </p><p> ç‚¹å‡»ä¸€é”®å®‰è£…å³å¯, å¾—åˆ° Shadowsocks Server çš„ç«¯å£å’Œå¯†ç ä»¥åŠåŠ å¯†æ–¹å¼</p><h2 id="å®‰è£…-Shadowsocks-å®¢æˆ·ç«¯"><a href="#å®‰è£…-Shadowsocks-å®¢æˆ·ç«¯" class="headerlink" title="å®‰è£… Shadowsocks å®¢æˆ·ç«¯"></a>å®‰è£… Shadowsocks å®¢æˆ·ç«¯</h2><p> ç™¾åº¦æœä¸€ä¸‹ï¼Œéšä¾¿ä¸‹è½½ï¼Œé…ç½®æœåŠ¡å™¨ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡Œä»£ç†äº†ã€‚</p><p> <img src="/images/screen_21.png" alt="vps"> </p><p> æ³¨æ„ï¼ŒLinux ç¯å¢ƒä¸‹ï¼Œéœ€è¦å®‰è£… Chrome æ’ä»¶</p><h2 id="è®¿é—®-Google"><a href="#è®¿é—®-Google" class="headerlink" title="è®¿é—® Google"></a>è®¿é—® Google</h2><p>  <img src="/images/screen_22.png" alt="vps"> </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è´­ä¹°ä¸€å°å¤–å›½çš„-VPS-æœåŠ¡å™¨&quot;&gt;&lt;a href=&quot;#è´­ä¹°ä¸€å°å¤–å›½çš„-VPS-æœåŠ¡å™¨&quot; class=&quot;headerlink&quot; title=&quot;è´­ä¹°ä¸€å°å¤–å›½çš„ VPS æœåŠ¡å™¨&quot;&gt;&lt;/a&gt;è´­ä¹°ä¸€å°å¤–å›½çš„ VPS æœåŠ¡å™¨&lt;/h2&gt;&lt;p&gt;æ¿ç“¦å·¥ï¼Œè®¸å¤šäººçš„é€‰æ‹©ï¼Œç¨³å®šç»æµï¼Œæœ€é‡
      
    
    </summary>
    
      <category term="VPS" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/VPS/"/>
    
    
      <category term="VPS" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>ç¨‹åºå‘˜è¿›é˜¶è¯»ä¹¦æ¨è</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-07-08/programmer-advanced-reading-recommendation/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-07-08/programmer-advanced-reading-recommendation/</id>
    <published>2018-07-08T13:22:00.000Z</published>
    <updated>2018-11-06T13:09:33.105Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ±‚çŸ¥è‹¥æ¸´-stay-hungry-stay-foolish"><a href="#æ±‚çŸ¥è‹¥æ¸´-stay-hungry-stay-foolish" class="headerlink" title="æ±‚çŸ¥è‹¥æ¸´ stay hungry,stay foolish"></a>æ±‚çŸ¥è‹¥æ¸´ stay hungry,stay foolish</h3><p>é˜…è¯»æ˜¯è·å–æŠ€èƒ½ç†è®ºæœ€ç®€æ´ä¸”æœ€æœ‰æ•ˆçš„æ–¹å¼ä¹‹ä¸€ï¼Œé˜…è¯»æ˜¯ä¸€ç§äº«å—<br>æ¯å‘¨æŠ½å‡ºä¸€ç‚¹æ—¶é—´ï¼Œå®‰é™åä¸‹æ¥ï¼Œæ‰“å¼€ä¸€æœ¬ä¹¦<br>æˆ‘ä»¬å¸¸å¸¸å¬åˆ°è¿™æ ·ä¸€å¥è¯â€œæ—¶é—´å°±æ˜¯é‡‘é’±â€ï¼Œæˆ‘ä¸ªäººå¯¹è¿™å¥è¯çš„ç†è§£æ˜¯ï¼Œæ—¶é—´å®ƒä¸åœçš„æµé€ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•å»æ”¹å˜æ—¶é—´çš„é•¿çŸ­ï¼Œæˆ‘ä»¬æ‰€èƒ½åšçš„å°±æ˜¯åˆ©ç”¨æœ‰é™çš„æ—¶é—´å»åšé‚£äº›æˆ‘ä»¬è®¤ä¸ºæ›´æœ‰ä»·å€¼æˆ–æ›´æœ‰æ„ä¹‰çš„äº‹ã€‚è€Œæˆ‘è§‰å¾—â€œé˜…è¯»å°±æ˜¯ä¸€ä»¶æŒºæœ‰æ„ä¹‰çš„äº‹â€ã€‚</p><h3 id="æ¨èç¼–ç¨‹æŠ€èƒ½ç»å…¸ä¹¦ç±"><a href="#æ¨èç¼–ç¨‹æŠ€èƒ½ç»å…¸ä¹¦ç±" class="headerlink" title="æ¨èç¼–ç¨‹æŠ€èƒ½ç»å…¸ä¹¦ç±"></a>æ¨èç¼–ç¨‹æŠ€èƒ½ç»å…¸ä¹¦ç±</h3><h4 id="WEBå‰ç«¯å¼€å‘"><a href="#WEBå‰ç«¯å¼€å‘" class="headerlink" title="WEBå‰ç«¯å¼€å‘"></a>WEBå‰ç«¯å¼€å‘</h4><ul><li><p><strong>ã€ŠHTTPæƒå¨æŒ‡å—ã€‹</strong>è¯¥ä¹¦åˆ†ä¸ºäº”éƒ¨åˆ†ï¼Œåˆ†åˆ«è®²è¿°WebåŸºç¡€çŸ¥è¯†ï¼ŒHTTPç»“æ„ï¼Œè¯†åˆ«/éªŒè¯ä¸å®‰å…¨ï¼Œå®ä½“/ç¼–ç å’Œå›½é™…åŒ–ï¼ŒåŠå†…å®¹å‘å¸ƒä¸åˆ†å‘ã€‚ä»‹ç»HTTPåè®®ï¼Œè¯¦ç»†æè¿°Webç½‘ç»œèµ„æºURL/URIï¼Œå¹¶ä»‹ç»HTTPæ˜¯å¦‚ä½•ä¼ è¾“æŠ¥æ–‡ï¼›ä»‹ç»äº†WebæœåŠ¡å™¨ç»“æ„ï¼Œæ·±å…¥ä»£ç†æœåŠ¡å™¨ç ”ç©¶ï¼Œç¼“å­˜åŠåº”ç”¨æœåŠ¡å™¨çš„ä½œç”¨ï¼Œè¿˜ä»‹ç»WebæœåŠ¡çš„å„ç§å®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬æµè§ˆå™¨çˆ¬è™«ç­‰ï¼›ç ”ç©¶HTTPèº«ä»½è¯†åˆ«ä¸éªŒè¯ï¼Œè®¨è®ºSSLç­‰å®‰å…¨æ€§é—®é¢˜ï¼›è¯¦ç»†è®²è§£HTTPå†…å®¹ç»“æ„ï¼Œè§„èŒƒç¼–ç ï¼Œå¤šè¯­è¨€é—®é¢˜ï¼›æœ€åæ¢è®¨WebæœåŠ¡æ‰˜ç®¡ï¼ŒWebæœåŠ¡æµé‡åˆ†æ•£ç­‰é—®é¢˜ã€‚</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1o8dxz7c" target="_blank" rel="noopener">https://pan.baidu.com/s/1o8dxz7c</a></p></blockquote></li><li><p><strong>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹</strong>è®²è§£JavaScriptåŸºç¡€è¯­æ³•ï¼ŒåŠæ•°æ®ç»“æ„ï¼›è®¨è®ºäº†æœåŠ¡å™¨ç«¯çš„JavaScriptä¸å®¢æˆ·ç«¯çš„JavaScriptï¼Œè¯¦ç»†è®²è§£Windowå¯¹è±¡ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå‡½æ•°ï¼Œäº‹ä»¶å¤„ç†ï¼›æ·±å…¥å®¢æˆ·ç«¯ç¼“å­˜ï¼ŒåŠHTML5 APIï¼›è®¨è®ºç›¸å…³çš„JavaScriptç±»åº“ï¼Œå¦‚JQueryã€‚</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1pKKyEoj" target="_blank" rel="noopener">https://pan.baidu.com/s/1pKKyEoj</a></p></blockquote></li></ul><h4 id="æ•°æ®ç»“æ„ä¸ç®—æ³•"><a href="#æ•°æ®ç»“æ„ä¸ç®—æ³•" class="headerlink" title="æ•°æ®ç»“æ„ä¸ç®—æ³•"></a>æ•°æ®ç»“æ„ä¸ç®—æ³•</h4><ul><li><p><strong>ã€Šç®—æ³•å¯¼è®ºã€‹</strong>æˆ‘è®¤ä¸ºæ˜¯æœ€ç»å…¸çš„ç®—æ³•ä¹¦ç±ï¼Œæ— è®ºé˜…è¯»è€…èƒ½åŠ›é«˜ä½ï¼Œéƒ½èƒ½ä»ä¸­æ±²å–è®¸å¤šæƒ³æ³•æˆ–æ€è·¯ï¼Œå¯¹æŠ€èƒ½çš„æˆé•¿å…·æœ‰æ·±è¿œçš„å½±å“ã€‚</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1i48zDkh" target="_blank" rel="noopener">https://pan.baidu.com/s/1i48zDkh</a></p></blockquote></li><li><p><strong>ã€Šç¨‹åºå‘˜å®ç”¨ç®—æ³•ã€‹</strong>æ˜¯ç®—æ³•å¯¼è®ºçš„ç®€æ´ç‰ˆæœ¬ï¼Œé’ˆå¯¹å¼€å‘äººå‘˜å·¥ä½œå¸¸è§é—®é¢˜çš„ç®—æ³•è§£å†³æ–¹æ¡ˆæ€»ç»“ã€‚ç®—æ³•å¤æ‚åº¦ï¼Œæ’åºï¼ŒæŸ¥æ‰¾ï¼Œå‹ç¼©ï¼Œæ ‘ç»“æ„ï¼Œæ—¶é—´ä¸æ—¥æœŸå¤„ç†ï¼Œæ•°æ®æ ¡éªŒç­‰çŸ¥è¯†ç‚¹ã€‚</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1eSs6U0U" target="_blank" rel="noopener">https://pan.baidu.com/s/1eSs6U0U</a></p></blockquote></li><li><p><strong>ã€Šè®¾è®¡æ¨¡å¼ã€‹</strong>æœ¬ä¹¦è®¾è®¡å®ä¾‹ä»é¢å‘å¯¹è±¡çš„è®¾è®¡ä¸­ç²¾é€‰å‡º 23 ä¸ªè®¾è®¡æ¨¡å¼,æ€»ç»“äº†é¢å‘å¯¹è±¡è®¾è®¡ä¸­æœ€æœ‰ä»·å€¼çš„ç»éªŒ,å¹¶ä¸”ç”¨ç®€æ´å¯å¤ç”¨çš„å½¢å¼è¡¨è¾¾å‡ºæ¥ã€‚æœ¬ä¹¦åˆ†ç±»æè¿°äº†ä¸€ç»„è®¾è®¡è‰¯å¥½,è¡¨è¾¾æ¸…æ¥šçš„è½¯ä»¶è®¾è®¡æ¨¡å¼,è¿™äº›æ¨¡å¼åœ¨å®ç”¨ç¯å¢ƒä¸‹æœ‰ç‰¹åˆ«æœ‰ç”¨ã€‚</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1eS4coYQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1eS4coYQ</a></p></blockquote></li></ul><h4 id="æ•°æ®åº“ä¸æœåŠ¡å™¨"><a href="#æ•°æ®åº“ä¸æœåŠ¡å™¨" class="headerlink" title="æ•°æ®åº“ä¸æœåŠ¡å™¨"></a>æ•°æ®åº“ä¸æœåŠ¡å™¨</h4><p>æ‰‹å†Œåœ¨æ‰‹ï¼Œä»£ç æˆ‘æœ‰</p><ul><li><p><strong>ã€ŠMySQL_5.5ä¸­æ–‡å‚è€ƒæ‰‹å†Œã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1pLokQQf" target="_blank" rel="noopener">https://pan.baidu.com/s/1pLokQQf</a></p></blockquote></li><li><p><strong>ã€ŠMySQLæ ¸å¿ƒæŠ€æœ¯æ‰‹å†Œ(ç¬¬äºŒç‰ˆ)ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1sluSqN7" target="_blank" rel="noopener">https://pan.baidu.com/s/1sluSqN7</a></p></blockquote></li><li><p><strong>ã€ŠNginx HTTP Serverä¸­æ–‡ç‰ˆã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1hsQsKAg" target="_blank" rel="noopener">https://pan.baidu.com/s/1hsQsKAg</a></p></blockquote></li><li><p><strong>ã€ŠLinuxå‘½ä»¤é€ŸæŸ¥æ‰‹å†Œã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1hsBzHVA" target="_blank" rel="noopener">https://pan.baidu.com/s/1hsBzHVA</a></p></blockquote></li></ul><h4 id="Googleå¤§æ•°æ®ä¸‰å¤§è®ºæ–‡ç»å…¸"><a href="#Googleå¤§æ•°æ®ä¸‰å¤§è®ºæ–‡ç»å…¸" class="headerlink" title="Googleå¤§æ•°æ®ä¸‰å¤§è®ºæ–‡ç»å…¸"></a>Googleå¤§æ•°æ®ä¸‰å¤§è®ºæ–‡<code>ç»å…¸</code></h4><p>å¼€å¯ä½ çš„å¤§æ•°æ®å­¦ä¹ ä¹‹é—¨</p><ul><li><p><strong>ã€ŠGoogleæŠ€æœ¯ä¹‹_Mapreduceä¸­æ–‡ç‰ˆã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1c8ohVC" target="_blank" rel="noopener">https://pan.baidu.com/s/1c8ohVC</a></p></blockquote></li><li><p><strong>ã€ŠGoogleæŠ€æœ¯ä¹‹_GFSä¸­æ–‡ç‰ˆã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1gfF519h" target="_blank" rel="noopener">https://pan.baidu.com/s/1gfF519h</a></p></blockquote></li><li><p><strong>ã€ŠGoogleæŠ€æœ¯ä¹‹_BigTableä¸­æ–‡ç‰ˆã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1hr6zEFq" target="_blank" rel="noopener">https://pan.baidu.com/s/1hr6zEFq</a></p></blockquote></li></ul><h4 id="å…¶ä»–é˜…è¯»"><a href="#å…¶ä»–é˜…è¯»" class="headerlink" title="å…¶ä»–é˜…è¯»"></a>å…¶ä»–é˜…è¯»</h4><ul><li><p><strong>ã€Šwebå‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1mi7TLHm" target="_blank" rel="noopener">https://pan.baidu.com/s/1mi7TLHm</a></p></blockquote></li><li><p><strong>ã€Šç¼–å†™é«˜è´¨é‡ä»£ç â€“Webå‰ç«¯å¼€å‘ä¿®ç‚¼ä¹‹é“ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1geDnwrh" target="_blank" rel="noopener">https://pan.baidu.com/s/1geDnwrh</a></p></blockquote></li><li><p><strong>ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1jH9J22y" target="_blank" rel="noopener">https://pan.baidu.com/s/1jH9J22y</a></p></blockquote></li><li><p><strong>ã€Šç•ªèŒ„å·¥ä½œæ³•å›¾è§£ï¼šç®€å•æ˜“è¡Œçš„æ—¶é—´ç®¡ç†æ–¹æ³•ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1hr7fHZI" target="_blank" rel="noopener">https://pan.baidu.com/s/1hr7fHZI</a></p></blockquote></li><li><p><strong>ã€Šç¨‹åºå‘˜é¢è¯•é‡‘å…¸ï¼ˆç¬¬5ç‰ˆï¼‰ã€‹</strong></p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1skOyrAd" target="_blank" rel="noopener">https://pan.baidu.com/s/1skOyrAd</a></p></blockquote></li><li><p><strong>ã€Šäººæœˆç¥è¯ã€‹</strong>è½¯ä»¶å¼€å‘é¡¹ç›®å·¥æ—¶è®¡ç®—ä¸ç®¡ç†ä¹¦ç±</p><blockquote><p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½ <a href="https://pan.baidu.com/s/1kVzOqBd" target="_blank" rel="noopener">https://pan.baidu.com/s/1kVzOqBd</a></p></blockquote></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;æ±‚çŸ¥è‹¥æ¸´-stay-hungry-stay-foolish&quot;&gt;&lt;a href=&quot;#æ±‚çŸ¥è‹¥æ¸´-stay-hungry-stay-foolish&quot; class=&quot;headerlink&quot; title=&quot;æ±‚çŸ¥è‹¥æ¸´ stay hungry,stay foolish&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="è¯»ä¹¦" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E8%AF%BB%E4%B9%A6/"/>
    
    
      <category term="è¯»ä¹¦" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E8%AF%BB%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å»ºè®¾é«˜å¯ç”¨ç³»ç»Ÿ</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-06-21/how-to-build-a-highly-available-system/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-06-21/how-to-build-a-highly-available-system/</id>
    <published>2018-06-21T06:12:00.000Z</published>
    <updated>2018-11-06T13:07:27.549Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®"><a href="#é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®" class="headerlink" title="é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®"></a>é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®</h2><p>â€œé«˜å¯ç”¨æ€§â€ï¼ˆHigh Availabilityï¼‰é€šå¸¸æ¥æè¿°ä¸€ä¸ªç³»ç»Ÿç»è¿‡ä¸“é—¨çš„è®¾è®¡ï¼Œä»è€Œå‡å°‘åœå·¥æ—¶é—´ï¼Œè€Œä¿æŒå…¶æœåŠ¡çš„é«˜åº¦å¯ç”¨æ€§ã€‚ä»¥ä¸‹æ˜¯é«˜å¯ç”¨ç³»ç»Ÿçš„è®¾è®¡å»ºè®®ï¼š</p><h4 id="å‡å°‘å•ç‚¹"><a href="#å‡å°‘å•ç‚¹" class="headerlink" title="å‡å°‘å•ç‚¹"></a>å‡å°‘å•ç‚¹</h4><p>å»å•ç‚¹é¦–å…ˆè¦è¯†åˆ«æ•´ä¸ªç³»ç»Ÿæ‰€æœ‰ä¸»é“¾è·¯çš„å•ç‚¹ï¼Œå¦‚æœºæˆ¿ï¼ˆåŒåŸå¼‚åœ°åŒæœºæˆ¿ï¼‰ï¼Œåº”ç”¨æœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ï¼ŒSFTPæœåŠ¡å™¨ï¼ŒLBSï¼Œç¼“å­˜æœåŠ¡å™¨ï¼Œæ•°æ®åº“ï¼Œæ¶ˆæ¯æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å’Œä¸“çº¿ç­‰ï¼Œå¦‚ç³»ç»Ÿé€šè¿‡ä¸“çº¿è°ƒç”¨å¯¹æ–¹æœåŠ¡ï¼Œéœ€è¦è€ƒè™‘åŒæ—¶æ‹‰è”é€šå’Œç”µä¿¡çš„ä¸“çº¿ï¼Œè”é€šæˆ–ç”µä¿¡çš„ä¸“çº¿è¿˜æ˜¯æœ‰ä¸€å®šæ¦‚ç‡ä¼šå‡ºç°é—®é¢˜çš„ï¼Œä½†æ˜¯åŒæ—¶å‡ºé—®é¢˜çš„æ¦‚ç‡ä¼šå°éå¸¸å¤šã€‚ä¼˜å…ˆä½¿ç”¨è½¯è´Ÿè½½ï¼Œä½¿ç”¨ç¡¬è´Ÿè½½å…œåº•ã€‚</p><h4 id="å‡å°‘ä¾èµ–"><a href="#å‡å°‘ä¾èµ–" class="headerlink" title="å‡å°‘ä¾èµ–"></a>å‡å°‘ä¾èµ–</h4><p>å‡å°‘DNSä¾èµ–ï¼Œå‡å°‘è¿œç¨‹æœåŠ¡ä¾èµ–ï¼ŒDNSä¾èµ–å¯ä»¥å°è¯•è®¾ç½®æœ¬åœ°hostï¼Œç”¨å·¥å…·ç»™æ‰€æœ‰æœåŠ¡å™¨æ¨é€æœ€æ–°çš„åŸŸåæ˜ å°„å…³ç³»ï¼Œé€šè¿‡æœ¬åœ°ç¼“å­˜æˆ–è¿‘ç«¯æœåŠ¡å‡å°‘RPCè°ƒç”¨ã€‚</p><h4 id="é™åˆ¶å¾ªç¯"><a href="#é™åˆ¶å¾ªç¯" class="headerlink" title="é™åˆ¶å¾ªç¯"></a>é™åˆ¶å¾ªç¯</h4><p>é¿å…æ— é™æ­»å¾ªç¯ï¼Œå¯¼è‡´CPUåˆ©ç”¨ç‡ç™¾åˆ†ç™¾ï¼Œå¯ä»¥è®¾ç½®forå¾ªç¯çš„æœ€å¤§å¾ªç¯æ¬¡æ•°ï¼Œå¦‚æœ€å¤§å¾ªç¯1000æ¬¡ã€‚</p><h4 id="æ§åˆ¶æµé‡"><a href="#æ§åˆ¶æµé‡" class="headerlink" title="æ§åˆ¶æµé‡"></a>æ§åˆ¶æµé‡</h4><p>é¿å…å¼‚å¸¸æµé‡å¯¹åº”ç”¨æœåŠ¡å™¨äº§ç”Ÿå½±å“ï¼Œå¯ä»¥å¯¹æŒ‡å®šæœåŠ¡è®¾ç½®æµé‡é™åˆ¶ï¼Œå¦‚QPSï¼ŒTPSï¼ŒQPHï¼ˆæ¯å°æ—¶æ€»è¯·æ±‚é‡ï¼‰å’ŒQPDï¼ˆæ¯å¤©æ€»è¯·æ±‚é‡ï¼‰ã€‚</p><h4 id="ç²¾å‡†ç›‘æ§"><a href="#ç²¾å‡†ç›‘æ§" class="headerlink" title="ç²¾å‡†ç›‘æ§"></a>ç²¾å‡†ç›‘æ§</h4><p>å¯¹CPUåˆ©ç”¨ç‡ï¼Œloadï¼Œå†…å­˜ï¼Œå¸¦å®½ï¼Œç³»ç»Ÿè°ƒç”¨é‡ï¼Œåº”ç”¨é”™è¯¯é‡ï¼ŒPVï¼ŒUVå’Œä¸šåŠ¡é‡è¿›è¡Œç›‘æ§ï¼Œé¿å…å†…å­˜æ³„éœ²å’Œå¼‚å¸¸ä»£ç å¯¹ç³»ç»Ÿäº§ç”Ÿå½±å“ï¼Œé…ç½®ç›‘æ§ä¸€å®šè¦ç²¾å‡†ï¼Œå¦‚å¹³æ—¶å†…å­˜åˆ©ç”¨ç‡æ˜¯50%ï¼Œç›‘æ§å¯ä»¥é…ç½®æˆ60%è¿›è¡ŒæŠ¥è­¦ï¼Œè¿™æ ·å¯ä»¥æå‰æ„ŸçŸ¥å†…å­˜æ³„éœ²é—®é¢˜ï¼Œé¿å…åº”ç”¨æ— å“åº”ã€‚</p><h4 id="æ— çŠ¶æ€"><a href="#æ— çŠ¶æ€" class="headerlink" title="æ— çŠ¶æ€"></a>æ— çŠ¶æ€</h4><p>æœåŠ¡å™¨ä¸èƒ½ä¿å­˜ç”¨æˆ·çŠ¶æ€æ•°æ®ï¼Œå¦‚åœ¨é›†ç¾¤ç¯å¢ƒä¸‹ä¸èƒ½ç”¨staticå˜é‡ä¿å­˜ç”¨æˆ·æ•°æ®ï¼Œä¸èƒ½é•¿æ—¶é—´æŠŠç”¨æˆ·æ–‡ä»¶å­˜æ”¾åœ¨æœåŠ¡å™¨æœ¬åœ°ã€‚æœåŠ¡å™¨æœ‰çŠ¶æ€ä¼šéš¾ä»¥æ‰©å®¹ï¼Œä¸”å‡ºç°å•ç‚¹é—®é¢˜ã€‚</p><h4 id="å®¹é‡è§„åˆ’"><a href="#å®¹é‡è§„åˆ’" class="headerlink" title="å®¹é‡è§„åˆ’"></a>å®¹é‡è§„åˆ’</h4><p>å®šæœŸå¯¹å®¹é‡è¿›è¡Œè¯„ä¼°ã€‚å¦‚å¤§ä¿ƒå‰è¿›è¡Œå‹æµ‹å’Œå®¹é‡é¢„ä¼°ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚</p><h4 id="åŠŸèƒ½å¼€å…³"><a href="#åŠŸèƒ½å¼€å…³" class="headerlink" title="åŠŸèƒ½å¼€å…³"></a>åŠŸèƒ½å¼€å…³</h4><p>æ‰“å¼€å’Œå…³é—­æŸäº›åŠŸèƒ½ï¼Œæ¯”å¦‚æ¶ˆæ¯é‡è¿‡å¤§ï¼Œç³»ç»Ÿå¤„ç†ä¸äº†ï¼ŒæŠŠå¼€å…³æ‰“å¼€åç›´æ¥ä¸¢å¼ƒæ¶ˆæ¯ä¸å¤„ç†ã€‚ä¸Šçº¿æ–°åŠŸèƒ½å¢åŠ å¼€å…³ï¼Œå¦‚æœæœ‰é—®é¢˜å…³é—­æ–°åŠŸèƒ½ã€‚</p><h4 id="è®¾ç½®è¶…æ—¶"><a href="#è®¾ç½®è¶…æ—¶" class="headerlink" title="è®¾ç½®è¶…æ—¶"></a>è®¾ç½®è¶…æ—¶</h4><p>è®¾ç½®è¿æ¥è¶…æ—¶å’Œè¯»è¶…æ—¶è®¾ç½®ï¼Œä¸åº”è¯¥å¤ªå¤§ï¼Œå¦‚æœæ˜¯å†…éƒ¨è°ƒç”¨è¿æ¥è¶…æ—¶å¯ä»¥è®¾ç½®æˆ1ç§’ï¼Œè¯»è¶…æ—¶3ç§’ï¼Œå¤–éƒ¨ç³»ç»Ÿè°ƒç”¨è¿æ¥è¶…æ—¶å¯ä»¥è®¾ç½®æˆ3ç§’ï¼Œè¯»è¶…æ—¶è®¾ç½®æˆ20ç§’ã€‚</p><h4 id="é‡è¯•ç­–ç•¥"><a href="#é‡è¯•ç­–ç•¥" class="headerlink" title="é‡è¯•ç­–ç•¥"></a>é‡è¯•ç­–ç•¥</h4><p>å½“è°ƒç”¨å¤–éƒ¨æœåŠ¡å¼‚å¸¸æ—¶å¯ä»¥è®¾ç½®é‡è¯•ç­–ç•¥ï¼Œæ¯æ¬¡é‡è¯•æ—¶é—´é€’å¢ï¼Œä½†æ˜¯éœ€è¦è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°å’Œé‡è¯•å¼€å…³ï¼Œé¿å…å¯¹ä¸‹æ¸¸ç³»ç»Ÿäº§ç”Ÿå½±å“ã€‚</p><h4 id="éš”ç¦»"><a href="#éš”ç¦»" class="headerlink" title="éš”ç¦»"></a>éš”ç¦»</h4><p>åº”ç”¨éš”ç¦»ï¼Œæ¨¡å—éš”ç¦»ï¼Œæœºæˆ¿éš”ç¦»å’Œçº¿ç¨‹æ± éš”ç¦»ã€‚å¯ä»¥æŒ‰ç…§ä¼˜å…ˆçº§ï¼Œä¸å˜å’Œå˜å‡ ä¸ªç»´åº¦æ¥éš”ç¦»åº”ç”¨å’Œæ¨¡å—ï¼Œå¦‚æŠ½è±¡å’Œä¸å˜çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—çš„ä»£ç å‡ ä¹ä¸ä¼šä¿®æ”¹ï¼Œå¯ç”¨æ€§é«˜ï¼Œç»å¸¸å˜çš„ä¸šåŠ¡é€»è¾‘æ”¾åœ¨ä¸€ä¸ªæ¨¡å—é‡Œï¼Œè¿™æ ·å°±ç®—æœ‰é—®é¢˜ï¼Œä¹Ÿåªä¼šå½±å“åˆ°æŸä¸€ä¸ªä¸šåŠ¡ã€‚ä¸åŒçš„ä¸šåŠ¡ä½¿ç”¨ä¸åŒçš„çº¿ç¨‹æ± ï¼Œé¿å…ä½ä¼˜å…ˆçº§ä»»åŠ¡é˜»å¡é«˜ä¼˜å…ˆçº§ï¼Œæˆ–é«˜ä¼˜å…ˆçº§ä»»åŠ¡è¿‡å¤šæ—¶å½±å“ä½ä¼˜å…ˆçº§ä»»åŠ¡æ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚ </p><h4 id="å¼‚æ­¥è°ƒç”¨"><a href="#å¼‚æ­¥è°ƒç”¨" class="headerlink" title="å¼‚æ­¥è°ƒç”¨"></a>å¼‚æ­¥è°ƒç”¨</h4><p>åŒæ­¥è°ƒç”¨æ”¹æˆå¼‚æ­¥è°ƒç”¨ï¼Œè§£å†³è¿œç¨‹è°ƒç”¨æ•…éšœæˆ–è°ƒç”¨è¶…æ—¶å¯¹ç³»ç»Ÿçš„å½±å“ã€‚</p><h4 id="çƒ­ç‚¹ç¼“å­˜"><a href="#çƒ­ç‚¹ç¼“å­˜" class="headerlink" title="çƒ­ç‚¹ç¼“å­˜"></a>çƒ­ç‚¹ç¼“å­˜</h4><p>å¯¹çƒ­ç‚¹æ•°æ®è¿›è¡Œç¼“å­˜ï¼Œé™ä½RPCè°ƒç”¨ã€‚å¦‚Bç³»ç»Ÿæä¾›åå•æœåŠ¡ï¼ŒBç³»ç»Ÿå¯ä»¥æä¾›ä¸€ä¸ªclient SDKæä¾›è¿‘ç«¯ç¼“å­˜æœåŠ¡ï¼Œå®šæœŸå»æœåŠ¡å™¨ç«¯å–æ•°æ®ï¼Œå‡å°‘RPCè°ƒç”¨ã€‚</p><h4 id="ç¼“å­˜å®¹ç¾"><a href="#ç¼“å­˜å®¹ç¾" class="headerlink" title="ç¼“å­˜å®¹ç¾"></a>ç¼“å­˜å®¹ç¾</h4><p>å½“æ•°æ®åº“ä¸å¯ç”¨æ—¶å¯ä»¥ä½¿ç”¨ç¼“å­˜çš„æ•°æ®ã€‚å¹¶è®¾ç½®åˆ†çº§ç¼“å­˜ï¼Œå¦‚ä¼˜å…ˆè¯»æœ¬åœ°ç¼“å­˜ï¼Œå…¶æ¬¡è¯»åˆ†å¸ƒå¼ç¼“å­˜ã€‚</p><h4 id="åˆ†çº§ç¼“å­˜"><a href="#åˆ†çº§ç¼“å­˜" class="headerlink" title="åˆ†çº§ç¼“å­˜"></a>åˆ†çº§ç¼“å­˜</h4><p>ä¼˜å…ˆè¯»æœ¬åœ°ç¼“å­˜ï¼Œå…¶æ¬¡è¯»åˆ†å¸ƒå¼ç¼“å­˜ã€‚é€šè¿‡æ¨æ¨¡å¼æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚</p><h4 id="ç³»ç»Ÿåˆ†çº§"><a href="#ç³»ç»Ÿåˆ†çº§" class="headerlink" title="ç³»ç»Ÿåˆ†çº§"></a>ç³»ç»Ÿåˆ†çº§</h4><p>å¯¹ç³»ç»Ÿè¿›è¡Œåˆ†çº§ï¼Œå¦‚ABCä¸‰ä¸ªç­‰çº§ï¼Œé«˜çº§åˆ«ç³»ç»Ÿä¸ä¾èµ–äºä½çº§åˆ«ç³»ç»Ÿï¼Œå¹¶ä¸”é«˜çº§åˆ«ç³»ç»Ÿæ¯”åº•çº§åˆ«ç³»ç»Ÿé«˜å¯ç”¨ç‡è¦é«˜ã€‚</p><h4 id="æœåŠ¡é™çº§"><a href="#æœåŠ¡é™çº§" class="headerlink" title="æœåŠ¡é™çº§"></a>æœåŠ¡é™çº§</h4><p>å¦‚æœç³»ç»Ÿå‡ºç°å“åº”ç¼“æ…¢ç­‰çŠ¶å†µï¼Œå¯ä»¥å…³é—­éƒ¨åˆ†åŠŸèƒ½ï¼Œä»è€Œé‡Šæ”¾ç³»ç»Ÿèµ„æºï¼Œä¿è¯æ ¸å¿ƒæœåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚éœ€è¦è¯†åˆ«å“ªäº›æœåŠ¡å¯ä»¥é™çº§ï¼Œæ¯”å¦‚çªç„¶æœ‰å¤§é‡æ¶ˆæ¯æµå…¥ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼Œæˆ‘ä»¬ä¼šæŠŠæ¶ˆæ¯ç›´æ¥ä¸¢å¼ƒæ‰ã€‚æˆ–é€šè¿‡è®¾ç½®æµæ§ï¼Œæ‹’ç»ä¸ºä½çº§åˆ«ç³»ç»Ÿæä¾›æœåŠ¡ã€‚</p><h4 id="æµé‡è“„æ´ª"><a href="#æµé‡è“„æ´ª" class="headerlink" title="æµé‡è“„æ´ª"></a>æµé‡è“„æ´ª</h4><p>å½“æµé‡é™¡å¢æ—¶ï¼Œå¯ä»¥å°†è¯·æ±‚è¿›è¡Œè“„æ´ªï¼Œå¦‚æŠŠè¯·æ±‚ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œå†æŒ‰ç…§æŒ‡å®šçš„QPSè¿›è¡Œæ³„æ´ªï¼Œæœ‰æ•ˆçš„ä¿æŠ¤ä¸‹æ¸¸ç³»ç»Ÿï¼Œä¹Ÿä¿è¯äº†æœåŠ¡çš„å¯ç”¨æ€§ã€‚å½“è°ƒç”¨å¯¹æ–¹ç³»ç»Ÿï¼Œå¯¹æ–¹ç³»ç»Ÿå“åº”ç¼“æ…¢æˆ–æ— å“åº”æ—¶ï¼Œå¯é‡‡å–è‡ªåŠ¨è“„æ´ªã€‚</p><h4 id="æœåŠ¡æƒé‡"><a href="#æœåŠ¡æƒé‡" class="headerlink" title="æœåŠ¡æƒé‡"></a>æœåŠ¡æƒé‡</h4><p>åœ¨é›†ç¾¤ç¯å¢ƒä¸­ï¼Œå¯è‡ªåŠ¨è¯†åˆ«é«˜æ€§èƒ½æœåŠ¡ï¼Œæ‹’ç»è°ƒç”¨æ€§èƒ½ä½çš„æœåŠ¡ã€‚å¦‚åœ¨é›†ç¾¤ç¯å¢ƒä¸­ï¼Œå¯¹è°ƒç”¨è¶…æ—¶çš„æœåŠ¡å™¨è¿›è¡Œæƒé‡é™ä½ï¼Œä¼˜å…ˆè°ƒç”¨æƒé‡é«˜çš„æœåŠ¡å™¨ã€‚</p><h4 id="ä¾èµ–ç®€åŒ–"><a href="#ä¾èµ–ç®€åŒ–" class="headerlink" title="ä¾èµ–ç®€åŒ–"></a>ä¾èµ–ç®€åŒ–</h4><p>å‡å°‘ç³»ç»Ÿä¹‹é—´çš„ä¾èµ–ï¼Œæ¯”å¦‚ä½¿ç”¨æ¶ˆæ¯é©±åŠ¨ï¼ŒAå’ŒBç³»ç»Ÿé€šè¿‡æ¶ˆæ¯æœåŠ¡å™¨ä¼ é€’æ•°æ®ï¼ŒAå’ŒBç³»ç»Ÿä½¿ç”¨æ•°æ®åº“è¿›è¡Œè¯»å†™åˆ†ç¦»ï¼ŒAç³»ç»Ÿè´Ÿè´£å¾€æ•°æ®åº“ä¸­å†™æ•°æ®ï¼ŒBç³»ç»Ÿè´Ÿè´£è¯»æ•°æ®ï¼Œå› ä¸ºæ•°æ®å­˜æ”¾åœ¨æ•°æ®åº“ä¸­ï¼Œå½“Aä¸å¯ç”¨æ—¶ï¼ŒçŸ­æ—¶é—´å†…ä¸å½±å“Bç³»ç»Ÿæä¾›æœåŠ¡ã€‚</p><h4 id="å¼¹æ€§æ‰©å®¹"><a href="#å¼¹æ€§æ‰©å®¹" class="headerlink" title="å¼¹æ€§æ‰©å®¹"></a>å¼¹æ€§æ‰©å®¹</h4><p>æ ¹æ®èµ„æºçš„ä½¿ç”¨ç‡è‡ªåŠ¨æˆ–æ‰‹åŠ¨è¿›è¡Œæ‰©å®¹ã€‚å¦‚å¸¦å®½ä¸å¤Ÿç”¨æ—¶ï¼Œå¿«é€Ÿå¢åŠ å¸¦å®½ã€‚</p><h4 id="ç°åº¦å’Œå›æ»š"><a href="#ç°åº¦å’Œå›æ»š" class="headerlink" title="ç°åº¦å’Œå›æ»š"></a>ç°åº¦å’Œå›æ»š</h4><p>å‘å¸ƒæ–°åŠŸèƒ½åªè®©éƒ¨åˆ†æœåŠ¡å™¨ç”Ÿæ•ˆï¼Œä¸”è§‚å¯Ÿå‡ å¤©é€æ¸åˆ‡æµï¼Œå¦‚æœå‡ºç°é—®é¢˜åªå½±å“éƒ¨åˆ†å®¢æˆ·ã€‚å‡ºç°é—®é¢˜å¿«é€Ÿå›æ»šï¼Œæˆ–è€…ç›´æ¥ä¸‹çº¿ç°åº¦çš„æœºå™¨ã€‚</p><h4 id="å‡å°‘è¿œç¨‹è°ƒç”¨"><a href="#å‡å°‘è¿œç¨‹è°ƒç”¨" class="headerlink" title="å‡å°‘è¿œç¨‹è°ƒç”¨"></a>å‡å°‘è¿œç¨‹è°ƒç”¨</h4><p>ä¼˜å…ˆè°ƒç”¨æœ¬åœ°JVMå†…æœåŠ¡ï¼Œå…¶æ¬¡æ˜¯åŒæœºæˆ¿æœåŠ¡ï¼Œç„¶åæ˜¯åŒåŸæœåŠ¡ï¼Œæœ€åæ˜¯è·¨åŸæœåŠ¡ã€‚å¦‚Aè°ƒç”¨Bï¼ŒBè°ƒç”¨äº’è”ç½‘çš„Cç³»ç»Ÿè·å–æ•°æ®ï¼ŒBç³»ç»Ÿå¯ä»¥æŠŠæ•°æ®ç¼“å­˜èµ·æ¥ï¼Œå¹¶è®¾ç½®æ•°æ®çš„ä¿é²œåº¦ï¼Œå‡å°‘Bå¯¹Cçš„ä¾èµ–ã€‚é…ç½®ä¸­å¿ƒæŠŠæ³¨å†ŒæœåŠ¡çš„åœ°å€æ¨é€åˆ°è°ƒç”¨æœåŠ¡çš„ç³»ç»Ÿæœ¬åœ°ã€‚å‚æ•°ä¸­å¿ƒæŠŠå‚æ•°é…ç½®ä¿¡æ¯æ¨é€åˆ°ç³»ç»Ÿçš„æœ¬åœ°å†…å­˜ï¼Œè€Œä¸æ˜¯è®©ç³»ç»Ÿå»è¿œç¨‹æœåŠ¡å™¨è·å–å‚æ•°ä¿¡æ¯ã€‚</p><h4 id="ç†”æ–­æœºåˆ¶"><a href="#ç†”æ–­æœºåˆ¶" class="headerlink" title="ç†”æ–­æœºåˆ¶"></a>ç†”æ–­æœºåˆ¶</h4><p>å¢åŠ ç†”æ–­æœºåˆ¶ï¼Œå½“ç›‘æ§å‡ºçº¿ä¸Šæ•°æ®å‡ºç°å¤§å¹…è·Œæ¶¨æ—¶ï¼ŒåŠæ—¶ä¸­æ–­ï¼Œé¿å…å¯¹ä¸šåŠ¡äº§ç”Ÿæ›´å¤§å½±å“ã€‚å¦‚æˆ‘ä»¬åšæŒ‡æ ‡è®¡ç®—æ—¶ï¼ŒæŒ‡æ ‡å¯ä»¥è®¡ç®—æ…¢ï¼Œä½†æ˜¯ä¸èƒ½ç®—é”™ï¼Œå¦‚æœå‘ç°æŸä¸ªç”¨æˆ·çš„æŒ‡æ ‡ç¯æ¯”æˆ–åŒæ¯”å¢é•¿ä¸€å€æˆ–è·Œé›¶ï¼Œä¼šè€ƒè™‘ä¿å­˜æ‰€æœ‰æ¶ˆæ¯ï¼Œå¹¶ä¸­æ­¢è¯¥ç”¨æˆ·çš„æŒ‡æ ‡è®¡ç®—ã€‚</p><h4 id="è¿è¡Œæ—¶åŠ è½½æ¨¡å—"><a href="#è¿è¡Œæ—¶åŠ è½½æ¨¡å—" class="headerlink" title="è¿è¡Œæ—¶åŠ è½½æ¨¡å—"></a>è¿è¡Œæ—¶åŠ è½½æ¨¡å—</h4><p>æˆ‘ä»¬ä¼šæŠŠç»å¸¸å˜çš„ä¸šåŠ¡ä»£ç å˜æˆä¸€ä¸ªä¸ªä¸šåŠ¡æ¨¡å—ï¼Œä½¿ç”¨Javaçš„ClassLoaderåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½å’Œå¸è½½æ¨¡å—ï¼Œå½“æŸä¸ªæ¨¡å—æœ‰é—®é¢˜æ—¶å€™ï¼Œå¯ä»¥å¿«é€Ÿä¿®å¤ã€‚</p><h4 id="ä»£ç æ‰«æ"><a href="#ä»£ç æ‰«æ" class="headerlink" title="ä»£ç æ‰«æ"></a>ä»£ç æ‰«æ</h4><p>ä½¿ç”¨IDEAä»£ç åˆ†æç­‰å·¥å…·è¿›è¡Œä»£ç æ‰«æï¼Œè¯†åˆ«å‡ºç¨‹åºä¸­çš„BUGï¼Œå¦‚ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå¾ªç¯ä¾èµ–ç­‰ã€‚</p><h4 id="è‡ªåŠ¨å¤‡ä»½"><a href="#è‡ªåŠ¨å¤‡ä»½" class="headerlink" title="è‡ªåŠ¨å¤‡ä»½"></a>è‡ªåŠ¨å¤‡ä»½</h4><p>ç¨‹åºï¼Œç³»ç»Ÿé…ç½®å’Œæ•°æ®å®šæœŸè¿›è¡Œå¤‡ä»½ã€‚å¯ä½¿ç”¨linuxå‘½ä»¤å’Œshellè„šæœ¬å®šæ—¶æ‰§è¡Œå¤‡ä»½ç­–ç•¥ï¼Œè‡ªåŠ¨è¿›è¡Œæœ¬åœ°æˆ–å¼‚åœ°ã€‚å‡ºç°é—®é¢˜æ—¶èƒ½å¿«é€Ÿé‡æ–°éƒ¨ç½²ã€‚</p><h4 id="çº¿ä¸Šå‹æµ‹"><a href="#çº¿ä¸Šå‹æµ‹" class="headerlink" title="çº¿ä¸Šå‹æµ‹"></a>çº¿ä¸Šå‹æµ‹</h4><p>ç³»ç»Ÿçš„å¯¹å¤–æœåŠ¡éœ€è¦è¿›è¡Œå‹æµ‹ï¼ŒçŸ¥é“è¯¥æœåŠ¡èƒ½æ‰¿å—çš„QPSå’ŒTPSï¼Œä»è€Œåšå‡ºç›¸å¯¹å‡†ç¡®çš„é™æµã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®&quot;&gt;&lt;a href=&quot;#é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®&quot; class=&quot;headerlink&quot; title=&quot;é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®&quot;&gt;&lt;/a&gt;é«˜å¯ç”¨æ€§è®¾è®¡å»ºè®®&lt;/h2&gt;&lt;p&gt;â€œé«˜å¯ç”¨æ€§â€ï¼ˆHigh Availabilityï¼‰é€šå¸¸æ¥æè¿°ä¸€ä¸ªç³»ç»Ÿç»è¿‡ä¸“é—¨çš„è®¾è®¡ï¼Œä»è€Œå‡å°‘
      
    
    </summary>
    
      <category term="å¹¶å‘" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E5%B9%B6%E5%8F%91/"/>
    
    
      <category term="é«˜å¯ç”¨" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Jenkins è‡ªåŠ¨åŒ–å‘å¸ƒ PHP é¡¹ç›®</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-06-13/publish-php-projects-with-jenkins-automation/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-06-13/publish-php-projects-with-jenkins-automation/</id>
    <published>2018-06-13T03:12:00.000Z</published>
    <updated>2018-11-06T13:06:54.415Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯-Jenkins"><a href="#ä»€ä¹ˆæ˜¯-Jenkins" class="headerlink" title="ä»€ä¹ˆæ˜¯ Jenkins"></a>ä»€ä¹ˆæ˜¯ Jenkins</h2><p>Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚</p><h2 id="ä½¿ç”¨-Docker-å®‰è£…-Jenkins"><a href="#ä½¿ç”¨-Docker-å®‰è£…-Jenkins" class="headerlink" title="ä½¿ç”¨ Docker å®‰è£… Jenkins"></a>ä½¿ç”¨ Docker å®‰è£… Jenkins</h2><p>é¿å…è£…ç¯å¢ƒçš„æŠ˜è…¾, ç›´æ¥ä½¿ç”¨ docker-compose å®‰è£…ï¼Œå…·ä½“å¦‚ä½•å®‰è£…åœ¨ <code>Docker å¿«é€Ÿæ­å»º LNMP ç¯å¢ƒ</code> å·²ç»æè¿°äº†</p><p>docker-compose.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jenkins:</span></span><br><span class="line"><span class="attr">  image:</span> <span class="attr">jenkins:latest</span></span><br><span class="line"><span class="attr">  ports:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"8080:8080"</span></span><br><span class="line"><span class="attr">  volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">./jenkins:/var/jenkins_home:rw</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼švolumes é…ç½® jenkins ç›®å½•æ˜ å°„åˆ°æœ¬åœ°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç­‰å¾…ä¸‹è½½é•œåƒï¼Œåˆ›å»ºå®¹å™¨</span><br><span class="line">Creating dnmp_jenkins_1    ... done</span><br><span class="line"><span class="meta">#</span> å®‰è£…å°±è¿™ä¹ˆç®€å•</span><br></pre></td></tr></table></figure><h2 id="è®¿é—®-8080-ç«¯å£ï¼Œè¿›å…¥åˆå§‹åŒ–é¡µé¢"><a href="#è®¿é—®-8080-ç«¯å£ï¼Œè¿›å…¥åˆå§‹åŒ–é¡µé¢" class="headerlink" title="è®¿é—® 8080 ç«¯å£ï¼Œè¿›å…¥åˆå§‹åŒ–é¡µé¢"></a>è®¿é—® 8080 ç«¯å£ï¼Œè¿›å…¥åˆå§‹åŒ–é¡µé¢</h2><p>è®¿é—®: <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></p><p>é¦–æ¬¡æ‰“å¼€ï¼Œéœ€è¦è¾“å…¥ç§˜é’¥ï¼Œæ ¹æ®æç¤ºï¼Œå¯ä»¥åœ¨å¯¹åº”çš„ç›®å½• /jenkins/secrets æ‰¾åˆ°è¯¥æ–‡ä»¶<br>è®¾ç½®ç™»å½•ç”¨æˆ·åå¯†ç åï¼Œè¿›å…¥å‡ åˆ†é’Ÿçš„åˆå§‹åŒ–è¿‡ç¨‹â€¦</p><p><img src="/images/screen_5.png" alt="screen"></p><h2 id="é…ç½®è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒ"><a href="#é…ç½®è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒ" class="headerlink" title="é…ç½®è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒ"></a>é…ç½®è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒ</h2><h3 id="é…ç½®è¿œç¨‹æœåŠ¡å™¨-SSH"><a href="#é…ç½®è¿œç¨‹æœåŠ¡å™¨-SSH" class="headerlink" title="é…ç½®è¿œç¨‹æœåŠ¡å™¨ SSH"></a>é…ç½®è¿œç¨‹æœåŠ¡å™¨ SSH</h3><p>èœå• -&gt; ç³»ç»Ÿç®¡ç† -&gt; ç³»ç»Ÿè®¾ç½® -&gt;  SSH Servers</p><p><img src="/images/screen_7.png" alt="screen"></p><p>å¦‚å›¾ï¼Œæ˜¯æˆ‘é…ç½®çš„å†…å®¹</p><p><img src="/images/screen_8.png" alt="screen"></p><p>Remote Directory è¿™ä¸ªé…ç½®å¾ˆå…³é”®ï¼Œè¡¨ç¤ºæ„å»ºæ—¶çš„ç›¸å¯¹ç›®å½•ã€‚è¿™é‡Œæˆ‘é…ç½® â€œ/â€œ<br>é…ç½®å®Œæˆåï¼Œæœ€å¥½ Test Configuration , è¿”å› Success å°±è¡¨ç¤ºæˆåŠŸï¼</p><h3 id="æ–°å»ºå‘å¸ƒé¡¹ç›®"><a href="#æ–°å»ºå‘å¸ƒé¡¹ç›®" class="headerlink" title="æ–°å»ºå‘å¸ƒé¡¹ç›®"></a>æ–°å»ºå‘å¸ƒé¡¹ç›®</h3><p>å¡«å†™é¡¹ç›®åç§°å¦‚, test<br>å¹¶é€‰æ‹©é¡¹ç›®ç±»å‹ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©â€è‡ªç”±é£æ ¼é¡¹ç›®â€<br><img src="/images/screen_6.png" alt="screen"></p><h4 id="General"><a href="#General" class="headerlink" title="General"></a>General</h4><p>é€‰æ‹©å¯¹åº”é¡¹ç›®è·¯å¾„ï¼Œæˆ‘ä½¿ç”¨ GitHub project </p><p><img src="/images/screen_9.png" alt="screen"></p><h4 id="æºç ç®¡ç†"><a href="#æºç ç®¡ç†" class="headerlink" title="æºç ç®¡ç†"></a>æºç ç®¡ç†</h4><p>ä½¿ç”¨ git æºç ä»“åº“ç®¡ç†</p><p><img src="/images/screen_10.png" alt="screen"></p><h4 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h4><p>è¿™é‡Œæ˜¯æœ€å…³é”®çš„ï¼Œä½ å¯ä»¥æ‰“åŒ…æºç å‘å¸ƒåˆ°å¯¹åº”çš„æœåŠ¡å™¨ä¹‹ä¸Š</p><p><img src="/images/screen_11.png" alt="screen"></p><ul><li>Source files è¡¨ç¤ºæ‰“åŒ…å¥½çš„æºæ–‡ä»¶</li><li>Remote directory è¡¨ç¤ºä½ éœ€è¦å°†æºæ–‡ä»¶ä¸Šä¼ çš„è¿œç¨‹è·¯å¾„ï¼ˆè¿™ä¸ªè·¯å¾„ç›¸å¯¹äº SSH é…ç½®ç›®å½•ï¼‰</li><li>Exec command ä¸Šä¼ å®Œæˆåï¼Œæ‰§è¡Œçš„å‘½ä»¤ï¼ˆ hexo g è¿™ä¸ªæ˜¯æˆ‘å‘å¸ƒåšå®¢æ—¶çš„æ„å»ºå‘½ä»¤ï¼‰</li></ul><h3 id="ç«‹å³æ„å»º"><a href="#ç«‹å³æ„å»º" class="headerlink" title="ç«‹å³æ„å»º"></a>ç«‹å³æ„å»º</h3><p>é€‰æ‹©å¯¹åº”çš„é¡¹ç›®ï¼Œç‚¹å‡»ç«‹å³æ„å»º</p><p><img src="/images/screen_12.png" alt="screen"></p><p>åœ¨æ„å»ºæ‰§è¡ŒçŠ¶æ€ä¸­ï¼Œå¯ä»¥ç‚¹å‡» console output çœ‹åˆ°æ„å»ºçš„è¿‡ç¨‹ä¿¡æ¯</p><p><img src="/images/screen_13.png" alt="screen"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-Jenkins&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-Jenkins&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ Jenkins&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ Jenkins&lt;/h2&gt;&lt;p&gt;Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥
      
    
    </summary>
    
      <category term="Jenkins" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/Jenkins/"/>
    
    
      <category term="Jenkins" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/Jenkins/"/>
    
  </entry>
  
  <entry>
    <title>Webæµè§ˆå™¨åŒæºæ”¿ç­–åŠå…¶è§„é¿æ–¹æ³•</title>
    <link href="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/2018-06-12/web-browser-homology-policy-and-its-avoidance-method/"/>
    <id>https://xuehui.æˆ‘çˆ±ä½ /2018-06-12/web-browser-homology-policy-and-its-avoidance-method/</id>
    <published>2018-06-12T07:41:00.000Z</published>
    <updated>2018-11-06T13:06:35.247Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡ç« å‚è€ƒï¼š <a href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" title="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html</a></p></blockquote><h2 id="åŒæºæ”¿ç­–"><a href="#åŒæºæ”¿ç­–" class="headerlink" title="åŒæºæ”¿ç­–"></a>åŒæºæ”¿ç­–</h2><p>æ‰€è°“åŒæºï¼Œæ˜¯æŒ‡<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åè®®</span><br><span class="line">åŸŸå</span><br><span class="line">ç«¯å£</span><br></pre></td></tr></table></figure></p><p>å½“ä¸”ä»…å½“åè®®åŸŸåç«¯å£éƒ½ç›¸åŒï¼Œæ‰èƒ½ç§°ä½œåŒæºã€‚</p><h2 id="é™åˆ¶èŒƒå›´"><a href="#é™åˆ¶èŒƒå›´" class="headerlink" title="é™åˆ¶èŒƒå›´"></a>é™åˆ¶èŒƒå›´</h2><p>éåŒæºæƒ…å†µä¸‹ï¼Œä»¥ä¸‹æ“ä½œæ˜¯å—é™çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cookie LocalStorage ä¸èƒ½è¯»å–</span><br><span class="line">Dom æ— æ³•è·å¾—</span><br><span class="line">Ajax ä¸èƒ½å‘é€</span><br></pre></td></tr></table></figure><h2 id="æ”¿ç­–ç›®çš„"><a href="#æ”¿ç­–ç›®çš„" class="headerlink" title="æ”¿ç­–ç›®çš„"></a>æ”¿ç­–ç›®çš„</h2><p>åŒæºæ”¿ç­–æ˜¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–ã€‚</p><p>å¦‚æœCookieå¯ä»¥å…±äº«ï¼Œç”¨æˆ·è®¿é—®Aé“¶è¡Œç½‘ç«™ï¼Œå†å»è®¿é—®Bç½‘ç«™ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><p>å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœ Cookie åŒ…å«éšç§ï¼ˆæ¯”å¦‚å­˜æ¬¾æ€»é¢ï¼‰ï¼Œè¿™äº›ä¿¡æ¯å°±ä¼šæ³„æ¼ã€‚æ›´å¯æ€•çš„æ˜¯ï¼ŒCookie å¾€å¾€ç”¨æ¥ä¿å­˜ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰é€€å‡ºç™»å½•ï¼Œå…¶ä»–ç½‘ç«™å°±å¯ä»¥å†’å……ç”¨æˆ·ï¼Œä¸ºæ‰€æ¬²ä¸ºã€‚å› ä¸ºæµè§ˆå™¨åŒæ—¶è¿˜è§„å®šï¼Œæäº¤è¡¨å•ä¸å—åŒæºæ”¿ç­–çš„é™åˆ¶ã€‚</p><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookie æ˜¯æœåŠ¡å™¨å†™å…¥æµè§ˆå™¨çš„ä¸€å°æ®µä¿¡æ¯ï¼Œåªæœ‰åŒæºçš„ç½‘é¡µæ‰èƒ½å…±äº«ã€‚ä½†æ˜¯ï¼Œä¸¤ä¸ªç½‘é¡µä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒï¼Œæµè§ˆå™¨å…è®¸é€šè¿‡è®¾ç½®<strong>document.domain</strong>å…±äº« Cookieã€‚</p><h2 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h2><p>å¦‚æœä¸¤ä¸ªç½‘é¡µä¸åŒæºï¼Œå°±æ— æ³•æ‹¿åˆ°å¯¹æ–¹çš„DOMã€‚å…¸å‹çš„ä¾‹å­æ˜¯iframeçª—å£å’Œwindow.openæ–¹æ³•æ‰“å¼€çš„çª—å£ï¼Œå®ƒä»¬ä¸çˆ¶çª—å£æ— æ³•é€šä¿¡ã€‚</p><p>è§„é¿æ–¹æ³•</p><ul><li>ç‰‡æ®µè¯†åˆ«ç¬¦ï¼ˆfragment identifierï¼‰</li><li>window.name</li><li>è·¨æ–‡æ¡£é€šä¿¡APIï¼ˆCross-document messagingï¼‰</li></ul><h3 id="ç‰‡æ®µè¯†åˆ«ç¬¦"><a href="#ç‰‡æ®µè¯†åˆ«ç¬¦" class="headerlink" title="ç‰‡æ®µè¯†åˆ«ç¬¦"></a>ç‰‡æ®µè¯†åˆ«ç¬¦</h3><p>ç‰‡æ®µæ ‡è¯†ç¬¦ï¼ˆfragment identifierï¼‰æŒ‡çš„æ˜¯ï¼ŒURLçš„#å·åé¢çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚<a href="http://example.com/x.html#fragmentçš„#fragmentã€‚å¦‚æœåªæ˜¯æ”¹å˜ç‰‡æ®µæ ‡è¯†ç¬¦ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åˆ·æ–°ã€‚" target="_blank" rel="noopener">http://example.com/x.html#fragmentçš„#fragmentã€‚å¦‚æœåªæ˜¯æ”¹å˜ç‰‡æ®µæ ‡è¯†ç¬¦ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åˆ·æ–°ã€‚</a></p><p>çˆ¶çª—å£å¯ä»¥æŠŠä¿¡æ¯ï¼Œå†™å…¥å­çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var src = originURL + &apos;#&apos; + data;</span><br><span class="line">document.getElementById(&apos;myIFrame&apos;).src = src;</span><br></pre></td></tr></table></figure><p>å­çª—å£é€šè¿‡ç›‘å¬hashchangeäº‹ä»¶å¾—åˆ°é€šçŸ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">window.onhashchange = checkMessage;</span><br><span class="line"></span><br><span class="line">function checkMessage() &#123;</span><br><span class="line">  var message = window.location.hash;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œå­çª—å£ä¹Ÿå¯ä»¥æ”¹å˜çˆ¶çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent.location.href= target + &quot;#&quot; + hash;</span><br></pre></td></tr></table></figure><h3 id="window-name"><a href="#window-name" class="headerlink" title="window.name"></a>window.name</h3><p>æµè§ˆå™¨çª—å£æœ‰window.nameå±æ€§ã€‚è¿™ä¸ªå±æ€§çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ï¼Œæ— è®ºæ˜¯å¦åŒæºï¼Œåªè¦åœ¨åŒä¸€ä¸ªçª—å£é‡Œï¼Œå‰ä¸€ä¸ªç½‘é¡µè®¾ç½®äº†è¿™ä¸ªå±æ€§ï¼Œåä¸€ä¸ªç½‘é¡µå¯ä»¥è¯»å–å®ƒã€‚</p><p>çˆ¶çª—å£å…ˆæ‰“å¼€ä¸€ä¸ªå­çª—å£ï¼Œè½½å…¥ä¸€ä¸ªä¸åŒæºçš„ç½‘é¡µï¼Œè¯¥ç½‘é¡µå°†ä¿¡æ¯å†™å…¥window.nameå±æ€§ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.name = data;</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œå­çª—å£è·³å›ä¸€ä¸ªä¸ä¸»çª—å£åŒåŸŸçš„ç½‘å€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location = &apos;http://parent.url.com/xxx.html&apos;;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œä¸»çª—å£å°±å¯ä»¥è¯»å–å­çª—å£çš„window.nameäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var data = document.getElementById(&apos;myFrame&apos;).contentWindow.name;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œwindow.nameå®¹é‡å¾ˆå¤§ï¼Œå¯ä»¥æ”¾ç½®éå¸¸é•¿çš„å­—ç¬¦ä¸²ï¼›ç¼ºç‚¹æ˜¯å¿…é¡»ç›‘å¬å­çª—å£window.nameå±æ€§çš„å˜åŒ–ï¼Œå½±å“ç½‘é¡µæ€§èƒ½ã€‚</p><h3 id="window-postMessage"><a href="#window-postMessage" class="headerlink" title="window.postMessage"></a>window.postMessage</h3><p>ä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½å±äºç ´è§£ï¼ŒHTML5ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ä¸ªå…¨æ–°çš„APIï¼šè·¨æ–‡æ¡£é€šä¿¡ APIï¼ˆCross-document messagingï¼‰ã€‚<br>è¿™ä¸ªAPIä¸ºwindowå¯¹è±¡æ–°å¢äº†ä¸€ä¸ªwindow.postMessageæ–¹æ³•ï¼Œå…è®¸è·¨çª—å£é€šä¿¡ï¼Œä¸è®ºè¿™ä¸¤ä¸ªçª—å£æ˜¯å¦åŒæºã€‚<br>ä¸¾ä¾‹æ¥è¯´ï¼Œçˆ¶çª—å£<a href="http://aaa.comå‘å­çª—å£http://bbb.comå‘æ¶ˆæ¯ï¼Œè°ƒç”¨postMessageæ–¹æ³•å°±å¯ä»¥äº†ã€‚" target="_blank" rel="noopener">http://aaa.comå‘å­çª—å£http://bbb.comå‘æ¶ˆæ¯ï¼Œè°ƒç”¨postMessageæ–¹æ³•å°±å¯ä»¥äº†ã€‚</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var popup = window.open(&apos;http://bbb.com&apos;, &apos;title&apos;);</span><br><span class="line">popup.postMessage(&apos;Hello World!&apos;, &apos;http://bbb.com&apos;);</span><br></pre></td></tr></table></figure><p>postMessageæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…·ä½“çš„ä¿¡æ¯å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¥æ”¶æ¶ˆæ¯çš„çª—å£çš„æºï¼ˆoriginï¼‰ï¼Œå³â€åè®® + åŸŸå + ç«¯å£â€ã€‚ä¹Ÿå¯ä»¥è®¾ä¸º*ï¼Œè¡¨ç¤ºä¸é™åˆ¶åŸŸåï¼Œå‘æ‰€æœ‰çª—å£å‘é€ã€‚<br>å­çª—å£å‘çˆ¶çª—å£å‘é€æ¶ˆæ¯çš„å†™æ³•ç±»ä¼¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.opener.postMessage(&apos;Nice to see you&apos;, &apos;http://aaa.com&apos;);</span><br></pre></td></tr></table></figure><p>çˆ¶çª—å£å’Œå­çª—å£éƒ½å¯ä»¥é€šè¿‡messageäº‹ä»¶ï¼Œç›‘å¬å¯¹æ–¹çš„æ¶ˆæ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&apos;message&apos;, function(e) &#123;</span><br><span class="line">  console.log(e.data);</span><br><span class="line">&#125;,false);</span><br></pre></td></tr></table></figure><p>messageäº‹ä»¶çš„äº‹ä»¶å¯¹è±¡eventï¼Œæä¾›ä»¥ä¸‹ä¸‰ä¸ªå±æ€§ã€‚</p><ul><li>event.sourceï¼šå‘é€æ¶ˆæ¯çš„çª—å£</li><li>event.origin: æ¶ˆæ¯å‘å‘çš„ç½‘å€</li><li>event.data: æ¶ˆæ¯å†…å®¹</li></ul><p>ä¸‹é¢çš„ä¾‹å­æ˜¯ï¼Œå­çª—å£é€šè¿‡event.sourceå±æ€§å¼•ç”¨çˆ¶çª—å£ï¼Œç„¶åå‘é€æ¶ˆæ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&apos;message&apos;, receiveMessage);</span><br><span class="line">function receiveMessage(event) &#123;</span><br><span class="line">  event.source.postMessage(&apos;Nice to see you!&apos;, &apos;*&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>event.originå±æ€§å¯ä»¥è¿‡æ»¤ä¸æ˜¯å‘ç»™æœ¬çª—å£çš„æ¶ˆæ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&apos;message&apos;, receiveMessage);</span><br><span class="line">function receiveMessage(event) &#123;</span><br><span class="line">  if (event.origin !== &apos;http://aaa.com&apos;) return;</span><br><span class="line">  if (event.data === &apos;Hello World&apos;) &#123;</span><br><span class="line">      event.source.postMessage(&apos;Hello&apos;, event.origin);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(event.data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h3><p>é€šè¿‡window.postMessageï¼Œè¯»å†™å…¶ä»–çª—å£çš„ LocalStorage ä¹Ÿæˆä¸ºäº†å¯èƒ½ã€‚</p><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>åŒæºæ”¿ç­–è§„å®šï¼ŒAJAXè¯·æ±‚åªèƒ½å‘ç»™åŒæºçš„ç½‘å€ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚<br>é™¤äº†æ¶è®¾æœåŠ¡å™¨ä»£ç†ï¼ˆæµè§ˆå™¨è¯·æ±‚åŒæºæœåŠ¡å™¨ï¼Œå†ç”±åè€…è¯·æ±‚å¤–éƒ¨æœåŠ¡ï¼‰ï¼Œæœ‰ä¸‰ç§æ–¹æ³•è§„é¿è¿™ä¸ªé™åˆ¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- jsonp</span><br><span class="line">- websocket</span><br><span class="line">- cors</span><br></pre></td></tr></table></figure><h3 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h3><p>JSONPæ˜¯æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯è·¨æºé€šä¿¡çš„å¸¸ç”¨æ–¹æ³•ã€‚æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ç®€å•é€‚ç”¨ï¼Œè€å¼æµè§ˆå™¨å…¨éƒ¨æ”¯æŒï¼ŒæœåŠ¡å™¨æ”¹é€ éå¸¸å°ã€‚<br>å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œç½‘é¡µé€šè¿‡æ·»åŠ ä¸€ä¸ª<strong>script</strong>å…ƒç´ ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚JSONæ•°æ®ï¼Œè¿™ç§åšæ³•ä¸å—åŒæºæ”¿ç­–é™åˆ¶ï¼›æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå°†æ•°æ®æ”¾åœ¨ä¸€ä¸ªæŒ‡å®šåå­—çš„å›è°ƒå‡½æ•°é‡Œä¼ å›æ¥ã€‚<br>é¦–å…ˆï¼Œç½‘é¡µåŠ¨æ€æ’å…¥<strong>script</strong>å…ƒç´ ï¼Œç”±å®ƒå‘è·¨æºç½‘å€å‘å‡ºè¯·æ±‚ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function addScriptTag(src) &#123;</span><br><span class="line">  var script = document.createElement(&apos;script&apos;);</span><br><span class="line">  script.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;);</span><br><span class="line">  script.src = src;</span><br><span class="line">  document.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.onload = function () &#123;</span><br><span class="line">  addScriptTag(&apos;http://example.com/ip?callback=foo&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function foo(data) &#123;</span><br><span class="line">  console.log(&apos;Your public IP address is: &apos; + data.ip);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç é€šè¿‡åŠ¨æ€æ·»åŠ <strong>script</strong>å…ƒç´ ï¼Œå‘æœåŠ¡å™¨example.comå‘å‡ºè¯·æ±‚ã€‚æ³¨æ„ï¼Œè¯¥è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªcallbackå‚æ•°ï¼Œç”¨æ¥æŒ‡å®šå›è°ƒå‡½æ•°çš„åå­—ï¼Œè¿™å¯¹äºJSONPæ˜¯å¿…éœ€çš„ã€‚<br>æœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªè¯·æ±‚ä»¥åï¼Œä¼šå°†æ•°æ®æ”¾åœ¨å›è°ƒå‡½æ•°çš„å‚æ•°ä½ç½®è¿”å›ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo(&#123;</span><br><span class="line">  &quot;ip&quot;: &quot;8.8.8.8&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç”±äº<strong>script</strong>å…ƒç´ è¯·æ±‚çš„è„šæœ¬ï¼Œç›´æ¥ä½œä¸ºä»£ç è¿è¡Œã€‚è¿™æ—¶ï¼Œåªè¦æµè§ˆå™¨å®šä¹‰äº†fooå‡½æ•°ï¼Œè¯¥å‡½æ•°å°±ä¼šç«‹å³è°ƒç”¨ã€‚ä½œä¸ºå‚æ•°çš„JSONæ•°æ®è¢«è§†ä¸ºJavaScriptå¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤é¿å…äº†ä½¿ç”¨JSON.parseçš„æ­¥éª¤ã€‚</p><h3 id="Websocket"><a href="#Websocket" class="headerlink" title="Websocket"></a>Websocket</h3><p>WebSocketæ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œä½¿ç”¨ws://ï¼ˆéåŠ å¯†ï¼‰å’Œwss://ï¼ˆåŠ å¯†ï¼‰ä½œä¸ºåè®®å‰ç¼€ã€‚è¯¥åè®®ä¸å®è¡ŒåŒæºæ”¿ç­–ï¼Œåªè¦æœåŠ¡å™¨æ”¯æŒï¼Œå°±å¯ä»¥é€šè¿‡å®ƒè¿›è¡Œè·¨æºé€šä¿¡ã€‚<br>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨å‘å‡ºçš„WebSocketè¯·æ±‚çš„å¤´ä¿¡æ¯ï¼ˆæ‘˜è‡ªç»´åŸºç™¾ç§‘ï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /chat HTTP/1.1</span><br><span class="line">Host: server.example.com</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==</span><br><span class="line">Sec-WebSocket-Protocol: chat, superchat</span><br><span class="line">Sec-WebSocket-Version: 13</span><br><span class="line">Origin: http://example.com</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªå­—æ®µæ˜¯Originï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚çš„è¯·æ±‚æºï¼ˆoriginï¼‰ï¼Œå³å‘è‡ªå“ªä¸ªåŸŸåã€‚<br>æ­£æ˜¯å› ä¸ºæœ‰äº†Originè¿™ä¸ªå­—æ®µï¼Œæ‰€ä»¥WebSocketæ‰æ²¡æœ‰å®è¡ŒåŒæºæ”¿ç­–ã€‚å› ä¸ºæœåŠ¡å™¨å¯ä»¥æ ¹æ®è¿™ä¸ªå­—æ®µï¼Œåˆ¤æ–­æ˜¯å¦è®¸å¯æœ¬æ¬¡é€šä¿¡ã€‚å¦‚æœè¯¥åŸŸååœ¨ç™½åå•å†…ï¼ŒæœåŠ¡å™¨å°±ä¼šåšå‡ºå¦‚ä¸‹å›åº”ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 101 Switching Protocols</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=</span><br><span class="line">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure><h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><p>CORSæ˜¯è·¨æºèµ„æºåˆ†äº«ï¼ˆCross-Origin Resource Sharingï¼‰çš„ç¼©å†™ã€‚å®ƒæ˜¯W3Cæ ‡å‡†ï¼Œæ˜¯è·¨æºAJAXè¯·æ±‚çš„æ ¹æœ¬è§£å†³æ–¹æ³•ã€‚ç›¸æ¯”JSONPåªèƒ½å‘GETè¯·æ±‚ï¼ŒCORSå…è®¸ä»»ä½•ç±»å‹çš„è¯·æ±‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æ–‡ç« å‚è€ƒï¼š &lt;a href=&quot;http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html&quot; title=&quot;http://www.ruanyifeng.com/blog/2016/04
      
    
    </summary>
    
      <category term="è·¨åŸŸ" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/categories/%E8%B7%A8%E5%9F%9F/"/>
    
    
      <category term="è·¨åŸŸ" scheme="https://xuehui.%E6%88%91%E7%88%B1%E4%BD%A0/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
</feed>
