<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="code farmer."><title>JavaScript 2048智力游戏 | 追赶日落日出</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?66bdd0a984d281716c78a567d1f39e67";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">首页</a><a class="sidebar-nav-item" href="/archives">归档</a><a class="sidebar-nav-item" href="/about">关于我</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/JavaScript/">JavaScript</a></div><div class="post-time">2018-04-21</div></div></div><div class="container post-header"><h1>JavaScript 2048智力游戏</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#编码流程"><span class="toc-number">1.</span> <span class="toc-text">编码流程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#什么是2048？"><span class="toc-number">1.1.</span> <span class="toc-text">什么是2048？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#玩2048技巧？"><span class="toc-number">1.2.</span> <span class="toc-text">玩2048技巧？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#游戏设计图？"><span class="toc-number">1.3.</span> <span class="toc-text">游戏设计图？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTML编写？"><span class="toc-number">1.4.</span> <span class="toc-text">HTML编写？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#CSS编写？"><span class="toc-number">1.5.</span> <span class="toc-text">CSS编写？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript编写？"><span class="toc-number">1.6.</span> <span class="toc-text">JavaScript编写？</span></a></li></ol></li></ol></details></div><div class="container post-content"><h4 id="编码流程"><a href="#编码流程" class="headerlink" title="编码流程"></a>编码流程</h4><ul>
<li><p>1.什么是2048？</p>
</li>
<li><p>2.玩2048技巧？</p>
</li>
<li><p>3.移动端开发注意事项？</p>
</li>
<li><p>4.游戏设计图？</p>
</li>
<li><p>5.HTML编写？</p>
</li>
<li><p>6.CSS编写</p>
</li>
<li><p>7.JavaScript游戏模型编写？</p>
</li>
<li><p>8.JavaScript游戏逻辑编写?</p>
</li>
<li><p>9.JavaScript游戏特效编写？</p>
</li>
<li><p>10.打包APP？</p>
</li>
</ul>
<h5 id="什么是2048？"><a href="#什么是2048？" class="headerlink" title="什么是2048？"></a>什么是2048？</h5><p>2048有16个格子，初始时会有两个格子上安放了两个数字2，每次可以选择上下左右其中一个方向去滑动，每滑动一次，所有的数字方块都会往滑动的方向靠拢外，系统也会在空白的地方随即出现一个数字方块，相同数字的方块在靠拢、相撞时会相加。</p>
<h5 id="玩2048技巧？"><a href="#玩2048技巧？" class="headerlink" title="玩2048技巧？"></a>玩2048技巧？</h5><ul>
<li>1、最大数尽可能放在角落。</li>
<li>2、数字按顺序紧邻排列。</li>
<li>3、首先满足最大数和次大数在的那一列/行是满的。</li>
<li>4、时刻注意活动较大数（32以上）旁边要有相近的数。</li>
<li>5、以大数所在的一行为主要移动方向</li>
<li>6、不要急于“清理桌面”。</li>
</ul>
<p>移动端开发注意事项？</p>
<p>屏幕宽度：<br>开发移动端页面时，必须设置适应移动端显示代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>触屏事件：<br>基于移动端开发一定要支持触屏touch事件。</p>
<p>因为我开发选用JQ支持，所以引入了JQuery.touch.js</p>
<ul>
<li><p>JQuery.min.js下载：<a href="http://www.netcu.de/templates/netcu/js/jquery-1.4.2.min.js" target="_blank" rel="noopener">http://www.netcu.de/templates/netcu/js/jquery-1.4.2.min.js</a></p>
</li>
<li><p>JQuery.touch.js 下载：<a href="http://www.netcu.de/templates/netcu/js/jquery.touchwipe.js" target="_blank" rel="noopener">http://www.netcu.de/templates/netcu/js/jquery.touchwipe.js</a></p>
</li>
</ul>
<p>JQuery.touch.js 实现大概原理：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">(function($) &#123; </span><br><span class="line">   $.fn.touchwipe = function(settings) &#123;</span><br><span class="line">     var config = &#123;</span><br><span class="line">            min_move_x: 20,</span><br><span class="line">             wipeLeft: function() &#123; alert("left"); &#125;,</span><br><span class="line">             wipeRight: function() &#123; alert("right"); &#125;,</span><br><span class="line">            preventDefaultEvents: true</span><br><span class="line">     &#125;;</span><br><span class="line">     </span><br><span class="line">     if (settings) $.extend(config, settings);</span><br><span class="line"> </span><br><span class="line">     this.each(function() &#123;</span><br><span class="line">         var startX;</span><br><span class="line">         var isMoving = false;</span><br><span class="line"></span><br><span class="line">         function cancelTouch() &#123;</span><br><span class="line">             this.removeEventListener('touchmove', onTouchMove);</span><br><span class="line">             startX = null;</span><br><span class="line">             isMoving = false;</span><br><span class="line">         &#125;    </span><br><span class="line">         </span><br><span class="line">         function onTouchMove(e) &#123;</span><br><span class="line">             if(config.preventDefaultEvents) &#123;</span><br><span class="line">                 e.preventDefault();</span><br><span class="line">             &#125;</span><br><span class="line">             if(isMoving) &#123;</span><br><span class="line">                 var x = e.touches[0].pageX;</span><br><span class="line">                 var dx = startX - x;</span><br><span class="line">                 if(Math.abs(dx) &gt;= config.min_move_x) &#123;</span><br><span class="line">                    cancelTouch();</span><br><span class="line">                    if(dx &gt; 0) &#123;</span><br><span class="line">                        config.wipeLeft();</span><br><span class="line">                    &#125;</span><br><span class="line">                    else &#123;</span><br><span class="line">                        config.wipeRight();</span><br><span class="line">                    &#125;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         </span><br><span class="line">         function onTouchStart(e)</span><br><span class="line">         &#123;</span><br><span class="line">             if (e.touches.length == 1) &#123;</span><br><span class="line">                 startX = e.touches[0].pageX;</span><br><span class="line">                 isMoving = true;</span><br><span class="line">                 this.addEventListener('touchmove', onTouchMove, false);</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;         </span><br><span class="line">             </span><br><span class="line">         this.addEventListener('touchstart', onTouchStart, false);</span><br><span class="line">     &#125;);</span><br><span class="line"> </span><br><span class="line">     return this;</span><br><span class="line">   &#125;;</span><br><span class="line"> </span><br><span class="line"> &#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>这样子，我们就可以支持wipeLeft、wipeRight、wipeDown、wipeUp事件了。</p>
<p>注意：在移动端click事件会延迟300ms</p>
<h5 id="游戏设计图？"><a href="#游戏设计图？" class="headerlink" title="游戏设计图？"></a>游戏设计图？</h5><p>看看我们2048设计图：</p>
<p><img src="/images/pasted-21.png" alt="upload successful"></p>
<h5 id="HTML编写？"><a href="#HTML编写？" class="headerlink" title="HTML编写？"></a>HTML编写？</h5><p>页面编写过程：</p>
<p>最外层我使用一个div，里面的4*4一共使用16个div。</p>
<p>只要外层的div使用relative相对定位，然后内部的单元格div使用absolute绝对定位。然后使用js代码计算对应单元格的Left与Top值。</p>
<p>HTML代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>2048<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./lib/style.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/jquery.touchSwipe.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/data.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/function.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/animation.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>2048<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"score"</span>&gt;</span>Score&amp;nbsp;:&amp;nbsp;<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"score"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"new_game"</span> <span class="attr">id</span>=<span class="string">"new_game"</span>&gt;</span>New Game<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"msg"</span>&gt;</span>GameOver.<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"game-panel"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wall"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-0-0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-0-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-0-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-0-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-1-0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-1-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-1-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-1-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-2-0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-2-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-2-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-2-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-3-0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-3-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-3-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cell"</span> <span class="attr">id</span>=<span class="string">"box-cell-3-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>Hatcher make.2016<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>header这个div显示标题，然后得分，以及一个开始游戏的button。</p>
<p>wall这个div就是游戏的主体部分。</p>
<h5 id="CSS编写？"><a href="#CSS编写？" class="headerlink" title="CSS编写？"></a>CSS编写？</h5><p>对应的CSS如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0px 0px;</span><br><span class="line">    padding: 0px 0px;</span><br><span class="line">&#125;</span><br><span class="line">.main&#123;</span><br><span class="line">    font-family: "微软雅黑";</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.header&#123;</span><br><span class="line">    border: 5px solid #fff;</span><br><span class="line">    height: 120px;</span><br><span class="line">    border-radius: 2px;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.header h4&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    color:#fff;</span><br><span class="line">    font-size: 32px;</span><br><span class="line">    line-height: 100px;</span><br><span class="line">    margin: 10px;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    background-color: #ffad2d;</span><br><span class="line">&#125;</span><br><span class="line">.header .score&#123;</span><br><span class="line">    color: #ffad2d;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 20px;</span><br><span class="line">    left: 150px;</span><br><span class="line">&#125;</span><br><span class="line">.header .new_game&#123;</span><br><span class="line">    color: #ffffff;</span><br><span class="line">    background-color: #19B8C8;</span><br><span class="line">    padding: 8px 10px;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    position: absolute;</span><br><span class="line">    border-radius: 2px;</span><br><span class="line"></span><br><span class="line">    top: 60px;</span><br><span class="line">    left: 150px;</span><br><span class="line">&#125;</span><br><span class="line">.header .new_game:active&#123;</span><br><span class="line">    background-color: #e15661;</span><br><span class="line">&#125;</span><br><span class="line">.msg&#123;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    line-height: 100px;</span><br><span class="line">    color: #ff3d44;</span><br><span class="line">&#125;</span><br><span class="line">.game-panel&#123;</span><br><span class="line">    height: 300px;</span><br><span class="line">    width: 250px;</span><br><span class="line">    margin: 20px auto;</span><br><span class="line">&#125;</span><br><span class="line">.game-panel .wall&#123;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    width: 230px;</span><br><span class="line">    height: 230px;</span><br><span class="line">    background-color: #bbada0;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.game-panel .wall .cell&#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background-color: #ccc0b3;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.game-panel .wall .number-cell&#123;</span><br><span class="line">    font-size: 25px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    color: #fff;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    line-height: 50px;</span><br><span class="line">    width: 0px;</span><br><span class="line">    height: 0px;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line">.footer &#123;</span><br><span class="line">    font-family: "微软雅黑";</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">    bottom: 0px;</span><br><span class="line">    line-height: 30px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    position: static;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>嘿嘿，我觉得这个css写得有些牵强了。</p>
<p>好，我们先看看这个时候的效果：</p>
<p><img src="/images/pasted-22.png" alt="upload successful"></p>
<h5 id="JavaScript编写？"><a href="#JavaScript编写？" class="headerlink" title="JavaScript编写？"></a>JavaScript编写？</h5><p>很明显，中间的格子都没有摆放整齐。</p>
<p>没事，我们接下来，就使用js将格子摆放整齐。</p>
<p>从设计图中，我们很容易看出。</p>
<p>单元格（0,0）对应的left与top值应该是：10px , 10px</p>
<p>单元格（0,1）对应的left与top值应该是：10+60px , 10px</p>
<p>单元格（0,2）对应的left与top值应该是：10+60px+60px , 10px</p>
<p>…………..依次类推</p>
<p>可以得到两个函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLeftPos</span>(<span class="params">i,j</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>+<span class="number">60</span>*j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTopPos</span>(<span class="params">i,j</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>+<span class="number">60</span>*i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那个，初始化内部16个单元的function怎么写呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init_grid</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt;= <span class="number">3</span>; j++) &#123;</span><br><span class="line">            $cell = $(<span class="string">"#box-cell-"</span> + i + <span class="string">"-"</span> + j);</span><br><span class="line">            $cell.css(<span class="string">"left"</span>, getLeftPos(i, j));</span><br><span class="line">            $cell.css(<span class="string">"top"</span>, getTopPos(i, j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ok，真的挺有意思的。</p>
<p>看看demo效果图</p>
<p><img src="/images/pasted-23.png" alt="upload successful"></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>