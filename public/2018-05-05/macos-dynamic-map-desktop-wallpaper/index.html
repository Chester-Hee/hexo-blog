<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="code farmer."><title>MacOs 动态地图桌面壁纸 | 追赶日落日出</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?66bdd0a984d281716c78a567d1f39e67";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">首页</a><a class="sidebar-nav-item" href="/archives">归档</a><a class="sidebar-nav-item" href="/about">关于我</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Python/">Python</a></div><div class="post-time">2018-05-05</div></div></div><div class="container post-header"><h1>MacOs 动态地图桌面壁纸</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#炫酷动态地球壁纸配置"><span class="toc-number">1.</span> <span class="toc-text">炫酷动态地球壁纸配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-himawaripy"><span class="toc-number">1.1.</span> <span class="toc-text">安装 himawaripy</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-git-下载源代码"><span class="toc-number">1.1.1.</span> <span class="toc-text">使用 git 下载源代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python3-运行安装脚本"><span class="toc-number">1.1.2.</span> <span class="toc-text">Python3 运行安装脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#运行测试"><span class="toc-number">1.1.3.</span> <span class="toc-text">运行测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#himawaripy-命令部分参数介绍"><span class="toc-number">1.1.4.</span> <span class="toc-text">himawaripy 命令部分参数介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MacOS-已经放弃-crontab-可以选择-launchd-服务管理工具。"><span class="toc-number">1.2.</span> <span class="toc-text">MacOS 已经放弃 crontab , 可以选择 launchd 服务管理工具。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果展示"><span class="toc-number">1.3.</span> <span class="toc-text">效果展示</span></a></li></ol></li></ol></details></div><div class="container post-content"><h2 id="炫酷动态地球壁纸配置"><a href="#炫酷动态地球壁纸配置" class="headerlink" title="炫酷动态地球壁纸配置"></a>炫酷动态地球壁纸配置</h2><p>himawaripy 是基于 Python3 编写的脚本，用于实时获取 <code>向日葵 8 号 卫星 (ひまわり8号)</code> 拍摄的地球地图，并设置为你的桌面壁纸。</p>
<p>向日葵 8 号 卫星 (ひまわり8号)，搭载日本气象厅新型气象卫星“向日葵8号”的H2A火箭25号机于2014年10月7日14时16分从鹿儿岛县南种子町宇宙航空研究开发机构种子岛宇宙中心发射升空。“向日葵8号”搭载的传感器性能，观测频率高，有望在监测暴雨云团、台风动向以及持续对喷发活动的火山等防灾领域做出贡献</p>
<h3 id="安装-himawaripy"><a href="#安装-himawaripy" class="headerlink" title="安装 himawaripy"></a>安装 himawaripy</h3><h4 id="使用-git-下载源代码"><a href="#使用-git-下载源代码" class="headerlink" title="使用 git 下载源代码"></a>使用 git 下载源代码</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">git clone https://github.com/boramalper/himawaripy.git</span><br></pre></td></tr></table></figure>
<h4 id="Python3-运行安装脚本"><a href="#Python3-运行安装脚本" class="headerlink" title="Python3 运行安装脚本"></a>Python3 运行安装脚本</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python3 setup.py install</span><br></pre></td></tr></table></figure>
<h4 id="运行测试"><a href="#运行测试" class="headerlink" title="运行测试"></a>运行测试</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">himawaripy --auto-offset</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 成功打印信息，并自动更替桌面壁纸</span><br><span class="line"></span><br><span class="line">himawaripy 2.0.1</span><br><span class="line">Updating...</span><br><span class="line">Latest version: 2018/05/09 00:50:00 GMT.</span><br><span class="line">Downloading tiles...</span><br><span class="line">Downloading tiles: 1/16 completed...</span><br><span class="line">Downloading tiles: 2/16 completed...</span><br><span class="line">Downloading tiles: 3/16 completed...</span><br><span class="line">Downloading tiles: 4/16 completed...</span><br><span class="line">Downloading tiles: 5/16 completed...</span><br><span class="line">Downloading tiles: 6/16 completed...</span><br><span class="line">Downloading tiles: 7/16 completed...</span><br><span class="line">Downloading tiles: 8/16 completed...</span><br><span class="line">Downloading tiles: 9/16 completed...</span><br><span class="line">Downloading tiles: 10/16 completed...</span><br><span class="line">Downloading tiles: 11/16 completed...</span><br><span class="line">Downloading tiles: 12/16 completed...</span><br><span class="line">Downloading tiles: 13/16 completed...</span><br><span class="line">Downloading tiles: 14/16 completed...</span><br><span class="line">Downloading tiles: 15/16 completed...</span><br><span class="line">Downloading tiles: completed.</span><br><span class="line">Saving to '/Users/helingfeng/Library/Caches/himawaripy/himawari-20180509T005000.png'...</span><br></pre></td></tr></table></figure>
<h4 id="himawaripy-命令部分参数介绍"><a href="#himawaripy-命令部分参数介绍" class="headerlink" title="himawaripy 命令部分参数介绍"></a>himawaripy 命令部分参数介绍</h4><p>-l level 缩写，可选 4，8，16，20。表示下载图片的质量，也就是瓦片数，n 就代表有 2的 n 次方张瓦片组合成的图片。</p>
<p>其他参数，参考帮助文档<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">usage: himawaripy [-h] [--version] [--auto-offset | -o OFFSET]</span><br><span class="line">                  [-l &#123;4,8,16,20&#125;] [-d DEADLINE] [--save-battery]</span><br><span class="line">                  [--output-dir OUTPUT_DIR]</span><br><span class="line"></span><br><span class="line">set (near-realtime) picture of Earth as your desktop background</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  --version             show program's version number and exit</span><br><span class="line">  --auto-offset         determine offset automatically</span><br><span class="line">  -o OFFSET, --offset OFFSET</span><br><span class="line">                        UTC time offset in hours, must be less than or equal</span><br><span class="line">                        to +10</span><br><span class="line">  -l &#123;4,8,16,20&#125;, --level &#123;4,8,16,20&#125;</span><br><span class="line">                        increases the quality (and the size) of each tile.</span><br><span class="line">                        possible values are 4, 8, 16, 20</span><br><span class="line">  -d DEADLINE, --deadline DEADLINE</span><br><span class="line">                        deadline in minutes to download all the tiles, set 0</span><br><span class="line">                        to cancel</span><br><span class="line">  --save-battery        stop refreshing on battery</span><br><span class="line">  --output-dir OUTPUT_DIR</span><br><span class="line">                        directory to save the temporary background image</span><br><span class="line"></span><br><span class="line">http://labs.boramalper.org/himawaripy</span><br></pre></td></tr></table></figure></p>
<h3 id="MacOS-已经放弃-crontab-可以选择-launchd-服务管理工具。"><a href="#MacOS-已经放弃-crontab-可以选择-launchd-服务管理工具。" class="headerlink" title="MacOS 已经放弃 crontab , 可以选择 launchd 服务管理工具。"></a>MacOS 已经放弃 crontab , 可以选择 launchd 服务管理工具。</h3><p>配置定时任务 600s , 定时运行 himawaripy 生成新的地图壁纸。</p>
<p>从 git 下载源代码 osx 目录拷贝 plist 文件。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/Library/LaunchAgents/</span><br><span class="line">cp osx/org.boramalper.himawaripy.plist ~/Library/LaunchAgents/</span><br></pre></td></tr></table></figure></p>
<p>启动定时服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">launchctl load ~/Library/LaunchAgents/org.boramalper.himawaripy.plist</span><br></pre></td></tr></table></figure>
<h3 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h3><p><img src="/images/screen_3.png" alt="screen3"></p>
<p>完成，我们静静感受吧~</p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>